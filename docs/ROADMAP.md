---
status: canonical
scope: ops
owner: core-team
last_reviewed: 2025-12-20
---

# é–‹ç™ºãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

## ç›®æ¨™

**ãƒ‡ãƒ¢ç‰ˆå…¬é–‹**: ä»‹è­·æ–½è¨­å‘ã‘ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ—ãƒªã®ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‚’å‹•ä½œå¯èƒ½ãªçŠ¶æ…‹ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã€é–¢ä¿‚è€…ã«ãƒ‡ãƒ¢ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ãã‚‹çŠ¶æ…‹ã«ã™ã‚‹ã€‚

---

## å…¨ä½“ãƒ•ãƒ­ãƒ¼å›³

```mermaid
flowchart TD
    subgraph "Phase 1: åŸºç›¤æ§‹ç¯‰"
        P1A[1-1 GCPãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ]
        P1B[1-2 FirebaseåˆæœŸåŒ–]
        P1C[1-3 APIæœ‰åŠ¹åŒ–]
        P1D[1-4 ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®š]
        P1E[1-5 ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒæ§‹ç¯‰]
        P1A --> P1B --> P1C --> P1D --> P1E
    end

    subgraph "Phase 2: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£…"
        P2A[2-1 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ä½œæˆ]
        P2B[2-2 å…±é€šã‚µãƒ¼ãƒ“ã‚¹å®Ÿè£…]
        P2C[2-3 Flow A: syncPlanData]
        P2D[2-4 Flow B: submitCareRecord]
        P2E[2-5 Flow C: submitFamilyRequest]
        P2F[2-6 ç”»åƒé€£æºæ©Ÿèƒ½]
        P2A --> P2B --> P2C --> P2D --> P2E --> P2F
    end

    subgraph "Phase 3: ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»æ¤œè¨¼"
        P3A[3-1 Firestoreãƒ«ãƒ¼ãƒ«è¨­å®š]
        P3B[3-2 Cloud Runãƒ‡ãƒ—ãƒ­ã‚¤]
        P3C[3-3 ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆç–é€šç¢ºèª]
        P3D[3-4 ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆé€£æºãƒ†ã‚¹ãƒˆ]
        P3A --> P3B --> P3C --> P3D
    end

    subgraph "Phase 4: ãƒ‡ãƒ¢æº–å‚™"
        P4A[4-1 å‹•ä½œç¢ºèªç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ]
        P4B[4-2 ãƒ‡ãƒ¢ã‚·ãƒŠãƒªã‚ªä½œæˆ]
        P4C[4-3 ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™]
        P4D[4-4 ãƒ‡ãƒ¢å®Ÿæ–½]
        P4A --> P4B --> P4C --> P4D
    end

    P1E --> P2A
    P2F --> P3A
    P3D --> P4A

    style P1A fill:#e3f2fd
    style P1E fill:#e3f2fd
    style P2A fill:#fff3e0
    style P2F fill:#fff3e0
    style P3A fill:#e8f5e9
    style P3D fill:#e8f5e9
    style P4D fill:#f3e5f5
```

---

## Phase 1: åŸºç›¤æ§‹ç¯‰

GCP/Firebaseã®ç’°å¢ƒã‚’CLIã§æ§‹ç¯‰ã™ã‚‹ã€‚

### 1-1. GCPãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ

```bash
# æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
gcloud projects create facility-care-demo --name="Facility Care Demo"

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é¸æŠ
gcloud config set project facility-care-demo

# è«‹æ±‚å…ˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ãƒªãƒ³ã‚¯ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
gcloud billing accounts list
gcloud billing projects link facility-care-demo --billing-account=BILLING_ACCOUNT_ID
```

**æˆæœç‰©**: GCPãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ `facility-care-demo`

### 1-2. FirebaseåˆæœŸåŒ–

```bash
# Firebase CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«è¿½åŠ 
firebase projects:addfirebase facility-care-demo

# ãƒ­ãƒ¼ã‚«ãƒ«ã§FirebaseåˆæœŸåŒ–
firebase init
# é¸æŠ: Firestore, Functions, Emulators
```

**æˆæœç‰©**: `firebase.json`, `.firebaserc`

### 1-3. APIæœ‰åŠ¹åŒ–

```bash
# å¿…è¦ãªAPIã‚’æœ‰åŠ¹åŒ–
gcloud services enable \
  cloudfunctions.googleapis.com \
  run.googleapis.com \
  firestore.googleapis.com \
  sheets.googleapis.com \
  drive.googleapis.com \
  cloudbuild.googleapis.com
```

**æˆæœç‰©**: 5ã¤ã®APIãŒæœ‰åŠ¹åŒ–ã•ã‚ŒãŸçŠ¶æ…‹

### 1-4. ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®š

```bash
# ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ
gcloud iam service-accounts create facility-care-sa \
  --display-name="Facility Care Service Account"

# æ¨©é™ä»˜ä¸
gcloud projects add-iam-policy-binding facility-care-demo \
  --member="serviceAccount:facility-care-sa@facility-care-demo.iam.gserviceaccount.com" \
  --role="roles/datastore.user"

# Sheets/Driveç”¨ã®ã‚­ãƒ¼ç”Ÿæˆï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
gcloud iam service-accounts keys create ./keys/sa-key.json \
  --iam-account=facility-care-sa@facility-care-demo.iam.gserviceaccount.com
```

**æˆæœç‰©**: ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€èªè¨¼ã‚­ãƒ¼

### 1-5. ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒæ§‹ç¯‰

```bash
# Functionsç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
cd functions
npm init -y
npm install firebase-functions firebase-admin googleapis

# TypeScriptè¨­å®š
npm install -D typescript @types/node
npx tsc --init
```

**æˆæœç‰©**: `functions/package.json`, `functions/tsconfig.json`

### Phase 1 å®Œäº†æ¡ä»¶

- [ ] `gcloud projects describe facility-care-demo` ãŒæˆåŠŸ
- [ ] `firebase projects:list` ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒè¡¨ç¤º
- [ ] `gcloud services list --enabled` ã§5ã¤ã®APIãŒç¢ºèªå¯èƒ½
- [ ] `firebase emulators:start` ãŒèµ·å‹•å¯èƒ½

---

## Phase 2: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£…

Cloud Run functionsã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè£…ã™ã‚‹ã€‚

### 2-1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ä½œæˆ

```
functions/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts              # ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ sheets.ts         # ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆIDå®šæ•°
â”‚   â”œâ”€â”€ functions/
â”‚   â”‚   â”œâ”€â”€ syncPlanData.ts
â”‚   â”‚   â”œâ”€â”€ submitCareRecord.ts
â”‚   â”‚   â”œâ”€â”€ submitFamilyRequest.ts
â”‚   â”‚   â””â”€â”€ uploadCareImage.ts
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ sheetsService.ts
â”‚   â”‚   â”œâ”€â”€ firestoreService.ts
â”‚   â”‚   â””â”€â”€ driveService.ts
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ index.ts
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

**æˆæœç‰©**: ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

### 2-2. å…±é€šã‚µãƒ¼ãƒ“ã‚¹å®Ÿè£…

| ãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ |
|----------|------|
| `sheetsService.ts` | Sheets APIèª­ã¿å–ã‚Šãƒ»è¿½è¨˜ |
| `firestoreService.ts` | Firestore CRUDæ“ä½œ |
| `driveService.ts` | Drive ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ»URLç”Ÿæˆ |

**æˆæœç‰©**: 3ã¤ã®ã‚µãƒ¼ãƒ“ã‚¹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«

### 2-3. Flow A: syncPlanData

- Sheet Aï¼ˆè¨˜éŒ²ã®çµæœï¼‰ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—
- Firestoreã¸æ´—ã„æ›¿ãˆåŒæœŸ
- å…¨ã‚·ãƒ¼ãƒˆå‹•çš„ã‚¹ã‚­ãƒ£ãƒ³å¯¾å¿œ

**æˆæœç‰©**: `syncPlanData.ts`ã€ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆå®Œäº†

### 2-4. Flow B: submitCareRecord

- ã‚±ã‚¢å®Ÿç¸¾ã‚’Sheet Bã«è¿½è¨˜
- **Boté€£æºãƒãƒƒã‚¯å®Ÿè£…**ï¼ˆé–“é£Ÿâ†’ç‰¹è¨˜äº‹é …+é‡è¦åº¦ï¼‰
- ç”»åƒURLå¯¾å¿œ

**æˆæœç‰©**: `submitCareRecord.ts`ã€Boté€£æºå‹•ä½œç¢ºèª

### 2-5. Flow C: submitFamilyRequest

- å®¶æ—è¦æœ›ã‚’Firestoreã«ä¿å­˜
- ã‚«ãƒ†ã‚´ãƒªãƒ»å„ªå…ˆåº¦å¯¾å¿œ

**æˆæœç‰©**: `submitFamilyRequest.ts`

### 2-6. ç”»åƒé€£æºæ©Ÿèƒ½

- ç”»åƒã‚’Driveã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- å…¬é–‹URLç”Ÿæˆ
- Sheet Bã¸ã®è¨˜éŒ²

**æˆæœç‰©**: `uploadCareImage.ts`

### Phase 2 å®Œäº†æ¡ä»¶

- [ ] `npm run build` ãŒã‚¨ãƒ©ãƒ¼ãªãå®Œäº†
- [ ] Emulatorã§å…¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒå¿œç­”
- [ ] ãƒ­ãƒ¼ã‚«ãƒ«ã§Sheet Aèª­ã¿å–ã‚Šãƒ†ã‚¹ãƒˆæˆåŠŸ
- [ ] ãƒ­ãƒ¼ã‚«ãƒ«ã§Sheet Bæ›¸ãè¾¼ã¿ãƒ†ã‚¹ãƒˆæˆåŠŸ

---

## Phase 3: ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»æ¤œè¨¼

æœ¬ç•ªç’°å¢ƒï¼ˆCloud Runï¼‰ã¸ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã€å‹•ä½œç¢ºèªã‚’è¡Œã†ã€‚

### 3-1. Firestoreãƒ«ãƒ¼ãƒ«è¨­å®š

```bash
# Dev Modeç”¨ãƒ«ãƒ¼ãƒ«ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤
firebase deploy --only firestore:rules
```

```javascript
// firestore.rules (Dev Mode)
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if true;
    }
  }
}
```

**æˆæœç‰©**: Firestoreãƒ«ãƒ¼ãƒ«ãŒãƒ‡ãƒ—ãƒ­ã‚¤æ¸ˆã¿

### 3-2. Cloud Runãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# å…¨Functionsã‚’ãƒ‡ãƒ—ãƒ­ã‚¤
firebase deploy --only functions

# ã¾ãŸã¯å€‹åˆ¥ãƒ‡ãƒ—ãƒ­ã‚¤
firebase deploy --only functions:syncPlanData
firebase deploy --only functions:submitCareRecord
firebase deploy --only functions:submitFamilyRequest
firebase deploy --only functions:uploadCareImage
```

**æˆæœç‰©**: 4ã¤ã®Cloud Run functionsãŒãƒ‡ãƒ—ãƒ­ã‚¤æ¸ˆã¿

### 3-3. ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆç–é€šç¢ºèª

```bash
# å„ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ç–é€šç¢ºèª
curl -X POST https://[REGION]-[PROJECT].cloudfunctions.net/syncPlanData \
  -H "Content-Type: application/json" \
  -d '{"triggeredBy": "manual"}'

curl -X POST https://[REGION]-[PROJECT].cloudfunctions.net/submitFamilyRequest \
  -H "Content-Type: application/json" \
  -d '{"userId":"F001","residentId":"R001","category":"meal","content":"ãƒ†ã‚¹ãƒˆ","priority":"low"}'
```

**æˆæœç‰©**: å…¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒ200ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™

### 3-4. ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆé€£æºãƒ†ã‚¹ãƒˆ

| ãƒ†ã‚¹ãƒˆé …ç›® | ç¢ºèªå†…å®¹ |
|------------|----------|
| Sheet A èª­ã¿å–ã‚Š | Firestoreã«ãƒ‡ãƒ¼ã‚¿ãŒåŒæœŸã•ã‚Œã‚‹ |
| Sheet B æ›¸ãè¾¼ã¿ | è¡ŒãŒè¿½åŠ ã•ã‚Œã‚‹ |
| Boté€£æºãƒãƒƒã‚¯ | é–“é£Ÿå…¥åŠ›æ™‚ã«ã€Œé‡è¦ã€ãƒ•ãƒ©ã‚°ãŒã‚»ãƒƒãƒˆã•ã‚Œã‚‹ |
| ç”»åƒé€£æº | Driveã«ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒURLãŒè¨˜éŒ²ã•ã‚Œã‚‹ |

**æˆæœç‰©**: å…¨ãƒ†ã‚¹ãƒˆé …ç›®ãŒãƒ‘ã‚¹

### Phase 3 å®Œäº†æ¡ä»¶

- [ ] `firebase deploy` ãŒæˆåŠŸ
- [ ] æœ¬ç•ªURLã§å…¨APIãŒå¿œç­”
- [ ] Sheet A â†’ FirestoreåŒæœŸãŒå‹•ä½œ
- [ ] Sheet B ã¸ã®è¿½è¨˜ãŒå‹•ä½œ
- [ ] Boté€£æºï¼ˆé‡è¦ãƒ•ãƒ©ã‚°ï¼‰ãŒå‹•ä½œç¢ºèªæ¸ˆã¿

---

## Phase 4: ãƒ‡ãƒ¢ç‰ˆPWAé–‹ç™º

èª­ã¿å–ã‚Šå°‚ç”¨ã®PWAã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹ç™ºã—ã€ãƒ¢ãƒã‚¤ãƒ«ã§Sheet Aãƒ‡ãƒ¼ã‚¿ã‚’é–²è¦§å¯èƒ½ã«ã™ã‚‹ã€‚

### 4-1. PWAåŸºç›¤æ§‹ç¯‰

```bash
# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
npm create vite@latest frontend -- --template react-ts
cd frontend
npm install

# PWAé–¢é€£ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
npm install vite-plugin-pwa workbox-window

# UIãƒ»çŠ¶æ…‹ç®¡ç†
npm install @tanstack/react-query tailwindcss
npx tailwindcss init -p
```

**æˆæœç‰©**: `frontend/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€PWAè¨­å®šå®Œäº†

### 4-2. ç”»é¢å®Ÿè£…

| ç”»é¢ | æ©Ÿèƒ½ |
|------|------|
| HOME | ã‚·ãƒ¼ãƒˆä¸€è¦§ï¼ˆ11ã‚·ãƒ¼ãƒˆï¼‰ã€åŒæœŸã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã€æ‰‹å‹•åŒæœŸãƒœã‚¿ãƒ³ |
| SHEET_DETAIL | é¸æŠã‚·ãƒ¼ãƒˆã®ãƒ‡ãƒ¼ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤º |

**æˆæœç‰©**: React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç¾¤

### 4-3. åŒæœŸæ©Ÿèƒ½å®Ÿè£…

| æ©Ÿèƒ½ | å®Ÿè£… |
|------|------|
| è‡ªå‹•åŒæœŸ | 15åˆ†ã”ã¨ï¼ˆsetInterval / React Query refetchIntervalï¼‰ |
| æ‰‹å‹•åŒæœŸ | ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§å³åº§ã«APIå‘¼ã³å‡ºã— |
| åŒæœŸçŠ¶æ…‹è¡¨ç¤º | æœ€çµ‚åŒæœŸæ—¥æ™‚ã€åŒæœŸä¸­ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ |

```typescript
// React Query ã«ã‚ˆã‚‹åŒæœŸè¨­å®šä¾‹
const { data, refetch, isFetching } = useQuery({
  queryKey: ['planData'],
  queryFn: fetchPlanData,
  refetchInterval: 15 * 60 * 1000, // 15åˆ†
  staleTime: 5 * 60 * 1000, // 5åˆ†é–“ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä½¿ç”¨
});
```

**æˆæœç‰©**: åŒæœŸãƒ­ã‚¸ãƒƒã‚¯ã€UIè¡¨ç¤º

### 4-4. Firebase Hosting ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# Firebase Hosting åˆæœŸåŒ–ï¼ˆæ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼‰
firebase init hosting
# public: frontend/dist
# SPA: Yes

# ãƒ“ãƒ«ãƒ‰ï¼†ãƒ‡ãƒ—ãƒ­ã‚¤
cd frontend
npm run build
cd ..
firebase deploy --only hosting
```

**æˆæœç‰©**: `https://facility-care-input-form.web.app` ã§PWAå…¬é–‹

### 4-5. ãƒ¢ãƒã‚¤ãƒ«å®Ÿæ©Ÿãƒ†ã‚¹ãƒˆ

| ãƒ†ã‚¹ãƒˆé …ç›® | ç¢ºèªå†…å®¹ |
|------------|----------|
| ãƒ›ãƒ¼ãƒ ç”»é¢è¿½åŠ  | PWAã¨ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½ |
| ã‚·ãƒ¼ãƒˆä¸€è¦§è¡¨ç¤º | å…¨11ã‚·ãƒ¼ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ |
| ãƒ‡ãƒ¼ã‚¿é–²è¦§ | å„ã‚·ãƒ¼ãƒˆã®ãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãè¡¨ç¤º |
| æ‰‹å‹•åŒæœŸ | ãƒœã‚¿ãƒ³ã‚¿ãƒƒãƒ—ã§åŒæœŸå®Ÿè¡Œ |
| è‡ªå‹•åŒæœŸ | 15åˆ†å¾Œã«ãƒ‡ãƒ¼ã‚¿æ›´æ–° |
| ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ | æœ€çµ‚å–å¾—ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤º |

**æˆæœç‰©**: ãƒ†ã‚¹ãƒˆçµæœãƒ¬ãƒãƒ¼ãƒˆ

### Phase 4 å®Œäº†æ¡ä»¶

- [ ] PWAãŒFirebase Hostingã«ãƒ‡ãƒ—ãƒ­ã‚¤æ¸ˆã¿
- [ ] å…¨11ã‚·ãƒ¼ãƒˆã®ãƒ‡ãƒ¼ã‚¿ãŒé–²è¦§å¯èƒ½
- [ ] 15åˆ†ã”ã¨è‡ªå‹•åŒæœŸãŒå‹•ä½œ
- [ ] æ‰‹å‹•åŒæœŸãƒœã‚¿ãƒ³ãŒå‹•ä½œ
- [ ] ãƒ¢ãƒã‚¤ãƒ«ã§ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ å¯èƒ½
- [ ] é–¢ä¿‚è€…ã¸URLå…±æœ‰ãƒ»ãƒ‡ãƒ¢å®Ÿæ–½å®Œäº†

### Phase 4 ãƒ‡ãƒ¢ã‚·ãƒŠãƒªã‚ª

| # | ã‚·ãƒŠãƒªã‚ª | æ“ä½œ | æœŸå¾…çµæœ |
|---|----------|------|----------|
| 1 | ã‚¢ãƒ—ãƒªèµ·å‹• | PWA URLã«ã‚¢ã‚¯ã‚»ã‚¹ | ã‚·ãƒ¼ãƒˆä¸€è¦§ãŒè¡¨ç¤º |
| 2 | ã‚·ãƒ¼ãƒˆé¸æŠ | ã€Œé£Ÿäº‹ã€ã‚’ã‚¿ãƒƒãƒ— | é£Ÿäº‹ãƒ‡ãƒ¼ã‚¿ä¸€è¦§è¡¨ç¤º |
| 3 | æ‰‹å‹•åŒæœŸ | åŒæœŸãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ— | æœ€æ–°ãƒ‡ãƒ¼ã‚¿ã«æ›´æ–° |
| 4 | è‡ªå‹•åŒæœŸç¢ºèª | 15åˆ†å¾…æ©Ÿ | è‡ªå‹•çš„ã«ãƒ‡ãƒ¼ã‚¿æ›´æ–° |
| 5 | ãƒ›ãƒ¼ãƒ ç”»é¢è¿½åŠ  | ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¡ãƒ‹ãƒ¥ãƒ¼ | ã‚¢ãƒ—ãƒªã¨ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« |

---

## Phase 4.1: ã‚¿ãƒ–UIãƒ»æ±ç”¨ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ« âœ… å®Œäº†

ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®åˆ—æ§‹é€ ã‚’å‹•çš„ã«æ‰±ã†ãŸã‚ã®æ±ç”¨ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã‚’å®Ÿè£…ã€‚

### 4.1-1. æ±ç”¨ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«å¯¾å¿œ

| é …ç›® | å†…å®¹ |
|------|------|
| èª²é¡Œ | å„ã‚·ãƒ¼ãƒˆã®åˆ—æ§‹é€ ãŒç•°ãªã‚Šã€å›ºå®šã‚¹ã‚­ãƒ¼ãƒã§ã¯å¯¾å¿œä¸å¯ |
| è§£æ±ºç­– | åˆ—åã‚’ã‚­ãƒ¼ã¨ã—ãŸãƒãƒƒãƒ— (`data: Record<string, string>`) ã§ä¿å­˜ |
| æˆæœç‰© | `functions/src/types/index.ts`ã€`frontend/src/types/index.ts` |

### 4.1-2. ã‚¿ãƒ–å½¢å¼ã‚·ãƒ¼ãƒˆåˆ‡ã‚Šæ›¿ãˆ

- æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ãªã‚¿ãƒ–ãƒãƒ¼
- ã‚·ãƒ¼ãƒˆå + ãƒ¬ã‚³ãƒ¼ãƒ‰æ•°ãƒãƒƒã‚¸è¡¨ç¤º
- ã‚¿ãƒ–ã‚¿ãƒƒãƒ—ã§ã‚·ãƒ¼ãƒˆåˆ‡ã‚Šæ›¿ãˆ

**æˆæœç‰©**: `frontend/src/pages/HomePage.tsx`

### 4.1-3. åŒæœŸUXæ”¹å–„

- åŒæœŸæˆåŠŸæ™‚ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ï¼ˆã€Œã€‡ã‚·ãƒ¼ãƒˆ â–³ä»¶ã‚’åŒæœŸã—ã¾ã—ãŸã€ï¼‰
- åŒæœŸã‚¨ãƒ©ãƒ¼æ™‚ã‚¨ãƒ©ãƒ¼ãƒˆãƒ¼ã‚¹ãƒˆ
- åŒæœŸä¸­ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

**æˆæœç‰©**: `frontend/src/components/Header.tsx`

### 4.1-4. Firestoreã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹

```json
{
  "collectionGroup": "plan_data",
  "fields": [
    { "fieldPath": "sheetName", "order": "ASCENDING" },
    { "fieldPath": "timestamp", "order": "DESCENDING" }
  ]
}
```

**æˆæœç‰©**: `firestore.indexes.json`

### Phase 4.1 å®Œäº†æ¡ä»¶ âœ…

- [x] æ±ç”¨ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ãŒBackend/Frontendã§å®Ÿè£…
- [x] ã‚¿ãƒ–UIã§ã‚·ãƒ¼ãƒˆåˆ‡ã‚Šæ›¿ãˆå¯èƒ½
- [x] åŒæœŸãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ãŒå‹•ä½œ
- [x] Firestoreã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒä½œæˆæ¸ˆã¿

---

## Phase 4.2: ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ“ãƒ¥ãƒ¼ãƒ»æ¤œç´¢ãƒ»ã‚½ãƒ¼ãƒˆ âœ… å®Œäº†

ã‚«ãƒ¼ãƒ‰ãƒ“ãƒ¥ãƒ¼ã‹ã‚‰ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ“ãƒ¥ãƒ¼ã¸å¤‰æ›´ã—ã€æ¤œç´¢ãƒ»ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½ã‚’è¿½åŠ ã€‚

### 4.2-1. ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ“ãƒ¥ãƒ¼å®Ÿè£…

| é …ç›® | ä»•æ§˜ |
|------|------|
| ãƒ˜ãƒƒãƒ€ãƒ¼ | ã‚·ãƒ¼ãƒˆã®ã‚«ãƒ©ãƒ åã‚’å‹•çš„è¡¨ç¤º |
| ãƒœãƒ‡ã‚£ | å„ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’è¡Œã¨ã—ã¦è¡¨ç¤º |
| æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« | ã‚«ãƒ©ãƒ æ•°ãŒå¤šã„å ´åˆå¯¾å¿œ |

### 4.2-2. æ¤œç´¢ãƒ•ã‚£ãƒ«ã‚¿

- å…¥å±…è€…åã€ã‚¹ã‚¿ãƒƒãƒ•åã§ã®éƒ¨åˆ†ä¸€è‡´æ¤œç´¢
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ•ã‚£ãƒ«ã‚¿é©ç”¨

### 4.2-3. ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½

- æ—¥æ™‚ã€å…¥å±…è€…åã€ã‚¹ã‚¿ãƒƒãƒ•åã§ã‚½ãƒ¼ãƒˆ
- æ˜‡é †/é™é †åˆ‡ã‚Šæ›¿ãˆ

### 4.2-4. ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³

- 1ãƒšãƒ¼ã‚¸ã‚ãŸã‚Š50ä»¶è¡¨ç¤º
- å‰ã¸/æ¬¡ã¸ãƒœã‚¿ãƒ³
- ç¾åœ¨ãƒšãƒ¼ã‚¸/ç·ãƒšãƒ¼ã‚¸æ•°è¡¨ç¤º

### 4.2-5. è©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ«

è¡Œã‚¯ãƒªãƒƒã‚¯/ã‚¿ãƒƒãƒ—ã§å…¨ã‚«ãƒ©ãƒ ã®è©³ç´°æƒ…å ±ã‚’ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—è¡¨ç¤ºã€‚

| é …ç›® | ä»•æ§˜ |
|------|------|
| ãƒˆãƒªã‚¬ãƒ¼ | ãƒ†ãƒ¼ãƒ–ãƒ«è¡Œã‚’ã‚¯ãƒªãƒƒã‚¯/ã‚¿ãƒƒãƒ— |
| è¡¨ç¤ºå†…å®¹ | é¸æŠãƒ¬ã‚³ãƒ¼ãƒ‰ã®å…¨ã‚«ãƒ©ãƒ ã‚’ãƒ©ãƒ™ãƒ«:å€¤å½¢å¼ã§è¡¨ç¤º |
| ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ | **ç”»é¢ä¸­å¤®**ã«é…ç½®ï¼ˆãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³ï¼‰ |
| ã‚µã‚¤ã‚º | å¹…: 90%ï¼ˆmax 600pxï¼‰ã€é«˜ã•: æœ€å¤§80vh |
| é–‰ã˜ã‚‹ | èƒŒæ™¯ã‚¿ãƒƒãƒ— or Ã—ãƒœã‚¿ãƒ³ or ESCã‚­ãƒ¼ |
| åˆ©ç‚¹ | æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä¸è¦ã§å…¨æƒ…å ±ã‚’ä¸€è¦§å¯èƒ½ã€è¦–èªæ€§ãŒé«˜ã„ |

**è¨­è¨ˆã®ç†ç”±**:
- ã‚«ãƒ©ãƒ æ•°ãŒå¤šã„ãƒ‡ãƒ¼ã‚¿ã¯ä¸­å¤®é…ç½®ã®æ–¹ãŒè¦–èªæ€§ãŒé«˜ã„
- ãƒœãƒˆãƒ ã‚·ãƒ¼ãƒˆå½¢å¼ã¯æƒ…å ±é‡ãŒå°‘ãªã„å ´åˆã«é©ã—ã¦ã„ã‚‹ãŒã€ä»Šå›ã®ãƒ‡ãƒ¼ã‚¿ã«ã¯ä¸å‘ã
- ãƒ¢ãƒã‚¤ãƒ«ãƒ»ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ä¸¡æ–¹ã§é©åˆ‡ãªã‚µã‚¤ã‚ºã«å¯¾å¿œ

```
+----------------------------------------------------------+
|                                                          |
|    +------------------------------------------------+    |
|    |  [Ã—]                                           |    |
|    |  è¡€ç³–å€¤ã‚¤ãƒ³ã‚¹ãƒªãƒ³æŠ•ä¸ è©³ç´°                       |    |
|    |  2025/12/12 19:34:17                           |    |
|    +------------------------------------------------+    |
|    |                                                |    |
|    |  æ—¥æ™‚              2025/12/12 19:34:17         |    |
|    |  ã‚¹ã‚¿ãƒƒãƒ•å        ãƒªãƒ¼                         |    |
|    |  å…¥å±…è€…å          215_è’²åœ° ã‚­ãƒŒãƒ±æ§˜(ID7282)   |    |
|    |  ç‰¹è¨˜äº‹é …          ã€ã‚±ã‚¢ã«é–¢ã™ã‚‹ã“ã¨ã€‘         |    |
|    |  ...                                           |    |
|    |                                                |    |
|    |  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    |    |
|    |  åŒæœŸæ—¥æ™‚: 2025/12/13 17:57:08                 |    |
|    +------------------------------------------------+    |
|                                                          |
+----------------------------------------------------------+
```

### Phase 4.2 å®Œäº†æ¡ä»¶ âœ…

- [x] ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ“ãƒ¥ãƒ¼ãŒã‚«ãƒ¼ãƒ‰ãƒ“ãƒ¥ãƒ¼ã‚’ç½®ãæ›ãˆ
- [x] æ¤œç´¢ãƒ•ã‚£ãƒ«ã‚¿ãŒå‹•ä½œ
- [x] ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½ãŒå‹•ä½œ
- [x] ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãŒå‹•ä½œ
- [x] è©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ«ãŒå‹•ä½œ
- [x] Firebase Hostingã¸å†ãƒ‡ãƒ—ãƒ­ã‚¤

---

## Phase 4.3: å…¨ã‚·ãƒ¼ãƒˆåŒæœŸ + å¹´æœˆãƒ•ã‚£ãƒ«ã‚¿ âœ… å®Œäº†

**ç›®çš„**: Firestoreãƒãƒƒãƒåˆ¶é™ã‚’è§£æ¶ˆã—ã€å…¨11ã‚·ãƒ¼ãƒˆã‚’åŒæœŸå¯èƒ½ã«ã™ã‚‹ã€‚å¹´ãƒ»æœˆãƒ•ã‚£ãƒ«ã‚¿UIã§å¤§é‡ãƒ‡ãƒ¼ã‚¿ã‚’åŠ¹ç‡çš„ã«é–²è¦§å¯èƒ½ã«ã™ã‚‹ã€‚

### 4.3-1. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ä¿®æ­£ï¼ˆãƒãƒƒãƒåˆ†å‰²ï¼‰

**å•é¡Œ**: Firestoreã®ãƒãƒƒãƒæ›¸ãè¾¼ã¿ã¯500ä»¶/ãƒãƒƒãƒã¾ã§ã®åˆ¶é™ãŒã‚ã‚Šã€å¤§é‡ãƒ‡ãƒ¼ã‚¿ï¼ˆé£Ÿäº‹1,482ä»¶ãªã©ï¼‰ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã„ã‚‹ã€‚

**è§£æ±ºç­–**: 400ä»¶ãšã¤ãƒãƒƒãƒã‚’åˆ†å‰²ã—ã¦æ›¸ãè¾¼ã¿

```typescript
// firestoreService.ts
const BATCH_SIZE = 400;

async function syncSheetData(sheetName: string, records: PlanDataRecord[]): Promise<number> {
  const db = getFirestore();
  const collectionRef = db.collection('plan_data');

  // 1. æ—¢å­˜ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ï¼ˆã‚·ãƒ¼ãƒˆå˜ä½ï¼‰
  const existing = await collectionRef.where('sheetName', '==', sheetName).get();
  const deleteChunks = chunkArray(existing.docs, BATCH_SIZE);
  for (const chunk of deleteChunks) {
    const batch = db.batch();
    chunk.forEach(doc => batch.delete(doc.ref));
    await batch.commit();
  }

  // 2. æ–°è¦ãƒ‡ãƒ¼ã‚¿è¿½åŠ ï¼ˆãƒãƒƒãƒåˆ†å‰²ï¼‰
  const insertChunks = chunkArray(records, BATCH_SIZE);
  for (const chunk of insertChunks) {
    const batch = db.batch();
    chunk.forEach(record => {
      const docRef = collectionRef.doc();
      batch.set(docRef, record);
    });
    await batch.commit();
  }

  return records.length;
}

function chunkArray<T>(array: T[], size: number): T[][] {
  const chunks: T[][] = [];
  for (let i = 0; i < array.length; i += size) {
    chunks.push(array.slice(i, i + size));
  }
  return chunks;
}
```

**å½±éŸ¿ç¯„å›²**:
- `functions/src/services/firestoreService.ts` - `syncPlanData`é–¢æ•°ã®ä¿®æ­£

### 4.3-2. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ä¿®æ­£ï¼ˆå¹´ãƒ»æœˆãƒ•ã‚£ãƒ«ã‚¿UIï¼‰

**æ–°è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | å½¹å‰² |
|----------------|------|
| `YearPaginator.tsx` | å¹´åˆ‡ã‚Šæ›¿ãˆï¼ˆâ—€ 2025å¹´ â–¶ï¼‰ |
| `MonthFilter.tsx` | æœˆãƒ•ã‚£ãƒ«ã‚¿ã‚¿ãƒ–ï¼ˆå…¨æœˆ/1æœˆã€œ12æœˆï¼‰ |
| `MonthGroupHeader.tsx` | æœˆã‚°ãƒ«ãƒ¼ãƒ—ã‚»ãƒ‘ãƒ¬ãƒ¼ã‚¿ãƒ¼ |

**çŠ¶æ…‹ç®¡ç†**:

```typescript
// HomePage.tsx
const [selectedYear, setSelectedYear] = useState<number>(new Date().getFullYear());
const [selectedMonth, setSelectedMonth] = useState<number | null>(null); // null = å…¨æœˆ

// ãƒ•ã‚£ãƒ«ã‚¿é©ç”¨
const filteredRecords = useMemo(() => {
  return records.filter(record => {
    const date = new Date(record.timestamp);
    if (date.getFullYear() !== selectedYear) return false;
    if (selectedMonth !== null && date.getMonth() + 1 !== selectedMonth) return false;
    return true;
  });
}, [records, selectedYear, selectedMonth]);
```

**ç”»é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆDEMO_PWA_SPEC.mdå‚ç…§ï¼‰**:

```
+--------------------------------------------------+
|  ä»‹è­·è¨˜éŒ²ãƒ“ãƒ¥ãƒ¼ã‚¢                   [ğŸ”„ åŒæœŸ]    |
+--------------------------------------------------+
|  [â—€] [2025å¹´] [â–¶]                               |  â† å¹´ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
+--------------------------------------------------+
|  [å…¨æœˆ] [1æœˆ] [2æœˆ] ... [12æœˆ]  â†’                |  â† æœˆãƒ•ã‚£ãƒ«ã‚¿
+--------------------------------------------------+
|  [é£Ÿäº‹] [æ°´åˆ†] [æ’ä¾¿] [ãƒã‚¤ã‚¿ãƒ«] [...]  â†’        |  â† ã‚·ãƒ¼ãƒˆã‚¿ãƒ–
+--------------------------------------------------+
```

### 4.3-3. ãƒ‡ãƒ¼ã‚¿ç¢ºèª

ç¾åœ¨ã®ã‚·ãƒ¼ãƒˆåˆ¥ãƒ»å¹´åˆ¥ãƒ‡ãƒ¼ã‚¿é‡ï¼ˆå®Ÿæ¸¬å€¤ï¼‰:

| ã‚·ãƒ¼ãƒˆ | 2024å¹´ | 2025å¹´ | åˆè¨ˆ | ãƒãƒƒãƒæ•° |
|--------|--------|--------|------|----------|
| æ’ä¾¿ãƒ»æ’å°¿ | 675 | 1,985 | 2,660 | 7 |
| æ°´åˆ†æ‘‚å–é‡ | 441 | 1,626 | 2,067 | 6 |
| ç‰¹è¨˜äº‹é … | 389 | 1,533 | 1,922 | 5 |
| å£è…”ã‚±ã‚¢ | 409 | 1,094 | 1,503 | 4 |
| å†…æœ | 393 | 1,097 | 1,490 | 4 |
| é£Ÿäº‹ | 392 | 1,090 | 1,482 | 4 |
| è¡€ç³–å€¤ã‚¤ãƒ³ã‚¹ãƒªãƒ³æŠ•ä¸ | 379 | 1,077 | 1,456 | 4 |
| ãƒã‚¤ã‚¿ãƒ« | 139 | 450 | 589 | 2 |
| ä½“é‡ | 58 | 339 | 397 | 1 |
| å¾€è¨ºéŒ² | 14 | 33 | 47 | 1 |
| ã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹éŒ² | - | 1 | 1 | 1 |
| **åˆè¨ˆ** | **3,289** | **10,325** | **13,614** | **39** |

### Phase 4.3 å®Œäº†æ¡ä»¶ âœ…

- [x] ãƒãƒƒãƒåˆ†å‰²å®Ÿè£…ã§ã‚¨ãƒ©ãƒ¼ãªãå…¨ã‚·ãƒ¼ãƒˆåŒæœŸ
- [x] å…¨11ã‚·ãƒ¼ãƒˆãŒãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§é–²è¦§å¯èƒ½
- [x] å¹´ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãŒå‹•ä½œ
- [x] æœˆãƒ•ã‚£ãƒ«ã‚¿ãŒå‹•ä½œ
- [x] Firebase Hostingã¸å†ãƒ‡ãƒ—ãƒ­ã‚¤

---

## Phase 4.4: ã‚·ãƒ¼ãƒˆè¡¨ç¤ºé †åºä¿®æ­£ âœ… å®Œäº†

**ç›®çš„**: APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ã‚·ãƒ¼ãƒˆé †åºã‚’ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®ã‚¿ãƒ–é †åºã«ä¸€è‡´ã•ã›ã‚‹ã€‚

### 4.4-1. å•é¡Œ

- APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ã‚·ãƒ¼ãƒˆé †åºãŒã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®å…ƒã®ã‚¿ãƒ–é †åºã¨ç•°ãªã£ã¦ã„ãŸ
- åŸå› : `getPlanData.ts` ã§ `Map.entries()` ã‹ã‚‰é…åˆ—ä½œæˆæ™‚ã€Firestoreã‚¯ã‚¨ãƒªã®è¿”å´é †åºã«ä¾å­˜

### 4.4-2. è§£æ±ºç­–

**SHEET_A_ORDERå®šæ•°è¿½åŠ ** (`functions/src/config/sheets.ts`):

```typescript
export const SHEET_A_ORDER: string[] = [
  "é£Ÿäº‹",
  "æ°´åˆ†æ‘‚å–é‡",
  "æ’ä¾¿ãƒ»æ’å°¿",
  "ãƒã‚¤ã‚¿ãƒ«",
  "å£è…”ã‚±ã‚¢",
  "å†…æœ",
  "ç‰¹è¨˜äº‹é …",
  "è¡€ç³–å€¤ã‚¤ãƒ³ã‚¹ãƒªãƒ³æŠ•ä¸",
  "å¾€è¨ºéŒ²",
  "ä½“é‡",
  "ã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹éŒ²",
];
```

**ã‚½ãƒ¼ãƒˆå‡¦ç†è¿½åŠ ** (`functions/src/functions/getPlanData.ts`):

```typescript
const sheets: SheetSummary[] = Array.from(sheetMap.entries())
  .map(([name, info]) => ({ sheetName: name, ... }))
  .sort((a, b) => {
    const indexA = SHEET_A_ORDER.indexOf(a.sheetName);
    const indexB = SHEET_A_ORDER.indexOf(b.sheetName);
    return (indexA === -1 ? SHEET_A_ORDER.length : indexA) -
           (indexB === -1 ? SHEET_A_ORDER.length : indexB);
  });
```

### Phase 4.4 å®Œäº†æ¡ä»¶ âœ…

- [x] SHEET_A_ORDERå®šæ•°ã‚’sheets.tsã«è¿½åŠ 
- [x] getPlanDataã§ã‚·ãƒ¼ãƒˆé †åºã‚½ãƒ¼ãƒˆå‡¦ç†è¿½åŠ 
- [x] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°ï¼ˆSHEET_A_STRUCTURE.mdï¼‰
- [x] Cloud Functionsãƒ‡ãƒ—ãƒ­ã‚¤
- [x] curlã§æ¤œè¨¼ï¼ˆã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå…ƒé †åºã¨ä¸€è‡´ç¢ºèªï¼‰

---

## Phase 4.5: ãƒ‡ã‚¶ã‚¤ãƒ³æ”¹å–„ + å·®åˆ†åŒæœŸå®Ÿè£… (è¨ˆç”»ä¸­)

**ç›®çš„**:
1. ãƒ—ãƒ­Webãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã«åŸºã¥ãã€UIã®è¦–è¦šçš„å“è³ªã‚’å‘ä¸Šã•ã›ã‚‹
2. å·®åˆ†åŒæœŸã‚’å®Ÿè£…ã—ã€Firestoreã‚³ã‚¹ãƒˆã‚’æœ€é©åŒ–ã™ã‚‹

> **è©³ç´°**: [DESIGN_GUIDELINES.md](./DESIGN_GUIDELINES.md) ã‚’å‚ç…§

### 4.5-1. ç¾çŠ¶ã®å•é¡Œç‚¹

| å•é¡Œ | è©³ç´° |
|------|------|
| è¦–è¦šçš„éšå±¤ã®æ¬ å¦‚ | è¦ç´ é–“ã®åŒºåˆ¥ãŒã¤ãã«ãã„ã€è¦–ç·šèª˜å°ä¸è¶³ |
| ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆå˜èª¿ | é’ä¸€è‰²ã§å˜èª¿ã€ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚«ãƒ©ãƒ¼ãªã— |
| ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ | è¦‹å‡ºã—ãƒ»æœ¬æ–‡ã®åŒºåˆ¥ãŒæ›–æ˜§ |
| ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ | ä½™ç™½ä¸è¶³ã€ãƒ¢ãƒã‚¤ãƒ«æœ€é©åŒ–ä¸è¶³ |

### 4.5-2. æ”¹å–„è¨ˆç”»

#### é«˜å„ªå…ˆåº¦ï¼ˆå³æ™‚å¯¾å¿œï¼‰
- [ ] ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆé©ç”¨ï¼ˆTailwindè¨­å®šæ›´æ–°ï¼‰
- [ ] ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ‡ã‚¶ã‚¤ãƒ³æ”¹å–„ï¼ˆã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€å½±ï¼‰
- [ ] æœˆãƒ•ã‚£ãƒ«ã‚¿ãƒ»ã‚·ãƒ¼ãƒˆã‚¿ãƒ–ã®ã‚¹ã‚¿ã‚¤ãƒ«æ”¹å–„
- [ ] æ¤œç´¢ãƒãƒ¼ã®UIæ”¹å–„
- [ ] ãƒ†ãƒ¼ãƒ–ãƒ«ã®ã‚¼ãƒ–ãƒ©ã‚¹ãƒˆãƒ©ã‚¤ãƒ—ãƒ»ãƒ›ãƒãƒ¼è¿½åŠ 

#### ä¸­å„ªå…ˆåº¦ï¼ˆæ¬¡å›å¯¾å¿œï¼‰
- [ ] ã‚·ãƒ¼ãƒˆåˆ¥ã‚¢ã‚¤ã‚³ãƒ³è¿½åŠ 
- [ ] ãƒ¢ãƒã‚¤ãƒ«å‘ã‘ãƒœãƒˆãƒ ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
- [ ] ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³è¿½åŠ 

#### ä½å„ªå…ˆåº¦ï¼ˆå°†æ¥å¯¾å¿œï¼‰
- [ ] ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ

### 4.5-3. ã‚«ãƒ©ãƒ¼ã‚·ã‚¹ãƒ†ãƒ 

```
Primary: #2563EB (Blue 600)
Secondary: #10B981 (Emerald 500)
Warning: #F59E0B (Amber 500)
Error: #EF4444 (Red 500)
Accent: #14B8A6 (Teal)
```

### 4.5-4. ã‚·ãƒ¼ãƒˆåˆ¥ã‚¢ã‚¤ã‚³ãƒ³

| ã‚·ãƒ¼ãƒˆå | ã‚¢ã‚¤ã‚³ãƒ³ |
|----------|----------|
| é£Ÿäº‹ | ğŸ½ï¸ |
| æ°´åˆ†æ‘‚å–é‡ | ğŸ’§ |
| æ’ä¾¿ãƒ»æ’å°¿ | ğŸš» |
| ãƒã‚¤ã‚¿ãƒ« | â¤ï¸ |
| å£è…”ã‚±ã‚¢ | ğŸ¦· |
| å†…æœ | ğŸ’Š |
| ç‰¹è¨˜äº‹é … | ğŸ“ |
| è¡€ç³–å€¤ã‚¤ãƒ³ã‚¹ãƒªãƒ³æŠ•ä¸ | ğŸ’‰ |
| å¾€è¨ºéŒ² | ğŸ©º |
| ä½“é‡ | âš–ï¸ |
| ã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹éŒ² | ğŸ‘¥ |

### 4.5-5. å·®åˆ†åŒæœŸå®Ÿè£…ï¼ˆã‚³ã‚¹ãƒˆæœ€é©åŒ–ï¼‰

**ç¾çŠ¶ã®å•é¡Œ**:
- SYNC_STRATEGY.md ã§ã¯15åˆ†è‡ªå‹•åŒæœŸã¯ã€Œå·®åˆ†åŒæœŸã€ã¨å®šç¾©
- ã—ã‹ã—ç¾åœ¨ã®å®Ÿè£…ã¯è‡ªå‹•ãƒ»æ‰‹å‹•ã¨ã‚‚ã«ã€Œå®Œå…¨æ´—ã„æ›¿ãˆã€
- æœˆé–“ã‚³ã‚¹ãƒˆ: ç¾çŠ¶ ~$144/æœˆ â†’ å·®åˆ†åŒæœŸå®Ÿè£…å¾Œ ~$5-15/æœˆ (90%ä»¥ä¸Šå‰Šæ¸›)

**å®Ÿè£…è¨ˆç”»**:

1. **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ä¿®æ­£**
   - `syncPlanData` ã« `incremental: boolean` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¿½åŠ 
   - `incremental: true` ã®å ´åˆã€æœ€çµ‚åŒæœŸæ™‚åˆ»ä»¥é™ã®æ–°è¦ãƒ¬ã‚³ãƒ¼ãƒ‰ã®ã¿å–å¾—ãƒ»è¿½åŠ 
   - æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã¯å‰Šé™¤ã›ãšã€æ–°è¦è¿½åŠ ã®ã¿

2. **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ä¿®æ­£**
   - è‡ªå‹•åŒæœŸï¼ˆ15åˆ†ã”ã¨ï¼‰: `incremental: true` ã§å‘¼ã³å‡ºã—
   - æ‰‹å‹•åŒæœŸï¼ˆãƒœã‚¿ãƒ³ï¼‰: `incremental: false` ã§å®Œå…¨æ´—ã„æ›¿ãˆ

3. **å·®åˆ†æ¤œå‡ºãƒ­ã‚¸ãƒƒã‚¯**
   ```typescript
   // Firestoreã‹ã‚‰æœ€çµ‚åŒæœŸæ™‚åˆ»ã‚’å–å¾—
   const lastSync = await getLastSyncTimestamp(sheetName);

   // Sheets APIã§æœ€çµ‚åŒæœŸä»¥é™ã®ãƒ‡ãƒ¼ã‚¿ã®ã¿å–å¾—
   const newRecords = rows.filter(row => {
     const timestamp = parseTimestamp(row[0]);
     return timestamp > lastSync;
   });
   ```

**å½±éŸ¿ãƒ•ã‚¡ã‚¤ãƒ«**:
- `functions/src/functions/syncPlanData.ts`
- `functions/src/services/firestoreService.ts`
- `frontend/src/hooks/useSync.ts`
- `frontend/src/api/index.ts`

### Phase 4.5 å®Œäº†æ¡ä»¶

- [ ] DESIGN_GUIDELINES.md ã«åŸºã¥ãUIå®Ÿè£…
- [ ] é«˜å„ªå…ˆåº¦é …ç›®ã®å®Ÿè£…å®Œäº†
- [ ] å·®åˆ†åŒæœŸå®Ÿè£…ï¼ˆ15åˆ†è‡ªå‹•åŒæœŸãŒincrementalï¼‰
- [ ] Firebase Hostingã¸å†ãƒ‡ãƒ—ãƒ­ã‚¤
- [ ] ãƒ¢ãƒã‚¤ãƒ«å®Ÿæ©Ÿã§ã®è¦‹ãŸç›®ç¢ºèª

---

## Phase 4.8: åŒæœŸç«¶åˆé˜²æ­¢ + ã‚³ã‚¹ãƒˆæœ€é©åŒ– âœ… å®Œäº†

**ç›®çš„**:
1. è¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»è¤‡æ•°ãƒ‡ãƒã‚¤ã‚¹ã‹ã‚‰ã®åŒæ™‚åŒæœŸã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿é‡è¤‡ã‚’é˜²æ­¢
2. Firestoreã‚³ã‚¹ãƒˆã‚’90%ä»¥ä¸Šå‰Šæ¸›

> **è©³ç´°**: [SYNC_CONCURRENCY.md](./SYNC_CONCURRENCY.md) ã‚’å‚ç…§

### Phase 4.8 å®Œäº†æ¡ä»¶ âœ…

- [x] ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å·®åˆ†åŒæœŸãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…
- [x] æ±ºå®šè«–çš„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆIDå®Ÿè£…
- [x] Cloud Scheduler ã‚¸ãƒ§ãƒ–ä½œæˆï¼ˆå·®åˆ†/å®Œå…¨ï¼‰
- [x] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰`syncPlanData`å‘¼ã³å‡ºã—ã‚’å‰Šé™¤
- [x] ã€Œæ›´æ–°ã€ãƒœã‚¿ãƒ³ãŒFirestoreã‚­ãƒ£ãƒƒã‚·ãƒ¥å†å–å¾—ã®ã¿å®Ÿè¡Œ
- [x] ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»å‹•ä½œæ¤œè¨¼å®Œäº†
- [x] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°å®Œäº†

---

## Phase 5.3: ã‚°ãƒ­ãƒ¼ãƒãƒ«åˆæœŸå€¤è¨­å®šï¼ˆã‚³ãƒ¼ãƒ‰å®šæ•°ç‰ˆï¼‰ âœ… å®Œäº†

**ç›®çš„**: é£Ÿäº‹å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã®åˆæœŸå€¤ã‚’å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼å…±é€šã§ç®¡ç†

> **æ³¨æ„**: Phase 5.4ã§Firestore + APIæ–¹å¼ã«ç½®ãæ›ãˆã‚‰ã‚Œã¾ã—ãŸ

### Phase 5.3 å®Œäº†æ¡ä»¶ âœ…

- [x] åˆæœŸå€¤ã‚’ã‚³ãƒ¼ãƒ‰å†…å®šæ•°ã¨ã—ã¦å®šç¾©
- [x] ãƒ•ã‚©ãƒ¼ãƒ ã«åˆæœŸå€¤ã‚’é©ç”¨

---

## Phase 5.4: ç®¡ç†è€…åˆæœŸå€¤è¨­å®šï¼ˆFirestore + APIï¼‰ âœ… å®Œäº†

**ç›®çš„**: ç®¡ç†è€…ãŒã‚³ãƒ¼ãƒ‰ä¿®æ­£ãªã—ã§åˆæœŸå€¤ã‚’å¤‰æ›´å¯èƒ½ã«ã™ã‚‹

### 5.4-1. å®Ÿè£…å†…å®¹

| é …ç›® | å†…å®¹ |
|------|------|
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API | `getMealFormSettings` / `updateMealFormSettings` |
| ãƒ‡ãƒ¼ã‚¿ä¿å­˜å…ˆ | Firestore `settings/mealFormDefaults` |
| ç®¡ç†è€…ã‚¢ã‚¯ã‚»ã‚¹ | `?admin=true` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§è¨­å®šUIè¡¨ç¤º |

### 5.4-2. è¨­å®šé …ç›®

| é …ç›® | èª¬æ˜ |
|------|------|
| defaultFacility | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ–½è¨­å |
| defaultResidentName | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆåˆ©ç”¨è€…å |
| defaultDayServiceName | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‡ã‚¤ã‚µãƒ¼ãƒ“ã‚¹å |

### Phase 5.4 å®Œäº†æ¡ä»¶ âœ…

- [x] Cloud Functions APIå®Ÿè£…
- [x] Firestoreãƒ‡ãƒ¼ã‚¿ä¿å­˜
- [x] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ«ä½œæˆ
- [x] ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»å‹•ä½œç¢ºèª

---

## Phase 5.5: Google Chat Webhooké€£æº âœ… å®Œäº†

**ç›®çš„**: é£Ÿäº‹è¨˜éŒ²å…¥åŠ›æ™‚ã«Google Chatã‚¹ãƒšãƒ¼ã‚¹ã¸è‡ªå‹•é€šçŸ¥

> **è©³ç´°**: [GOOGLE_CHAT_WEBHOOK_SPEC.md](./GOOGLE_CHAT_WEBHOOK_SPEC.md) ã‚’å‚ç…§

### 5.5-1. é€šçŸ¥ãƒ•ãƒ­ãƒ¼

```
[é£Ÿäº‹è¨˜éŒ²å…¥åŠ›] â†’ [Sheet Bæ›¸ãè¾¼ã¿æˆåŠŸ]
    â”œâ”€â†’ [é€šå¸¸Webhook] å…¨è¨˜éŒ²ã‚’é€šçŸ¥
    â””â”€â†’ [é‡è¦Webhook] isImportant="é‡è¦" ã®ã¿è¿½åŠ é€šçŸ¥
```

### 5.5-2. è¨­å®šé …ç›®ï¼ˆè¿½åŠ ï¼‰

| é …ç›® | èª¬æ˜ |
|------|------|
| webhookUrl | é€šå¸¸Webhook URLï¼ˆå…¨è¨˜éŒ²é€šçŸ¥ï¼‰ |
| importantWebhookUrl | é‡è¦Webhook URLï¼ˆé‡è¦è¨˜éŒ²ã®ã¿è¿½åŠ é€šçŸ¥ï¼‰ |

### Phase 5.5 å®Œäº†æ¡ä»¶ âœ…

- [x] Webhooké€ä¿¡ã‚µãƒ¼ãƒ“ã‚¹ä½œæˆ (`googleChatService.ts`)
- [x] è¨­å®šAPIæ‹¡å¼µï¼ˆWebhook URLä¿å­˜ï¼‰
- [x] submitMealRecordä¿®æ­£ï¼ˆWebhooké€ä¿¡è¿½åŠ ï¼‰
- [x] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨­å®šUIæ‹¡å¼µ
- [x] ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»å‹•ä½œç¢ºèª

---

## Phase 5.6: å†™çœŸã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ«ãƒ€è¨­å®š âœ… å®Œäº†

**ç›®çš„**: å†™çœŸã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å…ˆã®Google Driveãƒ•ã‚©ãƒ«ãƒ€ã‚’ç®¡ç†è€…ãŒæŒ‡å®šå¯èƒ½ã«ã™ã‚‹

> **è©³ç´°**: [PHOTO_UPLOAD_SPEC.md](./PHOTO_UPLOAD_SPEC.md) ã‚’å‚ç…§

### 5.6-1. ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ•ãƒ­ãƒ¼

```
[å†™çœŸé¸æŠ] â†’ [POST /uploadCareImage]
    â”œâ”€â†’ Firestore: driveUploadFolderId ã‚’å–å¾—
    â”œâ”€â†’ è¨­å®šæ¸ˆã¿: {æŒ‡å®šãƒ•ã‚©ãƒ«ãƒ€}/{YYYY}/{MM}/{filename}
    â””â”€â†’ æœªè¨­å®š: CareRecordImages/{YYYY}/{MM}/{filename} (å¾Œæ–¹äº’æ›)
```

### 5.6-2. è¨­å®šé …ç›®ï¼ˆè¿½åŠ ï¼‰

| é …ç›® | èª¬æ˜ |
|------|------|
| driveUploadFolderId | å†™çœŸä¿å­˜å…ˆGoogle Driveãƒ•ã‚©ãƒ«ãƒ€ID |

### Phase 5.6 å®Œäº†æ¡ä»¶ âœ…

- [x] å‹å®šç¾©æ‹¡å¼µï¼ˆbackend + frontendï¼‰
- [x] driveServiceä¿®æ­£ï¼ˆãƒ•ã‚©ãƒ«ãƒ€IDå¯¾å¿œï¼‰
- [x] uploadCareImageä¿®æ­£ï¼ˆè¨­å®šèª­ã¿å–ã‚Šï¼‰
- [x] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨­å®šUIæ‹¡å¼µ
- [x] ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»å‹•ä½œç¢ºèª

---

## Phase 5.7: è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ«UIæ”¹å–„ âœ… å®Œäº†

**ç›®çš„**: è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ«ã®èª¤æ“ä½œé˜²æ­¢ã¨UXæ”¹å–„

> **è©³ç´°**: [SETTINGS_MODAL_UI_SPEC.md](./SETTINGS_MODAL_UI_SPEC.md) ã‚’å‚ç…§

### 5.7-1. å¤‰æ›´å†…å®¹

| è¦ç´  | Before | After |
|------|--------|-------|
| ãƒ•ãƒƒã‚¿ãƒ¼å·¦ãƒœã‚¿ãƒ³ | ã‚¯ãƒªã‚¢ | ã‚­ãƒ£ãƒ³ã‚»ãƒ« |
| ãƒ•ãƒƒã‚¿ãƒ¼å³ãƒœã‚¿ãƒ³ | ä¿å­˜ | ä¿å­˜ï¼ˆå¤‰æ›´ãªã—ï¼‰ |
| ã‚¯ãƒªã‚¢æ©Ÿèƒ½ | ãƒ•ãƒƒã‚¿ãƒ¼ãƒœã‚¿ãƒ³ | æœ¬æ–‡ä¸‹éƒ¨ã®èµ¤ãƒ†ã‚­ã‚¹ãƒˆãƒªãƒ³ã‚¯ |
| ã‚¯ãƒªã‚¢ç¢ºèª | ãªã— | ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¿½åŠ  |

### Phase 5.7 å®Œäº†æ¡ä»¶ âœ…

- [x] ãƒ•ãƒƒã‚¿ãƒ¼ãƒœã‚¿ãƒ³é…ç½®å¤‰æ›´
- [x] ã‚¯ãƒªã‚¢ãƒªãƒ³ã‚¯ã‚’æœ¬æ–‡ä¸‹éƒ¨ã«ç§»å‹•
- [x] ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¿½åŠ 
- [x] ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»å‹•ä½œç¢ºèª

---

## Phase 5.8: ç®¡ç†è¨­å®šãƒ†ã‚¹ãƒˆæ©Ÿèƒ½ ğŸ“‹ è¨ˆç”»ä¸­

**ç›®çš„**: Webhook URLã‚„Driveãƒ•ã‚©ãƒ«ãƒ€IDã®è¨­å®šã‚’ä¿å­˜å‰ã«ãƒ†ã‚¹ãƒˆã—ã€èª¤è¨­å®šã‚’é˜²æ­¢ã™ã‚‹

> **è©³ç´°è¨­è¨ˆ**: [ADMIN_TEST_FEATURE_SPEC.md](./ADMIN_TEST_FEATURE_SPEC.md) ã‚’å‚ç…§

### 5.8-1. æ©Ÿèƒ½æ¦‚è¦

| æ©Ÿèƒ½ | èª¬æ˜ | ãƒ†ã‚¹ãƒˆå†…å®¹ |
|------|------|-----------|
| Webhookãƒ†ã‚¹ãƒˆé€ä¿¡ | å…¥åŠ›ã—ãŸURLã«ãƒ†ã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ | Google Chatã‚¹ãƒšãƒ¼ã‚¹ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸åˆ°é”ã‚’ç¢ºèª |
| Driveãƒ•ã‚©ãƒ«ãƒ€æ¥ç¶šãƒ†ã‚¹ãƒˆ | å…¥åŠ›ã—ãŸãƒ•ã‚©ãƒ«ãƒ€IDã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ç¢ºèª | ãƒ•ã‚©ãƒ«ãƒ€å­˜åœ¨ãƒ»æ¨©é™ã‚’æ¤œè¨¼ã€ãƒ•ã‚©ãƒ«ãƒ€åè¡¨ç¤º |

### 5.8-2. æ–°è¦API

| API | ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ |
|-----|---------|------|
| `/testWebhook` | POST | Webhook URLã«ãƒ†ã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ |
| `/testDriveAccess` | POST | Driveãƒ•ã‚©ãƒ«ãƒ€IDã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ç¢ºèª |

### 5.8-3. UIå¤‰æ›´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Google Chat Webhook URLï¼ˆé€šå¸¸é€šçŸ¥ï¼‰                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ https://chat.googleapis.com/... â”‚ â”‚ ãƒ†ã‚¹ãƒˆé€ä¿¡    â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ âœ… ãƒ†ã‚¹ãƒˆé€ä¿¡æˆåŠŸ                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Google Drive ãƒ•ã‚©ãƒ«ãƒ€ID                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ 1ABC...xyz                      â”‚ â”‚ æ¥ç¶šãƒ†ã‚¹ãƒˆ    â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ âœ… ãƒ•ã‚©ãƒ«ãƒ€ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½: ã‚±ã‚¢å†™çœŸãƒ•ã‚©ãƒ«ãƒ€               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.8-4. å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—

| # | ã‚¿ã‚¹ã‚¯ | ãƒ•ã‚¡ã‚¤ãƒ« |
|---|--------|----------|
| 1 | testWebhooké–¢æ•°ä½œæˆ | `functions/src/functions/testWebhook.ts` |
| 2 | testDriveAccessé–¢æ•°ä½œæˆ | `functions/src/functions/testDriveAccess.ts` |
| 3 | index.tsã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆè¿½åŠ  | `functions/src/index.ts` |
| 4 | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆã‚µãƒ¼ãƒ“ã‚¹ä½œæˆ | `frontend/src/services/adminTestService.ts` |
| 5 | è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ«UIä¿®æ­£ | `frontend/src/components/MealSettingsModal.tsx` |
| 6 | ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆ | - |
| 7 | ãƒ‡ãƒ—ãƒ­ã‚¤ | Firebase Deploy |
| 8 | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–° | API_SPEC.mdç­‰ |

### Phase 5.8 å®Œäº†æ¡ä»¶

- [ ] testWebhook APIå®Ÿè£…ãƒ»å‹•ä½œç¢ºèª
- [ ] testDriveAccess APIå®Ÿè£…ãƒ»å‹•ä½œç¢ºèª
- [ ] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆãƒœã‚¿ãƒ³å®Ÿè£…
- [ ] ãƒ†ã‚¹ãƒˆçµæœè¡¨ç¤ºï¼ˆæˆåŠŸ/å¤±æ•—ï¼‰
- [ ] ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³å®Ÿè£…ï¼ˆé€£æ‰“é˜²æ­¢ï¼‰
- [ ] ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»å‹•ä½œç¢ºèª
- [ ] API_SPEC.mdæ›´æ–°

---

## ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã‚µãƒãƒªãƒ¼

```
Phase 1: åŸºç›¤æ§‹ç¯‰              â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 2: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£…       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 3: ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»æ¤œè¨¼         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 4: ãƒ‡ãƒ¢ç‰ˆPWAé–‹ç™º         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 4.1: ã‚¿ãƒ–UIãƒ»æ±ç”¨ãƒ¢ãƒ‡ãƒ«    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 4.2: ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ“ãƒ¥ãƒ¼       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 4.3: å…¨ã‚·ãƒ¼ãƒˆåŒæœŸ         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 4.4: ã‚·ãƒ¼ãƒˆé †åºä¿®æ­£       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 4.5: ãƒ‡ã‚¶ã‚¤ãƒ³æ”¹å–„         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 4.9: åŒæœŸç«¶åˆé˜²æ­¢         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 5.0: é£Ÿäº‹å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ UI   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 5.1: Sheet B SAæ¥ç¶š      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 5.2: é£Ÿäº‹å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ API  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 5.3: ã‚°ãƒ­ãƒ¼ãƒãƒ«åˆæœŸå€¤è¨­å®š  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 5.4: ç®¡ç†è€…åˆæœŸå€¤è¨­å®š     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 5.5: Google Chat Webhook â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 5.6: å†™çœŸãƒ•ã‚©ãƒ«ãƒ€è¨­å®š     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 5.7: è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ«UIæ”¹å–„   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 5.8: ç®¡ç†è¨­å®šãƒ†ã‚¹ãƒˆæ©Ÿèƒ½   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 6.0: ãƒ•ãƒƒã‚¿ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 7.0: å®¶æ—å‘ã‘æ©Ÿèƒ½        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 7.1: äºˆå®Ÿç®¡ç†            â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 8.1: å“ç‰©ç®¡ç†åŸºç›¤        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 8.2: ã‚¿ã‚¹ã‚¯ç®¡ç†          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 8.2.1: ã‚¿ã‚¹ã‚¯è‡ªå‹•ç”Ÿæˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 8.3: çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 8.4: AIææ¡ˆUIçµ±åˆ        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 8.4.1: AIæ‘‚é£Ÿå‚¾å‘åˆ†æ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 8.5: ãƒ—ãƒªã‚»ãƒƒãƒˆææ¡ˆçµ±åˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 8.6: ãƒ—ãƒªã‚»ãƒƒãƒˆç®¡ç†CRUD  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 8.7: AIè‡ªå‹•ã‚¹ãƒˆãƒƒã‚¯      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 9.0: ãƒ“ãƒ¥ãƒ¼æ§‹æˆè¨­è¨ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 9.1: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ»ãƒšãƒ¼ã‚¸ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 9.2: æ¶ˆè²»è¨˜éŒ²é€£æº        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 9.x: ç¦æ­¢ãƒ«ãƒ¼ãƒ«æ©Ÿèƒ½      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 9.3: çµ±è¨ˆæ‹¡å¼µ            â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
ãƒ‡ãƒ¢ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹å®Ÿè£…           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
å®¶æ—å‘ã‘ãƒ‡ãƒ¢ç‰¹åŒ–ãƒªãƒ‡ã‚¶ã‚¤ãƒ³      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 10: é–“é£Ÿè¨˜éŒ²é€£æº         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 11: FoodMasteré£Ÿå“ãƒã‚¹ã‚¿ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 11.1: FoodMasterè‡ªå‹•è“„ç© â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 12.0: FIFOå¯¾å¿œ           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 12.1: æ‰‹å‹•ãƒ—ãƒªã‚»ãƒƒãƒˆä¿å­˜ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 13.0: å“ç‰©ã‹ã‚‰è¨˜éŒ²ã‚¿ãƒ–   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 13.1: ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æ‹¡å¼µ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 13.2: ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¡¨ç¤º   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 14: ã‚¹ã‚¿ãƒƒãƒ•ç”¨ãƒ‡ãƒ¢       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 15: è¨˜éŒ²ãƒ•ã‚©ãƒ¼ãƒ çµ±ä¸€     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
                               â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                               åˆè¨ˆ: 200+ tasks
```

| Phase | ã‚¿ã‚¹ã‚¯æ•° | ä¸»ãªæˆæœç‰© | çŠ¶æ…‹ |
|-------|----------|------------|------|
| Phase 1 | 5 | GCP/Firebaseç’°å¢ƒã€ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ | âœ… å®Œäº† |
| Phase 2 | 6 | Cloud Functionsï¼ˆ7ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼‰ | âœ… å®Œäº† |
| Phase 3 | 4 | æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤ã€Sheet Aèª­ã¿å–ã‚Šç¢ºèª | âœ… å®Œäº† |
| Phase 4 | 5 | ãƒ‡ãƒ¢ç‰ˆPWAï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰ | âœ… å®Œäº† |
| Phase 4.1 | 5 | ã‚¿ãƒ–UIã€æ±ç”¨ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã€åŒæœŸé€šçŸ¥ | âœ… å®Œäº† |
| Phase 4.2 | 6 | ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ“ãƒ¥ãƒ¼ã€æ¤œç´¢ã€ã‚½ãƒ¼ãƒˆã€è©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ« | âœ… å®Œäº† |
| Phase 4.3 | 5 | å…¨ã‚·ãƒ¼ãƒˆåŒæœŸï¼ˆãƒãƒƒãƒåˆ†å‰²ï¼‰ã€å¹´æœˆãƒ•ã‚£ãƒ«ã‚¿UI | âœ… å®Œäº† |
| Phase 4.4 | 5 | ã‚·ãƒ¼ãƒˆè¡¨ç¤ºé †åºä¿®æ­£ï¼ˆSHEET_A_ORDERï¼‰ | âœ… å®Œäº† |
| Phase 4.5 | 5 | ãƒ‡ã‚¶ã‚¤ãƒ³æ”¹å–„ï¼ˆã‚«ãƒ©ãƒ¼ã€ã‚¿ã‚¤ãƒã€ã‚¢ã‚¤ã‚³ãƒ³ï¼‰ | âœ… å®Œäº† |
| Phase 4.9 | 5 | åŒæœŸç«¶åˆé˜²æ­¢ï¼ˆCloud Schedulerã€æ±ºå®šè«–çš„IDï¼‰ | âœ… å®Œäº† |
| Phase 5.0 | 3 | é£Ÿäº‹å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ UI | âœ… å®Œäº† |
| Phase 5.1 | 2 | Sheet B ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ¥ç¶š | âœ… å®Œäº† |
| Phase 5.2 | 5 | submitMealRecord APIå®Ÿè£…ãƒ»å‹•ä½œç¢ºèª | âœ… å®Œäº† |
| Phase 5.3 | 2 | ã‚°ãƒ­ãƒ¼ãƒãƒ«åˆæœŸå€¤è¨­å®šï¼ˆã‚³ãƒ¼ãƒ‰å®šæ•°ç‰ˆï¼‰ | âœ… å®Œäº† |
| Phase 5.4 | 4 | ç®¡ç†è€…åˆæœŸå€¤è¨­å®šï¼ˆFirestore + APIï¼‰ | âœ… å®Œäº† |
| Phase 5.5 | 4 | Google Chat Webhooké€£æº | âœ… å®Œäº† |
| Phase 5.6 | 4 | å†™çœŸã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ«ãƒ€è¨­å®š | âœ… å®Œäº† |
| Phase 5.7 | 2 | è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ«UIæ”¹å–„ | âœ… å®Œäº† |
| Phase 5.8 | 8 | ç®¡ç†è¨­å®šãƒ†ã‚¹ãƒˆæ©Ÿèƒ½ | ğŸ“‹ è¨ˆç”»ä¸­ |
| Phase 6.0 | 4 | ãƒ•ãƒƒã‚¿ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³åŸºç›¤ | âœ… å®Œäº† |
| Phase 6.1 | - | ãƒ“ãƒ¥ãƒ¼åˆ†é›¢ï¼ˆé–²è¦§/å…¥åŠ›ï¼‰ | âœ… å®Œäº†ï¼ˆ6.0ã«çµ±åˆï¼‰ |
| Phase 7.0 | 14 | å®¶æ—å‘ã‘æ©Ÿèƒ½ï¼ˆFlow Cæ‹¡å¼µï¼‰ | âœ… å®Œäº† |
| Phase 7.1 | 8 | äºˆå®Ÿç®¡ç†ï¼ˆPlan/Resulté€£æºï¼‰ | âœ… å®Œäº† |
| Phase 8.1 | 12 | å“ç‰©ç®¡ç†åŸºç›¤ï¼ˆCareItemsï¼‰ | âœ… å®Œäº† |
| Phase 8.2 | 10 | ã‚¿ã‚¹ã‚¯ç®¡ç†ï¼ˆTasksï¼‰ | âœ… å®Œäº† |
| Phase 8.2.1 | 5 | ã‚¿ã‚¹ã‚¯è‡ªå‹•ç”Ÿæˆï¼ˆCloud Schedulerï¼‰ | âœ… å®Œäº† |
| Phase 8.3 | 8 | çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ | âœ… å®Œäº† |
| Phase 8.4 | 4 | AIææ¡ˆUIçµ±åˆï¼ˆItemFormï¼‰ | âœ… å®Œäº† |
| Phase 8.4.1 | 4 | AIæ‘‚é£Ÿå‚¾å‘åˆ†æï¼ˆaiAnalyze API + StatsDashboardçµ±åˆï¼‰ | âœ… å®Œäº† |
| Phase 8.5 | 6 | ãƒ—ãƒªã‚»ãƒƒãƒˆææ¡ˆçµ±åˆï¼ˆgetPresetSuggestionsï¼‰ | âœ… å®Œäº† |
| Phase 8.6 | 6 | ãƒ—ãƒªã‚»ãƒƒãƒˆç®¡ç†CRUDï¼ˆpresets.tsï¼‰ | âœ… å®Œäº† |
| Phase 8.7 | 5 | AIè‡ªå‹•ã‚¹ãƒˆãƒƒã‚¯ï¼ˆsaveAISuggestionAsPresetï¼‰ | âœ… å®Œäº† |
| Phase 9.0 | 3 | ãƒ“ãƒ¥ãƒ¼æ§‹æˆè¨­è¨ˆï¼ˆVIEW_ARCHITECTURE_SPEC.mdï¼‰ | âœ… å®Œäº† |
| Phase 9.1 | 8 | ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ»ãƒšãƒ¼ã‚¸å®Ÿè£…ï¼ˆã‚¹ã‚¿ãƒƒãƒ•/å®¶æ—ãƒ“ãƒ¥ãƒ¼ï¼‰ | âœ… å®Œäº† |
| Phase 9.2 | 6 | æ¶ˆè²»è¨˜éŒ²é€£æºï¼ˆConsumptionLog APIãƒ»UIï¼‰ | âœ… å®Œäº† |
| Phase 9.x | 5 | ç¦æ­¢ãƒ«ãƒ¼ãƒ«æ©Ÿèƒ½ï¼ˆå…¥å±…è€…è¨­å®šãƒ»è­¦å‘Šè¡¨ç¤ºï¼‰ | âœ… å®Œäº† |
| Phase 9.3 | 4 | çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ‹¡å¼µï¼ˆåœ¨åº«ã‚µãƒãƒªãƒ¼ãƒ»é£Ÿå“å‚¾å‘ï¼‰ | âœ… å®Œäº† |
| Demo | 4 | ãƒ‡ãƒ¢ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹å®Ÿè£…ï¼ˆã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ãƒ»å°‚ç”¨ãƒšãƒ¼ã‚¸ãƒ»ãƒ•ãƒƒã‚¯å¯¾å¿œï¼‰ | âœ… å®Œäº† |
| Demo | 4 | å®¶æ—å‘ã‘ãƒ‡ãƒ¢ç‰¹åŒ–ãƒªãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆã‚¹ã‚¿ãƒƒãƒ•åˆ†é›¢ãƒ»ã‚¹ãƒˆãƒ¼ãƒªãƒ¼è¿½åŠ ï¼‰ | âœ… å®Œäº† |
| Phase 10 | 10 | é–“é£Ÿè¨˜éŒ²é€£æºï¼ˆã‚¹ã‚¿ãƒƒãƒ•é£Ÿäº‹å…¥åŠ›Ã—å®¶æ—å“ç‰©ç®¡ç†ï¼‰ | âœ… å®Œäº† |
| Phase 11 | 5 | FoodMasteré£Ÿå“ãƒã‚¹ã‚¿ï¼ˆAIææ¡ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»æ­£è¦åŒ–æƒ…å ±ç®¡ç†ï¼‰ | âœ… å®Œäº† |
| Phase 11.1 | 3 | FoodMasterè‡ªå‹•è“„ç©ï¼ˆæœ¬ç•ªãƒ¢ãƒ¼ãƒ‰ã§AIçµæœè‡ªå‹•ä¿å­˜ï¼‰ | âœ… å®Œäº† |
| Phase 12.0 | 5 | FIFOå¯¾å¿œï¼ˆæœŸé™é †ã‚½ãƒ¼ãƒˆãƒ»åŒä¸€å“ç‰©ã‚¢ãƒ©ãƒ¼ãƒˆãƒ»FIFOã‚¬ã‚¤ãƒ‰ï¼‰ | âœ… å®Œäº† |
| Phase 12.1 | 2 | æ‰‹å‹•ç™»éŒ²æ™‚ãƒ—ãƒªã‚»ãƒƒãƒˆä¿å­˜ææ¡ˆï¼ˆSaveManualPresetDialogï¼‰ | âœ… å®Œäº† |
| Phase 13.0 | 5 | å“ç‰©ã‹ã‚‰è¨˜éŒ²ã‚¿ãƒ–ï¼ˆã‚¹ã‚¿ãƒƒãƒ•ç”¨ãƒ»ã‚½ãƒ¼ãƒˆå„ªå…ˆåº¦ãƒ»è¨˜éŒ²ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼‰ | âœ… å®Œäº† |
| Phase 13.1 | 5 | ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æ‹¡å¼µï¼ˆæ›œæ—¥æŒ‡å®šãƒ»è¤‡æ•°æ—¥ãƒ»ServingScheduleå‹ãƒ»E2E 7ä»¶ï¼‰ | âœ… å®Œäº† |
| Phase 13.2 | 5 | ã‚¹ã‚¿ãƒƒãƒ•å‘ã‘ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¡¨ç¤ºï¼ˆScheduleDisplayãƒ»WeekdayBadgesãƒ»E2E 7ä»¶ï¼‰ | âœ… å®Œäº† |
| Phase 14.0 | 5 | ã‚¹ã‚¿ãƒƒãƒ•ç”¨ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ï¼ˆDemoStaffHomeãƒ»DemoStaffShowcaseãƒ»E2E 17ä»¶ï¼‰ | âœ… å®Œäº† |
| Phase 15 | 4 | ã‚¹ã‚¿ãƒƒãƒ•è¨˜éŒ²å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ çµ±ä¸€ï¼ˆã‚¿ãƒ–å‰Šé™¤ãƒ»StaffRecordDialogãƒ»E2E 22ä»¶ï¼‰ | âœ… å®Œäº† |
| Phase 15.6 | 2 | æ‘‚é£Ÿå‰²åˆã®æ•°å€¤å…¥åŠ›ï¼ˆ0-10ï¼‰ãƒ»æ®‹ã‚Šå¯¾å¿œãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆç ´æ£„/ä¿å­˜/ãã®ä»–ï¼‰ | âœ… å®Œäº† |
| Phase 15.7 | 3 | æ®‹ã‚Šå¯¾å¿œã«ã‚ˆã‚‹åœ¨åº«ãƒ»çµ±è¨ˆã®åˆ†é›¢è¨ˆç®—ï¼ˆç ´æ£„â†’å…¨é‡æ¸›ã€ä¿å­˜â†’é£Ÿã¹ãŸåˆ†ã®ã¿æ¸›ï¼‰ | ğŸ“‹ è¨­è¨ˆå®Œäº† |

---

## Phase 6.0: ãƒ•ãƒƒã‚¿ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³åŸºç›¤ âœ… å®Œäº†

**ç›®çš„**: FABãƒœã‚¿ãƒ³æ–¹å¼ã‹ã‚‰ãƒ•ãƒƒã‚¿ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ–¹å¼ã«å¤‰æ›´ã—ã€ã€Œèª­ã¿å–ã‚Šå°‚ç”¨ãƒ“ãƒ¥ãƒ¼ã€ã¨ã€Œæ›¸ãè¾¼ã¿å°‚ç”¨ãƒ“ãƒ¥ãƒ¼ã€ã‚’æ˜ç¢ºã«åˆ†é›¢ã™ã‚‹ã€‚

> **è©³ç´°è¨­è¨ˆ**: [FOOTER_NAVIGATION_SPEC.md](./FOOTER_NAVIGATION_SPEC.md) ã‚’å‚ç…§

### 6.0-1. èƒŒæ™¯ãƒ»èª²é¡Œ

| å•é¡Œ | è©³ç´° |
|------|------|
| FABã®ç™ºè¦‹æ€§ãŒä½ã„ | å³ä¸‹ã®FABãƒœã‚¿ãƒ³ã¯ç›®ç«‹ãŸãšã€åˆè¦‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯å…¥åŠ›æ–¹æ³•ãŒã‚ã‹ã‚‰ãªã„ |
| æ“ä½œæ€§ãŒæ‚ªã„ | ç”»é¢å³ä¸‹ã¯ç‰‡æ‰‹æ“ä½œæ™‚ã«è¦ªæŒ‡ãŒå±Šãã«ãã„ |
| ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãŒæ›–æ˜§ | ã€Œé–²è¦§ä¸­ã€ã‹ã€Œå…¥åŠ›ä¸­ã€ã‹ãŒè¦–è¦šçš„ã«ä¸æ˜ç¢º |
| æ‹¡å¼µæ€§ãŒä½ã„ | å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ãŒå¢—ãˆãŸå ´åˆã€FABãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒç…©é›‘ã«ãªã‚‹ |

### 6.0-2. è¨­è¨ˆæ¦‚è¦

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              [Header]                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      â”‚
â”‚         [ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„]            â”‚
â”‚                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    ğŸ“‹ è¨˜éŒ²é–²è¦§    â”‚    âœï¸ è¨˜éŒ²å…¥åŠ›    â”‚  â† 2ã‚¿ãƒ–æ§‹æˆ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.0-3. å®Ÿè£…ã‚¿ã‚¹ã‚¯

| ã‚¿ã‚¹ã‚¯ | ãƒ•ã‚¡ã‚¤ãƒ« | çŠ¶æ…‹ |
|--------|----------|------|
| Layout.tsx ä½œæˆ | `frontend/src/components/Layout.tsx` | ğŸ“‹ |
| FooterNav.tsx ä½œæˆ | `frontend/src/components/FooterNav.tsx` | ğŸ“‹ |
| App.tsx ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å¤‰æ›´ | `frontend/src/App.tsx` | ğŸ“‹ |
| Safe Area å¯¾å¿œ | `frontend/src/index.css` | ğŸ“‹ |

### 6.0-4. ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å¤‰æ›´

| ãƒ‘ã‚¹ | å¤‰æ›´å‰ | å¤‰æ›´å¾Œ |
|------|--------|--------|
| `/` | HomePage | ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ â†’ `/view` |
| `/view` | - | ViewPageï¼ˆè¨˜éŒ²é–²è¦§ï¼‰ |
| `/input` | - | InputPageï¼ˆå…¥åŠ›ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰ |
| `/input/meal` | MealInputPage | MealInputPageï¼ˆå¤‰æ›´ãªã—ï¼‰ |

### Phase 6.0 å®Œäº†æ¡ä»¶

- [x] Layout.tsx ä½œæˆï¼ˆHeader + Main + FooterNavï¼‰
- [x] FooterNav.tsx ä½œæˆï¼ˆ2ã‚¿ãƒ–æ§‹æˆã€è‰²åè»¢ã§è¦–èªæ€§å‘ä¸Šï¼‰
- [x] App.tsx ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å¤‰æ›´
- [x] Safe Area å¯¾å¿œï¼ˆiOSï¼‰
- [x] ãƒ“ãƒ«ãƒ‰ãƒ»Lint ç¢ºèª
- [x] ãƒ­ãƒ¼ã‚«ãƒ«å‹•ä½œç¢ºèª
- [x] ä¸­é–“ç”»é¢ï¼ˆInputPageï¼‰å‰Šé™¤ã€ç›´æ¥é£Ÿäº‹å…¥åŠ›ã¸é·ç§»

---

## Phase 6.1: ãƒ“ãƒ¥ãƒ¼åˆ†é›¢ï¼ˆé–²è¦§/å…¥åŠ›ï¼‰ğŸ“‹ è¨ˆç”»ä¸­

**ç›®çš„**: é–²è¦§ãƒ“ãƒ¥ãƒ¼ã¨å…¥åŠ›ãƒ“ãƒ¥ãƒ¼ã‚’å®Œå…¨ã«åˆ†é›¢ã—ã€å…¥åŠ›ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»é¢ã‚’ä½œæˆã™ã‚‹ã€‚

### 6.1-1. å®Ÿè£…ã‚¿ã‚¹ã‚¯

| ã‚¿ã‚¹ã‚¯ | ãƒ•ã‚¡ã‚¤ãƒ« | çŠ¶æ…‹ |
|--------|----------|------|
| HomePage â†’ ViewPage ãƒªãƒãƒ¼ãƒ  | `frontend/src/pages/ViewPage.tsx` | ğŸ“‹ |
| FABãƒœã‚¿ãƒ³å‰Šé™¤ | - | ğŸ“‹ |
| InputPage ä½œæˆï¼ˆå…¥åŠ›ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰ | `frontend/src/pages/InputPage.tsx` | ğŸ“‹ |
| InputCard ä½œæˆ | `frontend/src/components/InputCard.tsx` | ğŸ“‹ |

### 6.1-2. å…¥åŠ›ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»é¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          è¨˜éŒ²å…¥åŠ›                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ğŸ½ï¸ é£Ÿäº‹    â”‚  â”‚ ğŸ’§ æ°´åˆ†    â”‚      â”‚
â”‚  â”‚ è¨˜éŒ²       â”‚  â”‚ è¨˜éŒ²       â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ğŸš» æ’æ³„    â”‚  â”‚ â¤ï¸ ãƒã‚¤ã‚¿ãƒ« â”‚      â”‚
â”‚  â”‚ è¨˜éŒ²       â”‚  â”‚ è¨˜éŒ²       â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚ ğŸ“ ç‰¹è¨˜äº‹é … â”‚                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    ğŸ“‹ è¨˜éŒ²é–²è¦§    â”‚    âœï¸ è¨˜éŒ²å…¥åŠ›    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.1-3. å…¥åŠ›ç¨®åˆ¥

| ç¨®åˆ¥ | ã‚¢ã‚¤ã‚³ãƒ³ | ãƒ‘ã‚¹ | çŠ¶æ…‹ |
|------|----------|------|------|
| é£Ÿäº‹è¨˜éŒ² | ğŸ½ï¸ | `/input/meal` | âœ… å®Ÿè£…æ¸ˆã¿ |
| æ°´åˆ†è¨˜éŒ² | ğŸ’§ | `/input/hydration` | ğŸ“‹ å°†æ¥å®Ÿè£… |
| æ’æ³„è¨˜éŒ² | ğŸš» | `/input/excretion` | ğŸ“‹ å°†æ¥å®Ÿè£… |
| ãƒã‚¤ã‚¿ãƒ«è¨˜éŒ² | â¤ï¸ | `/input/vital` | ğŸ“‹ å°†æ¥å®Ÿè£… |
| ç‰¹è¨˜äº‹é … | ğŸ“ | `/input/note` | ğŸ“‹ å°†æ¥å®Ÿè£… |

### Phase 6.1 å®Œäº†æ¡ä»¶

- [ ] ViewPage ä½œæˆï¼ˆæ—§HomePageï¼‰
- [ ] FABãƒœã‚¿ãƒ³å‰Šé™¤
- [ ] InputPage ä½œæˆ
- [ ] InputCard ä½œæˆ
- [ ] é£Ÿäº‹è¨˜éŒ²ã‚«ãƒ¼ãƒ‰ã‹ã‚‰ `/input/meal` ã¸é·ç§»
- [ ] Firebase Hosting ãƒ‡ãƒ—ãƒ­ã‚¤
- [ ] ãƒ¢ãƒã‚¤ãƒ«å®Ÿæ©Ÿç¢ºèª

---

## Phase 7.0: å®¶æ—å‘ã‘æ©Ÿèƒ½ï¼ˆFlow Cæ‹¡å¼µï¼‰ âœ… å®Œäº†

**ç›®çš„**: ã”å®¶æ—ï¼ˆè’²æ± æ§˜ï¼‰å‘ã‘ã®ã€Œé éš”ã‚±ã‚¢ãƒ»ã‚³ãƒƒã‚¯ãƒ”ãƒƒãƒˆã€æ©Ÿèƒ½ã‚’å®Ÿè£…ã€‚FAXã®ä»£æ›¿ã¨ãªã‚‹å…¥åŠ›æ©Ÿèƒ½ã¨ã€å®‰å¿ƒã‚’æä¾›ã™ã‚‹ç¢ºèªç”»é¢ã‚’æä¾›ã€‚

> **è©³ç´°è¨­è¨ˆ**: [FAMILY_UX_DESIGN.md](./FAMILY_UX_DESIGN.md) ã‚’å‚ç…§

### 7.0-1. èƒŒæ™¯ãƒ»èª²é¡Œ

| èª²é¡Œ | ç¾çŠ¶ï¼ˆFAXï¼‰ | è§£æ±ºç­–ï¼ˆã‚¢ãƒ—ãƒªï¼‰ |
|------|------------|------------------|
| æŒ‡ç¤ºã®ä¸é€æ˜ã• | FAXã‚’é€ã£ã¦ã‚‚å®Ÿæ–½ç¢ºèªã§ããªã„ | å†™çœŸä»˜ãã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ã§å®Ÿæ–½ç¢ºèª |
| æ‰‹æ›¸ãã®æ‰‹é–“ | è©³ç´°ãªæŒ‡ç¤ºã‚’æ¯å›æ‰‹æ›¸ã | ãƒ—ãƒªã‚»ãƒƒãƒˆï¼‹æ§‹é€ åŒ–å…¥åŠ›ã§åŠ¹ç‡åŒ– |
| æ¡ä»¶ä»˜ãæŒ‡ç¤º | ã€Œæ®‹é£ŸãŒã‚ã‚Œã°...ã€ãŒä¼ã‚ã‚Šã«ãã„ | If-Thenå½¢å¼ã®UI |
| ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§ã®æ¬ å¦‚ | FAXé€ä¿¡å¾Œã®çŠ¶æ³ãŒã‚ã‹ã‚‰ãªã„ | ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã§é£Ÿäº‹æä¾›çŠ¶æ³ã‚’ç¢ºèª |

### 7.0-2. 3ã¤ã®ãƒ“ãƒ¥ãƒ¼

| ãƒ“ãƒ¥ãƒ¼ | ãƒ‘ã‚¹ | èª¬æ˜ | å„ªå…ˆåº¦ |
|--------|------|------|--------|
| **View C: å®¶æ—ãƒ›ãƒ¼ãƒ ** | `/family` | ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³å½¢å¼ã§1æ—¥ã®é£Ÿäº‹çŠ¶æ³ã‚’ç¢ºèª | é«˜ |
| **View A: ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ãƒ»ãƒ¢ãƒ‹ã‚¿ãƒ¼** | `/family/evidence/:date` | Planï¼ˆæŒ‡ç¤ºï¼‰ã¨Resultï¼ˆå®Ÿç¸¾ï¼‰ã‚’å¯¾æ¯”è¡¨ç¤ºã€å†™çœŸã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ | é«˜ |
| **View B: ã‚±ã‚¢ä»•æ§˜ãƒ“ãƒ«ãƒ€ãƒ¼** | `/family/request` | æ§‹é€ åŒ–ã•ã‚ŒãŸã‚±ã‚¢æŒ‡ç¤ºã‚’ä½œæˆï¼ˆãƒ—ãƒªã‚»ãƒƒãƒˆï¼‹If-Thenï¼‰ | ä¸­ |

### 7.0-3. ç”»é¢æ§‹æˆ

#### View C: å®¶æ—ãƒ›ãƒ¼ãƒ ï¼ˆã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å®¶æ—ãƒ›ãƒ¼ãƒ                ğŸ”” [âš™ï¸]   â”‚
â”‚  è’²æ±  ã‚­ãƒŒãƒ±æ§˜                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“… 2025å¹´12æœˆ14æ—¥ï¼ˆåœŸï¼‰             â”‚
â”‚  [â—€] [12] [13] [14â—] [â–¶]            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸŒ… æœé£Ÿ (7:30)  âœ… å®Œäº†             â”‚
â”‚  â”œâ”€ ä¸»é£Ÿ: 8å‰² / å‰¯é£Ÿ: 7å‰²            â”‚
â”‚  â””â”€ [ğŸ“· å†™çœŸã‚’è¦‹ã‚‹]                  â”‚
â”‚                                      â”‚
â”‚  â˜€ï¸ æ˜¼é£Ÿ (12:00) âœ… å®Œäº†             â”‚
â”‚  â”œâ”€ ã‚­ã‚¦ã‚¤ï¼ˆ8ç­‰åˆ†ã‚«ãƒƒãƒˆï¼‰âœ“ æŒ‡ç¤ºé€šã‚Š  â”‚
â”‚  â””â”€ [ğŸ“· å†™çœŸã‚’è¦‹ã‚‹] [ğŸ“‹ è©³ç´°]        â”‚
â”‚                                      â”‚
â”‚  ğŸª é–“é£Ÿ (15:00) âš ï¸ é‡è¦             â”‚
â”‚  â”œâ”€ ãƒ—ãƒªãƒ³ï¼ˆã”æœ¬äººå¸Œæœ›ï¼‰             â”‚
â”‚  â””â”€ [ğŸ“‹ è©³ç´°ã‚’ç¢ºèª]                  â”‚
â”‚                                      â”‚
â”‚  ğŸŒ™ å¤•é£Ÿ (18:00) â³ æœªæä¾›           â”‚
â”‚  â””â”€ äºˆå®š: ã‚‰ã£ãã‚‡ã†ï¼ˆå†·ï¼‰           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“‹ è¨˜éŒ²é–²è¦§ â”‚ âœï¸ è¨˜éŒ²å…¥åŠ› â”‚ ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ å®¶æ— â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### View A: ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ãƒ»ãƒ¢ãƒ‹ã‚¿ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â†] ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ãƒ»ãƒ¢ãƒ‹ã‚¿ãƒ¼ 12/14 æ˜¼é£Ÿ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“‹ PLANï¼ˆæŒ‡ç¤ºå†…å®¹ï¼‰                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  ã‚­ã‚¦ã‚¤ 1/2ç‰                        â”‚
â”‚                                      â”‚
â”‚  ã€è©³ç´°æŒ‡ç¤ºã€‘                        â”‚
â”‚  è¼ªåˆ‡ã‚Š4ç­‰åˆ†ã‚’ã•ã‚‰ã«åŠåˆ†ã«åˆ‡ã£ã¦     â”‚
â”‚  ãã ã•ã„ã€‚çš®ã¯å¿…ãšå‰¥ã„ã¦ãã ã•ã„ã€‚  â”‚
â”‚  ç¨®ãŒå¤šã„éƒ¨åˆ†ã¯é¿ã‘ã¦ãã ã•ã„ã€‚      â”‚
â”‚                                      â”‚
â”‚  âš ï¸ çµ¶å¯¾å³å®ˆ                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚               â†“ å¯¾æ¯” â†“               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… RESULTï¼ˆå®Ÿæ–½çµæœï¼‰               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   ğŸ“· æä¾›ç›´å‰ã®å†™çœŸ             â”‚  â”‚
â”‚  â”‚   [ã‚­ã‚¦ã‚¤8ç­‰åˆ†ã‚«ãƒƒãƒˆã®å†™çœŸ]     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                      â”‚
â”‚  è¨˜éŒ²è€…: ç”°ä¸­èŠ±å­                    â”‚
â”‚  è¨˜éŒ²æ—¥æ™‚: 2025/12/14 12:15          â”‚
â”‚  æ‘‚å–é‡: ä¸»é£Ÿ8å‰² / å‰¯é£Ÿ7å‰²           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.0-4. å®Ÿè£…ã‚¿ã‚¹ã‚¯

| # | ã‚¿ã‚¹ã‚¯ | ãƒ•ã‚¡ã‚¤ãƒ« | å„ªå…ˆåº¦ |
|---|--------|----------|--------|
| 1 | UXè¨­è¨ˆæ›¸ä½œæˆ | `docs/FAMILY_UX_DESIGN.md` | âœ… å®Œäº† |
| 2 | ARCHITECTURE.mdæ›´æ–° | `docs/ARCHITECTURE.md` | âœ… å®Œäº† |
| 3 | ãƒ‡ãƒ¢ç”¨ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ä½œæˆ | `frontend/src/data/demoFamilyData.ts` | é«˜ |
| 4 | å®¶æ—å‘ã‘å‹å®šç¾© | `frontend/src/types/family.ts` | é«˜ |
| 5 | ãƒ•ãƒƒã‚¿ãƒ¼ãƒŠãƒ“æ‹¡å¼µï¼ˆ3ã‚¿ãƒ–ï¼‰ | `frontend/src/components/FooterNav.tsx` | é«˜ |
| 6 | å®¶æ—ãƒ›ãƒ¼ãƒ å®Ÿè£… | `frontend/src/pages/family/FamilyDashboard.tsx` | é«˜ |
| 7 | ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã‚¢ã‚¤ãƒ†ãƒ  | `frontend/src/components/family/TimelineItem.tsx` | é«˜ |
| 8 | ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ã‚«ãƒ¼ãƒ‰ | `frontend/src/components/family/EvidenceCard.tsx` | é«˜ |
| 9 | ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ãƒ»ãƒ¢ãƒ‹ã‚¿ãƒ¼å®Ÿè£… | `frontend/src/pages/family/EvidenceMonitor.tsx` | é«˜ |
| 10 | ã‚±ã‚¢ä»•æ§˜ãƒ“ãƒ«ãƒ€ãƒ¼å®Ÿè£… | `frontend/src/pages/family/RequestBuilder.tsx` | ä¸­ |
| 11 | ãƒ—ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³ | `frontend/src/components/family/PresetButton.tsx` | ä¸­ |
| 12 | æ¡ä»¶ãƒ­ã‚¸ãƒƒã‚¯ãƒ“ãƒ«ãƒ€ãƒ¼ | `frontend/src/components/family/ConditionBuilder.tsx` | ä¸­ |
| 13 | ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¿½åŠ  | `frontend/src/App.tsx` | é«˜ |
| 14 | ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»å‹•ä½œç¢ºèª | - | é«˜ |

### 7.0-5. ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

#### CareInstructionï¼ˆæ§‹é€ åŒ–ã‚±ã‚¢æŒ‡ç¤ºï¼‰

```typescript
interface CareInstruction {
  id: string;
  userId: string;              // ã”å®¶æ—ID
  residentId: string;          // å…¥å±…è€…ID
  targetDate: string;          // "2025-12-14"
  mealTime: 'breakfast' | 'lunch' | 'dinner' | 'snack';
  menuName: string;            // "ã‚­ã‚¦ã‚¤"
  processingDetail: string;    // è©³ç´°æŒ‡ç¤ºï¼ˆå¿…é ˆãƒ»é•·æ–‡OKï¼‰
  conditions?: {
    trigger: 'leftover' | 'poor_condition' | 'no_appetite' | 'after_rehab';
    action: 'reserve_snack' | 'reduce_amount' | 'cancel' | 'alternative';
  }[];
  priority: 'normal' | 'critical';
  status: 'pending' | 'acknowledged' | 'completed';
  createdAt: Timestamp;
  updatedAt: Timestamp;
}
```

### Phase 7.0 å®Œäº†æ¡ä»¶ âœ…

- [x] `docs/FAMILY_UX_DESIGN.md` ä½œæˆ
- [x] `docs/ARCHITECTURE.md` æ›´æ–°ï¼ˆFlow Cè©³ç´°ï¼‰
- [x] ãƒ‡ãƒ¢ç”¨ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ä½œæˆ
- [x] ãƒ•ãƒƒã‚¿ãƒ¼ãƒŠãƒ“3ã‚¿ãƒ–åŒ–
- [x] View C: å®¶æ—ãƒ›ãƒ¼ãƒ ï¼ˆã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ï¼‰å®Ÿè£…
- [x] View A: ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ãƒ»ãƒ¢ãƒ‹ã‚¿ãƒ¼å®Ÿè£…
- [x] View B: ã‚±ã‚¢ä»•æ§˜ãƒ“ãƒ«ãƒ€ãƒ¼å®Ÿè£…
- [x] ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¿½åŠ ï¼ˆ`/family`é…ä¸‹ï¼‰
- [x] Firebase Hosting ãƒ‡ãƒ—ãƒ­ã‚¤
- [x] å‹•ä½œç¢ºèª

---

## Phase 7.1: äºˆå®Ÿç®¡ç†ï¼ˆPlan/Resulté€£æºï¼‰ âœ… å®Œäº†

**ç›®çš„**: ã‚¹ã‚¿ãƒƒãƒ•ã®é£Ÿäº‹å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ï¼ˆResultï¼‰ã‚’å®¶æ—ãƒ“ãƒ¥ãƒ¼ã«è‡ªå‹•åæ˜ ã™ã‚‹äºˆå®Ÿç®¡ç†æ©Ÿèƒ½ã‚’å®Ÿè£…ã€‚

> **è©³ç´°è¨­è¨ˆ**: [PLAN_RESULT_MANAGEMENT.md](./PLAN_RESULT_MANAGEMENT.md) ã‚’å‚ç…§

### 7.1-1. è¨­è¨ˆæ–¹é‡

**æ–¹é‡Bã€Œèª­ã¿å–ã‚Šæ™‚JOINã€ã‚’æ¡ç”¨**:
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ä¿®æ­£ã‚¼ãƒ­ï¼ˆæ—¢å­˜API `getPlanData` ã‚’æ´»ç”¨ï¼‰
- Firestoreãƒˆãƒªã‚¬ãƒ¼ä¸è¦ â†’ ã‚³ã‚¹ãƒˆå¢—ãªã—
- 15åˆ†åŒæœŸãƒ©ã‚°è¨±å®¹ï¼ˆå®‰å®šé‹ç”¨å„ªå…ˆï¼‰

### 7.1-2. å®Ÿè£…å†…å®¹

| ãƒ•ã‚¡ã‚¤ãƒ« | å¤‰æ›´ç¨®åˆ¥ | å†…å®¹ |
|---------|----------|------|
| `frontend/src/utils/mealTimeMapping.ts` | **æ–°è¦** | é£Ÿäº‹æ™‚é–“ãƒãƒƒãƒ”ãƒ³ã‚°ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ |
| `frontend/src/hooks/useFamilyMealRecords.ts` | **æ–°è¦** | é£Ÿäº‹ã‚·ãƒ¼ãƒˆã‹ã‚‰Resultå–å¾—ãƒ•ãƒƒã‚¯ |
| `frontend/src/types/family.ts` | ä¿®æ­£ | MealResultå‹è¿½åŠ  |
| `frontend/src/pages/family/EvidenceMonitor.tsx` | ä¿®æ­£ | ãƒ¢ãƒƒã‚¯â†’å®Ÿãƒ‡ãƒ¼ã‚¿åˆ‡æ›¿ |
| `frontend/src/pages/family/FamilyDashboard.tsx` | ä¿®æ­£ | ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã«å®Ÿç¸¾åæ˜  |
| `docs/PLAN_RESULT_MANAGEMENT.md` | **æ–°è¦** | è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ |

### 7.1-3. ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
é£Ÿäº‹å…¥åŠ›(ã‚¹ã‚¿ãƒƒãƒ•) â†’ Sheet B â†’ åŒæœŸ(15åˆ†æ¯) â†’ Firestore plan_data/
                                                    â†“
å®¶æ—ãƒ“ãƒ¥ãƒ¼ â†’ useFamilyMealRecords â†’ æ—¥ä»˜+é£Ÿäº‹æ™‚é–“ã§ãƒ•ã‚£ãƒ«ã‚¿ â†’ è¡¨ç¤º
                                                    â†‘
å®¶æ—é€£çµ¡(Plan) â†’ ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ (å°†æ¥: Firestore care_instructions/)
```

### Phase 7.1 å®Œäº†æ¡ä»¶ âœ…

- [x] è¨­è¨ˆæ›¸ä½œæˆï¼ˆPLAN_RESULT_MANAGEMENT.mdï¼‰
- [x] é£Ÿäº‹æ™‚é–“ãƒãƒƒãƒ”ãƒ³ã‚°ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ä½œæˆ
- [x] MealResultå‹å®šç¾©è¿½åŠ 
- [x] useFamilyMealRecordsãƒ•ãƒƒã‚¯ä½œæˆ
- [x] EvidenceMonitorä¿®æ­£ï¼ˆå®Ÿãƒ‡ãƒ¼ã‚¿å–å¾—ï¼‰
- [x] FamilyDashboardä¿®æ­£ï¼ˆå®Ÿãƒ‡ãƒ¼ã‚¿åæ˜ ï¼‰
- [x] ãƒ“ãƒ«ãƒ‰ç¢ºèª
- [x] ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤

---

## Phase 8.1: å“ç‰©ç®¡ç†åŸºç›¤ï¼ˆCareItemsï¼‰ âœ… å®Œäº†

**ç›®çš„**: å®¶æ—ãŒé€ä»˜ã—ãŸå“ç‰©ï¼ˆå·®ã—å…¥ã‚Œï¼‰ã‚’ç®¡ç†ã—ã€ã‚¹ã‚¿ãƒƒãƒ•ãŒæä¾›ãƒ»æ‘‚é£Ÿè¨˜éŒ²ã‚’å…¥åŠ›ã§ãã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã€‚

> **è©³ç´°è¨­è¨ˆ**: [ITEM_MANAGEMENT_SPEC.md](./ITEM_MANAGEMENT_SPEC.md) ã‚’å‚ç…§

### 8.1-1. å®Ÿè£…å†…å®¹

| ã‚«ãƒ†ã‚´ãƒª | ãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ |
|----------|----------|------|
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ | `functions/src/functions/careItems.ts` | CRUD APIï¼ˆä½œæˆãƒ»å–å¾—ãƒ»æ›´æ–°ãƒ»å‰Šé™¤ï¼‰ |
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ | `functions/src/types/careItem.ts` | CareItemå‹å®šç¾© |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | `frontend/src/types/careItem.ts` | CareItemå‹å®šç¾©ï¼ˆå…±é€šï¼‰ |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | `frontend/src/pages/family/ItemManagement.tsx` | å“ç‰©ä¸€è¦§ãƒšãƒ¼ã‚¸ |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | `frontend/src/pages/family/ItemForm.tsx` | å“ç‰©ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ  |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | `frontend/src/components/family/ItemCard.tsx` | å“ç‰©ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | `frontend/src/hooks/useCareItems.ts` | React Queryãƒ•ãƒƒã‚¯ |

### 8.1-2. ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

```typescript
interface CareItem {
  id: string;
  residentId: string;
  userId: string;
  itemName: string;
  sentDate: string;
  expirationDate?: string;
  quantity: number;
  servingMethod: ServingMethod;
  plannedServeDate?: string;
  actualServeDate?: string;
  servedQuantity?: number;
  consumptionRate?: number;
  consumptionStatus?: ConsumptionStatus;
  noteToFamily?: string;
  noteToStaff?: string;
  status: ItemStatus;
  createdAt: Timestamp;
  updatedAt: Timestamp;
}
```

### 8.1-3. API

| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ |
|---------------|---------|------|
| `/createCareItem` | POST | å“ç‰©ç™»éŒ² |
| `/getCareItems` | GET | å“ç‰©ä¸€è¦§å–å¾— |
| `/updateCareItem` | PUT | å“ç‰©æ›´æ–° |
| `/deleteCareItem` | DELETE | å“ç‰©å‰Šé™¤ |

### Phase 8.1 å®Œäº†æ¡ä»¶ âœ…

- [x] ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIå®Ÿè£…ï¼ˆCRUDï¼‰
- [x] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å“ç‰©ä¸€è¦§ãƒšãƒ¼ã‚¸
- [x] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å“ç‰©ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ 
- [x] React Queryãƒ•ãƒƒã‚¯ä½œæˆ
- [x] ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¿½åŠ ï¼ˆ`/family/items`ï¼‰
- [x] FamilyDashboardã«ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ³ã‚¯è¿½åŠ 
- [x] ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤

---

## Phase 8.2: ã‚¿ã‚¹ã‚¯ç®¡ç†ï¼ˆTasksï¼‰ âœ… å®Œäº†

**ç›®çš„**: è³å‘³æœŸé™è­¦å‘Šãƒ»æä¾›ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ç­‰ã®ã‚¿ã‚¹ã‚¯ã‚’ç®¡ç†ã—ã€ã‚¹ã‚¿ãƒƒãƒ•ãŒå®Œäº†å‡¦ç†ã§ãã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã€‚

> **è©³ç´°è¨­è¨ˆ**: [TASK_MANAGEMENT_SPEC.md](./TASK_MANAGEMENT_SPEC.md) ã‚’å‚ç…§

### 8.2-1. å®Ÿè£…å†…å®¹

| ã‚«ãƒ†ã‚´ãƒª | ãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ |
|----------|----------|------|
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ | `functions/src/functions/tasks.ts` | CRUD APIï¼ˆä½œæˆãƒ»å–å¾—ãƒ»æ›´æ–°ãƒ»å‰Šé™¤ï¼‰ |
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ | `functions/src/types/task.ts` | Taskå‹å®šç¾© |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | `frontend/src/types/task.ts` | Taskå‹å®šç¾©ï¼ˆå…±é€šï¼‰ |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | `frontend/src/pages/family/TaskList.tsx` | ã‚¿ã‚¹ã‚¯ä¸€è¦§ãƒšãƒ¼ã‚¸ |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | `frontend/src/hooks/useTasks.ts` | React Queryãƒ•ãƒƒã‚¯ |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | `frontend/src/api/index.ts` | ã‚¿ã‚¹ã‚¯APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¿½åŠ  |

### 8.2-2. ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

```typescript
interface Task {
  id: string;
  residentId: string;
  userId?: string;
  title: string;
  description?: string;
  taskType: TaskType;
  relatedItemId?: string;
  dueDate: string;
  dueTime?: string;
  status: TaskStatus;
  priority: TaskPriority;
  assignee?: string;
  completedBy?: string;
  completedAt?: Timestamp;
  completionNote?: string;
  notificationSent: boolean;
  createdAt: Timestamp;
  updatedAt: Timestamp;
}
```

### 8.2-3. API

| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ |
|---------------|---------|------|
| `/createTask` | POST | ã‚¿ã‚¹ã‚¯ä½œæˆ |
| `/getTasks` | GET | ã‚¿ã‚¹ã‚¯ä¸€è¦§å–å¾—ï¼ˆãƒ•ã‚£ãƒ«ã‚¿ãƒ»ã‚½ãƒ¼ãƒˆå¯¾å¿œï¼‰ |
| `/updateTask` | PUT | ã‚¿ã‚¹ã‚¯æ›´æ–°ï¼ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´ãƒ»å®Œäº†å‡¦ç†ï¼‰ |
| `/deleteTask` | DELETE | ã‚¿ã‚¹ã‚¯å‰Šé™¤ |

### 8.2-4. UIæ©Ÿèƒ½

| æ©Ÿèƒ½ | èª¬æ˜ |
|------|------|
| ãƒ•ã‚£ãƒ«ã‚¿ã‚¿ãƒ– | å…¨ã¦/æœªç€æ‰‹/å¯¾å¿œä¸­/å®Œäº† |
| æœŸé™åˆ‡ã‚Œè¡¨ç¤º | æœŸé™åˆ‡ã‚Œã‚¿ã‚¹ã‚¯ã¯èµ¤ã„ãƒã‚¤ãƒ©ã‚¤ãƒˆ |
| å®Œäº†ãƒ¢ãƒ¼ãƒ€ãƒ« | å®Œäº†ãƒ¡ãƒ¢å…¥åŠ›å¯¾å¿œ |
| ãƒãƒƒã‚¸è¡¨ç¤º | FamilyDashboardã«æœªå®Œäº†ã‚¿ã‚¹ã‚¯æ•°ãƒãƒƒã‚¸ |

### Phase 8.2 å®Œäº†æ¡ä»¶ âœ…

- [x] ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIå®Ÿè£…ï¼ˆCRUDï¼‰
- [x] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¿ã‚¹ã‚¯ä¸€è¦§ãƒšãƒ¼ã‚¸
- [x] ãƒ•ã‚£ãƒ«ã‚¿ãƒ»ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½
- [x] å®Œäº†å‡¦ç†ãƒ¢ãƒ¼ãƒ€ãƒ«
- [x] React Queryãƒ•ãƒƒã‚¯ä½œæˆ
- [x] ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¿½åŠ ï¼ˆ`/family/tasks`ï¼‰
- [x] FamilyDashboardã«ã‚¿ã‚¹ã‚¯ãƒãƒƒã‚¸è¿½åŠ 
- [x] ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤

---

## Phase 9.0: ãƒ“ãƒ¥ãƒ¼æ§‹æˆè¨­è¨ˆ âœ… å®Œäº†

**ç›®çš„**: ã‚¹ã‚¿ãƒƒãƒ•ãƒ»å®¶æ—é–“ã§ãƒ‡ãƒ¼ã‚¿ãŒäº¤å·®ã™ã‚‹ãƒ“ãƒ¥ãƒ¼æ§‹æˆã‚’è¨­è¨ˆã—ã€ä¸¡è€…ãŒåŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’ç•°ãªã‚‹è¦–ç‚¹ã§é–²è¦§ãƒ»æ“ä½œã§ãã‚‹æ•´åˆæ€§ã®ã‚ã‚‹è¨­è¨ˆã‚’å®šç¾©ã€‚

> **è©³ç´°è¨­è¨ˆ**: [VIEW_ARCHITECTURE_SPEC.md](./VIEW_ARCHITECTURE_SPEC.md) ã‚’å‚ç…§

### 9.0-1. è¨­è¨ˆåŸå‰‡

| åŸå‰‡ | èª¬æ˜ |
|------|------|
| ãƒ‡ãƒ¼ã‚¿äº¤å·® | å®¶æ—ãŒç™»éŒ²ã—ãŸå“ç‰©ã‚’ã‚¹ã‚¿ãƒƒãƒ•ãŒé–²è¦§ãƒ»æ“ä½œã—ã€ãã®çµæœã‚’å®¶æ—ãŒç¢ºèª |
| å…±æœ‰ãƒ“ãƒ¥ãƒ¼ | è¨˜éŒ²é–²è¦§ãƒ»çµ±è¨ˆãªã©ã€åŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’ä¸¡è€…ãŒè¦‹ã‚Œã‚‹ãƒ“ãƒ¥ãƒ¼ |
| å°‚ç”¨ãƒ“ãƒ¥ãƒ¼ | å…¥åŠ›ãƒ»æ“ä½œç³»ã¯ãƒ­ãƒ¼ãƒ«å°‚ç”¨ï¼ˆèª¤æ“ä½œé˜²æ­¢ï¼‰ |
| ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸ | æ›´æ–°ãŒã‚ã‚Œã°å³åº§ã«åæ˜  |

### 9.0-2. ãƒ“ãƒ¥ãƒ¼æ§‹æˆ

| ãƒ‘ã‚¹ | åç§° | ãƒ­ãƒ¼ãƒ« | èª¬æ˜ |
|------|------|--------|------|
| `/view` | è¨˜éŒ²é–²è¦§ | å…±æœ‰ | é£Ÿäº‹è¨˜éŒ²ãƒ»ãƒã‚¤ã‚¿ãƒ«ç­‰ã®é–²è¦§ |
| `/stats` | çµ±è¨ˆ | å…±æœ‰ | å“ç‰©çŠ¶æ³ãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆã®å¯è¦–åŒ– |
| `/items/:id/timeline` | ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ | å…±æœ‰ | å“ç‰©ã®å±¥æ­´ï¼ˆç™»éŒ²ã€œæ¶ˆè²»ï¼‰ |
| `/staff/family-messages` | å®¶æ—é€£çµ¡ | ã‚¹ã‚¿ãƒƒãƒ• | å®¶æ—ã‹ã‚‰ã®å“ç‰©ãƒ»æŒ‡ç¤ºä¸€è¦§ |
| `/staff/family-messages/:id` | æ¶ˆè²»è¨˜éŒ² | ã‚¹ã‚¿ãƒƒãƒ• | æä¾›ãƒ»æ‘‚é£Ÿã®è¨˜éŒ²å…¥åŠ› |
| `/family/items` | å“ç‰©ç®¡ç† | å®¶æ— | å“ç‰©ã®ç™»éŒ²ãƒ»ä¸€è¦§ãƒ»ç·¨é›† |
| `/family/items/:id` | å“ç‰©è©³ç´° | å®¶æ— | å“ç‰©ã®è©³ç´°ãƒ»æ¶ˆè²»å±¥æ­´ |

### Phase 9.0 å®Œäº†æ¡ä»¶ âœ…

- [x] VIEW_ARCHITECTURE_SPEC.md ä½œæˆ
- [x] ãƒ“ãƒ¥ãƒ¼æ§‹æˆå›³ãƒ»ãƒ‡ãƒ¼ã‚¿äº¤å·®ãƒ•ãƒ­ãƒ¼å®šç¾©
- [x] ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¨­è¨ˆ
- [x] ãƒ‡ãƒ¼ã‚¿å±¤3éšå±¤ãƒ¢ãƒ‡ãƒ«å®šç¾©ï¼ˆFoodMasterâ†’CareItemâ†’ConsumptionLogï¼‰

---

## Phase 9.1: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ»ãƒšãƒ¼ã‚¸å®Ÿè£… âœ… å®Œäº†

**ç›®çš„**: Phase 9.0ã§è¨­è¨ˆã—ãŸãƒ“ãƒ¥ãƒ¼æ§‹æˆã‚’å®Ÿè£…ã—ã€ã‚¹ã‚¿ãƒƒãƒ•ãƒ»å®¶æ—ãã‚Œãã‚Œã®ãƒ“ãƒ¥ãƒ¼ã‚’æ§‹ç¯‰ã€‚

### 9.1-1. å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«

| ãƒ•ã‚¡ã‚¤ãƒ« | èª¬æ˜ |
|----------|------|
| `App.tsx` | /staff/* ãƒ«ãƒ¼ãƒˆè¿½åŠ ã€ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆè¨­å®š |
| `FooterNav.tsx` | å®¶æ—ç”¨ãƒ•ãƒƒã‚¿ãƒ¼ã«ã€Œè¨˜éŒ²é–²è¦§ã€ã‚¿ãƒ–è¿½åŠ  |
| `pages/staff/StaffHome.tsx` | ã‚¹ã‚¿ãƒƒãƒ•ãƒ›ãƒ¼ãƒ ï¼ˆã‚¿ã‚¹ã‚¯ãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤ºï¼‰ |
| `pages/staff/FamilyMessages.tsx` | å®¶æ—é€£çµ¡ä¸€è¦§ |
| `pages/staff/FamilyMessageDetail.tsx` | å®¶æ—é€£çµ¡è©³ç´°ãƒ»æ¶ˆè²»è¨˜éŒ²å…¥åŠ› |
| `pages/shared/ItemTimeline.tsx` | å“ç‰©ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ï¼ˆå…±æœ‰ãƒ“ãƒ¥ãƒ¼ï¼‰ |
| `pages/family/ItemDetail.tsx` | å“ç‰©è©³ç´°ï¼ˆå®¶æ—ç”¨ï¼‰ |
| `types/careItem.ts` | getStorageLabel, getServingMethodLabelé–¢æ•°è¿½åŠ  |

### 9.1-2. ãƒã‚°ä¿®æ­£

| å•é¡Œ | åŸå›  | ä¿®æ­£ |
|------|------|------|
| çµ±è¨ˆãƒ“ãƒ¥ãƒ¼ç„¡é™ãƒ«ãƒ¼ãƒ— | useStatsãƒ•ãƒƒã‚¯ã§includeé…åˆ—ãŒæ¯å›æ–°å‚ç…§ | useRefã§åˆå›å€¤å›ºå®š + hasFetchedRefãƒ•ãƒ©ã‚° |

### Phase 9.1 å®Œäº†æ¡ä»¶ âœ…

- [x] App.tsx ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ä¿®æ­£
- [x] FooterNav.tsx ä¿®æ­£ï¼ˆå®¶æ—ç”¨ã‚¿ãƒ–å¤‰æ›´ï¼‰
- [x] StaffHome.tsx æ–°è¦ä½œæˆ
- [x] FamilyMessages.tsx æ–°è¦ä½œæˆ
- [x] FamilyMessageDetail.tsx æ–°è¦ä½œæˆ
- [x] ItemTimeline.tsx æ–°è¦ä½œæˆ
- [x] ItemDetail.tsx æ–°è¦ä½œæˆ
- [x] careItem.ts å‹å®šç¾©æ‹¡å¼µ
- [x] useStatsç„¡é™ãƒ«ãƒ¼ãƒ—ä¿®æ­£
- [x] ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤

---

## Phase 9.2: æ¶ˆè²»è¨˜éŒ²é€£æº âœ… å®Œäº†

**å®Œäº†æ—¥**: 2025-12-17

**ç›®çš„**: å“ç‰©ã®æä¾›ãƒ»æ‘‚é£Ÿè¨˜éŒ²ã‚’APIã§ç®¡ç†ã—ã€ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³å½¢å¼ã§è¡¨ç¤º

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰**:
- `functions/src/functions/consumptionLogs.ts` - æ¶ˆè²»ãƒ­ã‚°CRUD API
- `functions/src/types/index.ts` - ConsumptionLogå‹è¿½åŠ 

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰**:
- `frontend/src/types/consumptionLog.ts` - æ¶ˆè²»ãƒ­ã‚°å‹å®šç¾©
- `frontend/src/hooks/useConsumptionLogs.ts` - æ¶ˆè²»ãƒ­ã‚°ãƒ•ãƒƒã‚¯
- `frontend/src/components/staff/ConsumptionRecordModal.tsx` - æ¶ˆè²»è¨˜éŒ²ãƒ¢ãƒ¼ãƒ€ãƒ«
- `frontend/src/components/shared/InventoryBar.tsx` - åœ¨åº«ãƒãƒ¼

---

## Phase 9.x: ç¦æ­¢ãƒ«ãƒ¼ãƒ«æ©Ÿèƒ½ âœ… å®Œäº†

**å®Œäº†æ—¥**: 2025-12-17

**ç›®çš„**: å®¶æ—ãŒè¨­å®šã—ãŸã€Œæä¾›ç¦æ­¢å“ç›®ã€ã‚’ã‚¹ã‚¿ãƒƒãƒ•ã«è­¦å‘Šè¡¨ç¤º

**è¨­è¨ˆæ›¸**: [ITEM_MANAGEMENT_SPEC.md ã‚»ã‚¯ã‚·ãƒ§ãƒ³8](./ITEM_MANAGEMENT_SPEC.md#8-ç¦æ­¢ãƒ«ãƒ¼ãƒ«æä¾›ç¦æ­¢å“ç›®)

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰**:
- `functions/src/functions/prohibitions.ts` - ç¦æ­¢ãƒ«ãƒ¼ãƒ«CRUD API

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰**:
- `frontend/src/hooks/useProhibitions.ts` - ç¦æ­¢ãƒ«ãƒ¼ãƒ«ãƒ•ãƒƒã‚¯
- `frontend/src/pages/family/ResidentSettings.tsx` - å…¥å±…è€…è¨­å®šç”»é¢
- `frontend/src/components/staff/ProhibitionWarning.tsx` - ç¦æ­¢è­¦å‘Š
- `frontend/src/components/staff/ProhibitionBadge.tsx` - ç¦æ­¢ãƒãƒƒã‚¸

---

## Phase 9.3: çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ‹¡å¼µ âœ… å®Œäº†

**å®Œäº†æ—¥**: 2025-12-17

**ç›®çš„**: åœ¨åº«ã‚µãƒãƒªãƒ¼ãƒ»é£Ÿå“å‚¾å‘åˆ†æAPIã€æ‘‚é£Ÿå‚¾å‘ã‚¿ãƒ–ã®å®Ÿè£…

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰**:
- `functions/src/functions/inventoryStats.ts` - åœ¨åº«ã‚µãƒãƒªãƒ¼ãƒ»é£Ÿå“çµ±è¨ˆAPI

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰**:
- `frontend/src/types/stats.ts` - çµ±è¨ˆå‹å®šç¾©è¿½åŠ 
- `frontend/src/pages/shared/StatsDashboard.tsx` - æ‘‚é£Ÿå‚¾å‘ã‚¿ãƒ–è¿½åŠ 

---

## ãƒ‡ãƒ¢ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹å®Ÿè£… âœ… å®Œäº†

**è¨­è¨ˆæ›¸**: [DEMO_SHOWCASE_SPEC.md](./DEMO_SHOWCASE_SPEC.md)ã€[DEMO_FAMILY_REDESIGN.md](./DEMO_FAMILY_REDESIGN.md)

**ç›®çš„**: æœ¬ç•ªãƒ‡ãƒ¼ã‚¿ã«å½±éŸ¿ã›ãšã€ãƒ‡ãƒ¢ãƒ»ãƒ—ãƒ¬ã‚¼ãƒ³ç”¨ã®å°‚ç”¨ç’°å¢ƒã‚’æä¾›

**URL**: https://facility-care-input-form.web.app/demo

**ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ**: å®¶æ—ï¼ˆå…¥å±…è€…ã®å®¶æ—ï¼‰ãŒãƒ¡ã‚¤ãƒ³ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ
**ãƒ†ãƒ¼ãƒ**: ã€Œé›¢ã‚Œã¦æš®ã‚‰ã™è¦ªå¾¡ã•ã‚“ã®ã‚±ã‚¢ã‚’è¦‹å®ˆã‚‹ã€

**é€²æ—**:
| Phase | å†…å®¹ | çŠ¶æ…‹ |
|-------|------|------|
| Phase 1 | åŸºç›¤æ§‹ç¯‰ï¼ˆuseDemoMode, ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°, DemoHomeï¼‰ | âœ… å®Œäº† |
| Phase 2 | ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ä½œæˆï¼ˆdemoCareItems, demoStatsç­‰ï¼‰ | âœ… å®Œäº† |
| Phase 3 | ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒƒã‚¯å¯¾å¿œï¼ˆuseCareItemsç­‰ã®ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œï¼‰ | âœ… å®Œäº† |
| Phase 4 | ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ï¼ˆDemoShowcaseå®Œæˆï¼‰ | âœ… å®Œäº† |
| Phase 5 | **å®¶æ—å‘ã‘ç‰¹åŒ–ãƒªãƒ‡ã‚¶ã‚¤ãƒ³** | âœ… å®Œäº† |

**å®¶æ—è¦–ç‚¹6ã‚¹ãƒ†ãƒƒãƒ—ãƒ„ã‚¢ãƒ¼**:
1. å“ç‰©ã‚’ç™»éŒ²ã™ã‚‹ â†’ `/demo/family/items/new`
2. ç™»éŒ²ã—ãŸå“ç‰©ã‚’ç¢ºèª â†’ `/demo/family/items`
3. ã„ã¤ã‚‚ã®æŒ‡ç¤ºã‚’è¨­å®š â†’ `/demo/family/presets`
4. å…¥å±…è€…è¨­å®šã‚’ç¢ºèª â†’ `/demo/family/settings/resident`
5. ä»Šæ—¥ã®æ§˜å­ã‚’ç¢ºèª â†’ `/demo/family`
6. å‚¾å‘ã‚’åˆ†æã™ã‚‹ â†’ `/demo/stats`

> **æ³¨**: `/demo/staff/*` ãƒ«ãƒ¼ãƒˆã¯ç„¡åŠ¹åŒ–ï¼ˆå°†æ¥ `/demo/staff-app` ã¨ã—ã¦å¾©æ´»äºˆå®šï¼‰

**å®Œæˆæ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«**:
- `frontend/src/hooks/useDemoMode.ts` - ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰åˆ¤å®šãƒ•ãƒƒã‚¯
- `frontend/src/data/demo/` - ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ï¼ˆ12å“ç‰©ã€18ãƒ­ã‚°ã€9ã‚¿ã‚¹ã‚¯ç­‰ï¼‰
- `frontend/src/pages/demo/DemoHome.tsx` - ãƒ‡ãƒ¢ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ï¼ˆå®¶æ—å‘ã‘ç‰¹åŒ–ï¼‰
- `frontend/src/pages/demo/DemoShowcase.tsx` - å®¶æ—è¦–ç‚¹ã‚¬ã‚¤ãƒ‰ä»˜ããƒ„ã‚¢ãƒ¼
- `frontend/src/hooks/useCareItems.ts` - ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œæ¸ˆã¿
- `frontend/src/hooks/useStats.ts` - ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œæ¸ˆã¿
- `frontend/src/hooks/useTasks.ts` - ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œæ¸ˆã¿
- `frontend/src/hooks/useConsumptionLogs.ts` - ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œæ¸ˆã¿
- `frontend/src/App.tsx` - ãƒ‡ãƒ¢ãƒ«ãƒ¼ãƒˆè¿½åŠ æ¸ˆã¿ï¼ˆã‚¹ã‚¿ãƒƒãƒ•ç„¡åŠ¹åŒ–ï¼‰

---

## Phase 10: é–“é£Ÿè¨˜éŒ²é€£æº âœ… å®Œäº†

**å®Œäº†æ—¥**: 2025-12-18

**ç›®çš„**: ã‚¹ã‚¿ãƒƒãƒ•ã®é£Ÿäº‹è¨˜éŒ²å…¥åŠ›ï¼ˆé–“é£Ÿã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼‰ã¨å®¶æ—ã®å“ç‰©ç®¡ç†ã‚’é€£æºã•ã›ã€ã€Œå®¶æ—ãŒé€ã£ãŸå“ç‰©ãŒã©ã®ã‚ˆã†ã«æä¾›ãƒ»æ‘‚é£Ÿã•ã‚ŒãŸã‹ã€ã‚’è©³ç´°ã«è¿½è·¡å¯èƒ½ã«ã™ã‚‹ã€‚

> **è©³ç´°è¨­è¨ˆ**: [SNACK_RECORD_INTEGRATION_SPEC.md](./SNACK_RECORD_INTEGRATION_SPEC.md) ã‚’å‚ç…§

### Phaseåˆ†å‰²ï¼ˆ6æ®µéšï¼‰

| Phase | å†…å®¹ | çŠ¶æ…‹ |
|-------|------|------|
| Phase 1 | APIæ‹¡å¼µï¼ˆsubmitMealRecord + æ¶ˆè²»ãƒ­ã‚°é€£æºï¼‰ | âœ… å®Œäº† |
| Phase 2 | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ - å“ç‰©ãƒªã‚¹ãƒˆè¡¨ç¤º | âœ… å®Œäº† |
| Phase 3 | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ - æä¾›è¨˜éŒ²å…¥åŠ›UI | âœ… å®Œäº† |
| Phase 4 | å®¶æ—ãƒšãƒ¼ã‚¸é€£æºï¼ˆæ¶ˆè²»ãƒ­ã‚°è¡¨ç¤ºãƒ»æŒ‡ç¤ºå¯¾å¿œç¢ºèªï¼‰ | âœ… å®Œäº† |
| Phase 5 | AIã‚µã‚¸ã‚§ã‚¹ãƒˆçµ±åˆï¼ˆæ¨å¥¨æä¾›æ•°ãƒ»æœŸé™è­¦å‘Šï¼‰ | âœ… å®Œäº† |
| Phase 6 | E2Eãƒ†ã‚¹ãƒˆï¼ˆ11ä»¶è¿½åŠ ï¼‰ | âœ… å®Œäº† |

### å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«

**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**:
- `functions/src/types/index.ts` - SnackRecordå‹ã€ConsumptionLogæ‹¡å¼µ
- `functions/src/services/consumptionLogService.ts` - æ¶ˆè²»ãƒ­ã‚°é€£æºã‚µãƒ¼ãƒ“ã‚¹
- `functions/src/functions/submitMealRecord.ts` - APIæ‹¡å¼µ

**ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**:
- `frontend/src/components/meal/` - é–“é£Ÿã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç¾¤
  - `FamilyItemCard.tsx` - å“ç‰©ã‚«ãƒ¼ãƒ‰ï¼ˆåœ¨åº«ãƒ»æœŸé™ãƒ»æŒ‡ç¤ºè¡¨ç¤ºï¼‰
  - `FamilyItemList.tsx` - å“ç‰©ãƒªã‚¹ãƒˆ
  - `SnackRecordCard.tsx` - æä¾›è¨˜éŒ²å…¥åŠ›ã‚«ãƒ¼ãƒ‰ï¼ˆã‚µã‚¸ã‚§ã‚¹ãƒˆè¡¨ç¤ºä»˜ãï¼‰
  - `SnackSection.tsx` - é–“é£Ÿã‚»ã‚¯ã‚·ãƒ§ãƒ³çµ±åˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- `frontend/src/utils/snackSuggestion.ts` - ã‚µã‚¸ã‚§ã‚¹ãƒˆè¨ˆç®—ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
- `frontend/src/hooks/useSnackSuggestion.ts` - ã‚µã‚¸ã‚§ã‚¹ãƒˆãƒ•ãƒƒã‚¯ï¼ˆæ‘‚é£Ÿå‚¾å‘é€£æºï¼‰
- `frontend/e2e/snack-record.spec.ts` - E2Eãƒ†ã‚¹ãƒˆï¼ˆ11ä»¶ï¼‰

### ãƒ†ã‚¹ãƒˆçµæœ

| ãƒ†ã‚¹ãƒˆç¨®åˆ¥ | ä»¶æ•° | çµæœ |
|------------|------|------|
| ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆsnackSuggestionï¼‰ | 16ä»¶ | âœ… å…¨é€šé |
| E2Eãƒ†ã‚¹ãƒˆï¼ˆsnack-recordï¼‰ | 11ä»¶ | âœ… å…¨é€šé |

---

## æ—§Phase 9.2 ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆå‚è€ƒï¼‰

**ç›®çš„**: ConsumptionLog APIã‚’å®Ÿè£…ã—ã€FamilyMessageDetailã‹ã‚‰ã®æ¶ˆè²»è¨˜éŒ²ã‚’Firestoreã«ä¿å­˜ã€ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã«è¡¨ç¤ºã€‚

> **è©³ç´°è¨­è¨ˆ**: [INVENTORY_CONSUMPTION_SPEC.md](./INVENTORY_CONSUMPTION_SPEC.md) ã‚’å‚ç…§

### 9.2-1. å®Ÿè£…äºˆå®š

| é …ç›® | èª¬æ˜ |
|------|------|
| ConsumptionLog API | æ¶ˆè²»è¨˜éŒ²CRUDï¼ˆcreateConsumptionLog, getConsumptionLogsï¼‰ |
| CareItemæ›´æ–°é€£æº | æ¶ˆè²»è¨˜éŒ²ä½œæˆæ™‚ã«remainingQuantityè‡ªå‹•æ›´æ–° |
| ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¡¨ç¤º | ItemTimeline.tsxã§å®Ÿãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºï¼ˆç¾åœ¨ã¯ãƒ¢ãƒƒã‚¯ï¼‰ |
| æ‘‚é£Ÿç‡è¨ˆç®— | çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«æ‘‚é£Ÿå‚¾å‘ã‚°ãƒ©ãƒ•è¿½åŠ  |

---

## ãƒªã‚¹ã‚¯ã¨å¯¾ç­–

| ãƒªã‚¹ã‚¯ | å½±éŸ¿ | å¯¾ç­– |
|--------|------|------|
| Sheets APIæ¨©é™ä¸è¶³ | Sheetèª­ã¿æ›¸ãå¤±æ•— | ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ã‚·ãƒ¼ãƒˆã«ç·¨é›†è€…ã¨ã—ã¦è¿½åŠ  |
| Boté€£æºãƒãƒƒã‚¯ã®èª¤å‹•ä½œ | é€šçŸ¥ãŒé£›ã°ãªã„/èª¤é€šçŸ¥ | å°‚ç”¨ãƒ†ã‚¹ãƒˆè¡Œã§äº‹å‰æ¤œè¨¼ |
| ç”»åƒã‚µã‚¤ã‚ºè¶…é | ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¤±æ•— | Cloud Functions ã®ãƒ¡ãƒ¢ãƒª/ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆèª¿æ•´ |
| Dev Mode ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ | ãƒ‡ãƒ¼ã‚¿æ¼æ´©ãƒªã‚¹ã‚¯ | ãƒ‡ãƒ¢çµ‚äº†å¾Œã«ãƒ«ãƒ¼ãƒ«å¤‰æ›´ã€URLã¯é–¢ä¿‚è€…é™å®šå…±æœ‰ |

---

## æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

**Phase 1-1 ã‹ã‚‰é–‹å§‹**: `docs/SETUP.md` ã«è©³ç´°ãªCLIã‚³ãƒãƒ³ãƒ‰ã‚’è¨˜è¼‰ã—ã€é †æ¬¡å®Ÿè¡Œã—ã¦ã„ãã€‚

```bash
# æœ€åˆã®ã‚³ãƒãƒ³ãƒ‰
gcloud projects create facility-care-demo --name="Facility Care Demo"
```
