# 設定モーダルUI改善仕様書

> **最終更新**: 2025年12月15日
>
> MealSettingsModal のボタン配置改善仕様

---

## 問題点

現在のUI:
```
┌──────────────────┐  ┌──────────────────┐
│      クリア       │  │       保存       │
└──────────────────┘  └──────────────────┘
```

**課題**:
1. 「クリア」と「保存」が並んでいると、「クリア」が「キャンセル」と誤解されやすい
2. ユーザーが誤って「クリア」を押して設定が全消去される危険性
3. 一般的なモーダルでは「キャンセル/保存」のペアが自然

---

## 改善仕様

### ボタン配置

```
┌──────────────────────────────────────────────┐
│           グローバル初期値設定                  │
├──────────────────────────────────────────────┤
│                                              │
│  [各入力フィールド...]                         │
│                                              │
│  ─────── 危険な操作 ───────                   │
│                                              │
│  🗑️ 全設定をクリア                            │  ← テキストリンク（赤色）
│                                              │
├──────────────────────────────────────────────┤
│  ┌──────────────────┐  ┌──────────────────┐ │
│  │    キャンセル      │  │       保存       │ │
│  └──────────────────┘  └──────────────────┘ │
└──────────────────────────────────────────────┘
```

### 変更内容

| 要素 | Before | After |
|------|--------|-------|
| 左ボタン | クリア | キャンセル |
| 右ボタン | 保存 | 保存（変更なし） |
| クリア機能 | フッターボタン | 本文下部のテキストリンク |
| クリア確認 | なし | 確認ダイアログ追加 |

### ボタン動作

| ボタン | 動作 |
|--------|------|
| キャンセル | モーダルを閉じる（変更を破棄） |
| 保存 | 設定をFirestoreに保存してモーダルを閉じる |
| 全設定をクリア | 確認ダイアログ → 全設定を空にして保存 |

### クリア確認ダイアログ

```
┌─────────────────────────────────────┐
│  全設定をクリアしますか？              │
│                                     │
│  この操作は取り消せません。            │
│  全ての初期値設定が空になります。       │
│                                     │
│  ┌─────────────┐  ┌─────────────┐  │
│  │  キャンセル   │  │   クリア    │  │
│  └─────────────┘  └─────────────┘  │
└─────────────────────────────────────┘
```

---

## スタイル仕様

### キャンセルボタン
- 背景: 白 (`bg-white`)
- 枠線: グレー (`border-gray-300`)
- 文字: グレー (`text-gray-700`)
- ホバー: 薄いグレー背景 (`hover:bg-gray-100`)

### 保存ボタン
- 背景: 黄色 (`bg-yellow-500`)
- 文字: 黒 (`text-black`)
- ホバー: 濃い黄色 (`hover:bg-yellow-600`)

### クリアリンク
- 文字: 赤 (`text-red-500`)
- アイコン: ゴミ箱
- ホバー: 下線 (`hover:underline`)
- 配置: 本文エリア下部、左寄せ

---

## 実装ファイル

- `frontend/src/components/MealSettingsModal.tsx`

---

## 更新履歴

| 日付 | 内容 |
|------|------|
| 2025-12-15 | 初版作成 |
