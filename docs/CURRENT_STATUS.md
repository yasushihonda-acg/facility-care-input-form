# ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

> **æœ€çµ‚æ›´æ–°**: 2025å¹´12æœˆ17æ—¥ (ã‚¹ã‚¿ãƒƒãƒ•å®¶æ—é€£çµ¡ãƒšãƒ¼ã‚¸ã®ãƒ‡ãƒ¢ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ä¿®æ­£)
>
> ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ä¼šè©±ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ã‚¯ãƒªã‚¢ã—ãŸå¾Œã§ã‚‚é–‹ç™ºã‚’ç¶™ç¶šã§ãã‚‹ã‚ˆã†ã€ç¾åœ¨ã®é€²æ—çŠ¶æ³ã‚’è¨˜éŒ²ã—ã¦ã„ã¾ã™ã€‚

---

## ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

| é …ç›® | å€¤ |
|------|-----|
| **ãƒ‡ãƒ¢URL** | https://facility-care-input-form.web.app |
| **ãƒ‡ãƒ¢ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹** | https://facility-care-input-form.web.app/demo |
| **ãƒªãƒã‚¸ãƒˆãƒª** | https://github.com/yasushihonda-acg/facility-care-input-form |
| **GitHub Pages** | https://yasushihonda-acg.github.io/facility-care-input-form/ |
| **å¼•ãç¶™ããƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ** | [HANDOVER.md](./HANDOVER.md) |
| **ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—** | [ROADMAP.md](./ROADMAP.md) |

---

## æœ€è¿‘ã®å®Œäº†ã‚¿ã‚¹ã‚¯

### ã‚¹ã‚¿ãƒƒãƒ•å®¶æ—é€£çµ¡ãƒšãƒ¼ã‚¸ã®ãƒ‡ãƒ¢ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ä¿®æ­£ (2025-12-17)

**è¨­è¨ˆæ›¸**: [FIX_DEMO_NAVIGATION.md](./FIX_DEMO_NAVIGATION.md) ã‚»ã‚¯ã‚·ãƒ§ãƒ³6

**èƒŒæ™¯ãƒ»å•é¡Œ**:
`/demo/staff/family-messages` ã§å“ç‰©ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€æœ¬ç•ªãƒšãƒ¼ã‚¸ `/staff/family-messages/{id}` ã«é·ç§»ã—ã¦ã—ã¾ã„ã€ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã€‚

**åŸå› **:
`FamilyMessages.tsx` ã¨ `FamilyMessageDetail.tsx` ã§ãƒªãƒ³ã‚¯å…ˆãŒãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã•ã‚Œã¦ãŠã‚Šã€ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ã‚’è€ƒæ…®ã—ã¦ã„ãªã‹ã£ãŸã€‚

**ä¿®æ­£å†…å®¹**:

| ãƒ•ã‚¡ã‚¤ãƒ« | ä¿®æ­£ç®‡æ‰€ |
|----------|----------|
| `FamilyMessages.tsx` | å“ç‰©ã‚«ãƒ¼ãƒ‰ã®ãƒªãƒ³ã‚¯å…ˆã‚’ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ |
| `FamilyMessageDetail.tsx` | ã€Œä¸€è¦§ã«æˆ»ã‚‹ã€ãƒªãƒ³ã‚¯ã€ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ãƒªãƒ³ã‚¯ã‚’ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ |

**ä¿®æ­£ãƒ‘ã‚¿ãƒ¼ãƒ³**:
```typescript
const isDemo = useDemoMode();
const pathPrefix = isDemo ? '/demo' : '';
<Link to={`${pathPrefix}/staff/family-messages/${item.id}`}
```

**E2Eãƒ†ã‚¹ãƒˆ**: 60/61 ãƒ‘ã‚¹ï¼ˆ1ä»¶ã®å¤±æ•—ã¯æœ¬ä¿®æ­£ã¨ç„¡é–¢ä¿‚ï¼‰

---

### ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰æ›¸ãè¾¼ã¿æ“ä½œã®å®‰å…¨å¯¾ç­– (2025-12-17)

**è¨­è¨ˆæ›¸**: [DEMO_SHOWCASE_SPEC.md](./DEMO_SHOWCASE_SPEC.md) ã‚»ã‚¯ã‚·ãƒ§ãƒ³11

**èƒŒæ™¯ãƒ»å•é¡Œ**:
ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ï¼ˆ`/demo/*`ï¼‰ã§å“ç‰©ç™»éŒ²ãƒ»å‰Šé™¤ãƒ»ã‚¿ã‚¹ã‚¯æ›´æ–°ç­‰ã®æ›¸ãè¾¼ã¿æ“ä½œã‚’è¡Œã†ã¨ã€
**æœ¬ç•ªã®Firestoreã«ãƒ‡ãƒ¼ã‚¿ãŒä¿å­˜**ã•ã‚Œã¦ã—ã¾ã†æ·±åˆ»ãªå•é¡ŒãŒç™ºè¦šã€‚

ä¾‹: `/demo/family/items/new` ã§å“ç‰©ç™»éŒ² â†’ æœ¬ç•ªFirestoreã«ä¿å­˜ â†’ æœ¬ç•ªãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ

**è§£æ±ºç­–**:
ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ã§ã¯æ›¸ãè¾¼ã¿APIã‚’å‘¼ã°ãšã€æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã™ã‚‹ã®ã¿ã«å¤‰æ›´ã€‚

```typescript
// ãƒ‘ã‚¿ãƒ¼ãƒ³
if (isDemo) {
  alert('ç™»éŒ²ã—ã¾ã—ãŸï¼ˆãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ - å®Ÿéš›ã«ã¯ä¿å­˜ã•ã‚Œã¾ã›ã‚“ï¼‰');
  navigate('/demo/family/items');
  return;
}
// æœ¬ç•ªãƒ¢ãƒ¼ãƒ‰ã®ã¿APIå‘¼ã³å‡ºã—
await mutation.mutateAsync(data);
```

**ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ7ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰**:

| ãƒ•ã‚¡ã‚¤ãƒ« | ä¿®æ­£ã—ãŸæ“ä½œ |
|----------|-------------|
| `ItemForm.tsx` | å“ç‰©ç™»éŒ² |
| `ItemDetail.tsx` | å“ç‰©å‰Šé™¤ |
| `ItemManagement.tsx` | å“ç‰©å‰Šé™¤ |
| `TaskList.tsx` | ã‚¿ã‚¹ã‚¯å®Œäº†ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´ |
| `ResidentSettings.tsx` | ç¦æ­¢ãƒ«ãƒ¼ãƒ«è¿½åŠ ãƒ»å‰Šé™¤ã€ãƒªãƒ³ã‚¯å…ˆä¿®æ­£ |
| `PresetManagement.tsx` | ãƒ—ãƒªã‚»ãƒƒãƒˆä½œæˆãƒ»æ›´æ–°ãƒ»å‰Šé™¤ |

**æ”¹å–„åŠ¹æœ**:
| é …ç›® | ä¿®æ­£å‰ | ä¿®æ­£å¾Œ |
|------|--------|--------|
| æ›¸ãè¾¼ã¿å…ˆ | æœ¬ç•ªFirestore | ãªã—ï¼ˆã‚¹ã‚­ãƒƒãƒ—ï¼‰ |
| ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ | ãªã— | ã€Œãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ã€ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤º |
| ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆå…ˆ | æœ¬ç•ªãƒšãƒ¼ã‚¸ | ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸å†… |
| ãƒ‡ãƒ¼ã‚¿æ±šæŸ“ãƒªã‚¹ã‚¯ | âœ— é«˜ã„ | â— ãªã— |

**E2Eãƒ†ã‚¹ãƒˆ**: 60/61 ãƒ‘ã‚¹ï¼ˆ1ä»¶ã®å¤±æ•—ã¯æœ¬ä¿®æ­£ã¨ç„¡é–¢ä¿‚ã®UIå•é¡Œï¼‰

---

### Firestore undefined ã‚¨ãƒ©ãƒ¼ä¿®æ­£ãƒ»APIãƒ†ã‚¹ãƒˆ (2025-12-17)

**ãƒ†ã‚¹ãƒˆè¨ˆç”»æ›¸**: [API_TEST_PLAN.md](./API_TEST_PLAN.md)

**æ¦‚è¦**: å“ç‰©ç™»éŒ²æ™‚ã® Firestore undefined ã‚¨ãƒ©ãƒ¼ã‚’ä¿®æ­£ã—ã€å…¨ Firestore æ›¸ãè¾¼ã¿ API ã‚’ãƒ†ã‚¹ãƒˆ

**å•é¡Œ**:
- `submitCareItem` API ã§ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆnoteToStaff ç­‰ï¼‰ãŒ undefined ã®å ´åˆã« Firestore ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ
- åŒæ§˜ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒ `createPreset`ã€`createProhibition` ã«ã‚‚å­˜åœ¨

**ä¿®æ­£å†…å®¹**:
- `functions/src/index.ts`: Firebase Admin SDK åˆæœŸåŒ–æ™‚ã« `ignoreUndefinedProperties: true` ã‚’è¨­å®š

**APIãƒ†ã‚¹ãƒˆçµæœ**:
| API | çµæœ |
|-----|------|
| submitCareItem | âœ… æˆåŠŸ |
| createPreset | âœ… æˆåŠŸ |
| createProhibition | âœ… æˆåŠŸ |
| createTask | âœ… æˆåŠŸ |

**UIä¿®æ­£**:
- `ItemForm.tsx`: ç™»éŒ²ãƒœã‚¿ãƒ³ã‚’ãƒ•ã‚©ãƒ¼ãƒ æœ€ä¸‹éƒ¨ã«é…ç½®ï¼ˆãƒ•ãƒƒã‚¿ãƒ¼è¿½å¾“ã‹ã‚‰ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ãªãƒ•ã‚©ãƒ¼ãƒ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«å¤‰æ›´ï¼‰
- å¿…é ˆé …ç›®æœªå…¥åŠ›æ™‚ã®ãƒœã‚¿ãƒ³ç„¡åŠ¹åŒ–ã‚’è¿½åŠ 

---

### ãƒ„ã‚¢ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³UXæ”¹å–„ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ãƒœã‚¿ãƒ³æ–¹å¼ï¼‰ (2025-12-17)

**è¨­è¨ˆæ›¸**: [DEMO_SHOWCASE_SPEC.md](./DEMO_SHOWCASE_SPEC.md) ã‚»ã‚¯ã‚·ãƒ§ãƒ³10

**èƒŒæ™¯ãƒ»èª²é¡Œ**:
æ—§æ–¹å¼ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ä¸‹ã®ãƒãƒŠãƒ¼ï¼‰ã¯ä»¥ä¸‹ã®å•é¡ŒãŒã‚ã£ãŸï¼š
- è–„ã„é’ãƒãƒŠãƒ¼ãŒç›®ç«‹ãŸãšæ°—ã¥ãã«ãã„
- ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã™ã‚‹ã¨è¦‹ãˆãªããªã‚‹
- ãƒ„ã‚¢ãƒ¼ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹ã®ãŒå¤§å¤‰ã§UXãŒæ‚ªã„

**è§£æ±ºç­–**: ãƒ˜ãƒƒãƒ€ãƒ¼å³å´ã«ç›®ç«‹ã¤ã€Œâ† ãƒ„ã‚¢ãƒ¼TOPã«æˆ»ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’å¸¸æ™‚è¡¨ç¤º

**ãƒ©ãƒ™ãƒ«è¨­è¨ˆã®è€ƒãˆæ–¹**:
```
1. /demo/showcase (ãƒ„ã‚¢ãƒ¼ãƒˆãƒƒãƒ—) â†’ ã€Œã“ã®æ©Ÿèƒ½ã‚’è¦‹ã‚‹ã€ã‚¯ãƒªãƒƒã‚¯
2. /demo/family ç­‰ï¼ˆãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ï¼‰â† ã“ã“ã¯ã¾ã ã€Œãƒ„ã‚¢ãƒ¼ä¸­ã€
3. æˆ»ã‚ŠãŸã„å…ˆ â†’ ãƒ„ã‚¢ãƒ¼ãƒˆãƒƒãƒ—
```
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ãƒ„ã‚¢ãƒ¼ã®ã€Œä¸­ã€ã«ã„ã‚‹
- æˆ»ã‚‹ã®ã¯ãƒ„ã‚¢ãƒ¼ã®ã€Œãƒˆãƒƒãƒ—ã€
- ã€Œâ† ãƒ„ã‚¢ãƒ¼TOPã«æˆ»ã‚‹ã€ãŒæœ€ã‚‚æ­£ç¢ºã§åˆ†ã‹ã‚Šã‚„ã™ã„

**å®Ÿè£…å†…å®¹**:
- `DemoHeaderButton.tsx`: ãƒ˜ãƒƒãƒ€ãƒ¼å³å´ã«è¡¨ç¤ºã™ã‚‹ã‚ªãƒ¬ãƒ³ã‚¸è‰²ã®ãƒœã‚¿ãƒ³
- `Layout.tsx`: ãƒ˜ãƒƒãƒ€ãƒ¼å†…ã«DemoHeaderButtonã‚’é…ç½®
- `/demo/showcase` è‡ªä½“ã§ã¯ãƒœã‚¿ãƒ³éè¡¨ç¤º

**æ”¹å–„åŠ¹æœ**:
| é …ç›® | æ—§æ–¹å¼ï¼ˆãƒãƒŠãƒ¼ï¼‰ | æ–°æ–¹å¼ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ãƒœã‚¿ãƒ³ï¼‰ |
|------|------------------|------------------------|
| è¦–èªæ€§ | â–³ è–„ã„é’ã§ç›®ç«‹ãŸãªã„ | â— ã‚ªãƒ¬ãƒ³ã‚¸ã§ç›®ç«‹ã¤ |
| ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ™‚ | âœ— è¦‹ãˆãªããªã‚‹ | â— å¸¸ã«è¡¨ç¤ºï¼ˆstickyï¼‰ |
| ã‚¢ã‚¯ã‚»ã‚¹æ€§ | â–³ ä¸Šéƒ¨ã«æˆ»ã‚‹å¿…è¦ | â— ã„ã¤ã§ã‚‚1ã‚¿ãƒƒãƒ— |
| ãƒ©ãƒ™ãƒ« | ã€Œãƒ„ã‚¢ãƒ¼ã«æˆ»ã‚‹ã€ï¼ˆçŸ›ç›¾ï¼‰ | ã€Œâ† ãƒ„ã‚¢ãƒ¼TOPã«æˆ»ã‚‹ã€ï¼ˆæ­£ç¢ºï¼‰ |

**E2Eãƒ†ã‚¹ãƒˆ**:
- `demo-page.spec.ts`: ãƒ„ã‚¢ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ8ä»¶
- **æ¤œè¨¼**: å…¨43ä»¶ã®ãƒ‡ãƒ¢ãƒ†ã‚¹ãƒˆãŒãƒ‘ã‚¹

---

### ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ä¿®æ­£ (2025-12-17)

**è¨­è¨ˆæ›¸**: [FIX_DEMO_NAVIGATION.md](./FIX_DEMO_NAVIGATION.md)

**æ¦‚è¦**: `/demo/*` å†…ã§ã®æ“ä½œãŒæœ¬ç•ªãƒšãƒ¼ã‚¸ã«é·ç§»ã—ã¦ã—ã¾ã†å•é¡Œã‚’ä¿®æ­£

**ä¿®æ­£å†…å®¹**:
- `ItemDetail.tsx`: å‰Šé™¤å¾Œãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ»ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ãƒªãƒ³ã‚¯ã®ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ
- `FamilyDashboard.tsx`: å†…éƒ¨ãƒªãƒ³ã‚¯ï¼ˆã‚¿ã‚¹ã‚¯ã€å…¥å±…è€…è¨­å®šã€ã‚±ã‚¢æŒ‡ç¤ºï¼‰ã®ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ
- `playwright.config.ts`: ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆå¯¾å¿œï¼ˆç’°å¢ƒå¤‰æ•°ã§baseURLä¸Šæ›¸ãå¯èƒ½ï¼‰

**æ¤œè¨¼**: å…¨35ä»¶ã®E2Eãƒ†ã‚¹ãƒˆãŒãƒ‘ã‚¹

---

### ãƒ‡ãƒ¢ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹å®Ÿè£…ï¼ˆå®Œäº†ï¼‰

**è¨­è¨ˆæ›¸**: [DEMO_SHOWCASE_SPEC.md](./DEMO_SHOWCASE_SPEC.md)

**é€²æ—**: å…¨Phaseå®Œäº†

| Phase | å†…å®¹ | çŠ¶æ…‹ |
|-------|------|------|
| Phase 1 | åŸºç›¤æ§‹ç¯‰ï¼ˆuseDemoMode, ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°, DemoHomeï¼‰ | âœ… å®Œäº† |
| Phase 2 | ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ä½œæˆï¼ˆdemoCareItems, demoStatsç­‰ï¼‰ | âœ… å®Œäº† |
| Phase 3 | ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒƒã‚¯å¯¾å¿œï¼ˆuseCareItemsç­‰ã®ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œï¼‰ | âœ… å®Œäº† |
| Phase 4 | ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ï¼ˆDemoShowcaseå®Œæˆï¼‰ | âœ… å®Œäº† |

**å®Œæˆæ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«**:
- `frontend/src/hooks/useDemoMode.ts` - ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰åˆ¤å®šãƒ•ãƒƒã‚¯
- `frontend/src/data/demo/` - ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ï¼ˆ12å“ç‰©ã€18ãƒ­ã‚°ã€9ã‚¿ã‚¹ã‚¯ç­‰ï¼‰
- `frontend/src/pages/demo/DemoHome.tsx` - ãƒ‡ãƒ¢ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸
- `frontend/src/pages/demo/DemoShowcase.tsx` - ã‚¬ã‚¤ãƒ‰ä»˜ããƒ„ã‚¢ãƒ¼
- `frontend/src/components/demo/TourReturnBanner.tsx` - ãƒ„ã‚¢ãƒ¼ã«æˆ»ã‚‹ãƒãƒŠãƒ¼
- `frontend/src/hooks/useCareItems.ts` - ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œæ¸ˆã¿
- `frontend/src/hooks/useStats.ts` - ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œæ¸ˆã¿
- `frontend/src/hooks/useTasks.ts` - ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œæ¸ˆã¿
- `frontend/src/hooks/useConsumptionLogs.ts` - ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œæ¸ˆã¿
- `frontend/src/App.tsx` - ãƒ‡ãƒ¢ãƒ«ãƒ¼ãƒˆè¿½åŠ æ¸ˆã¿

---

## æ¬¡ã®ã‚¿ã‚¹ã‚¯ï¼ˆå°†æ¥ï¼‰

| æ©Ÿèƒ½ | èª¬æ˜ | å„ªå…ˆåº¦ |
|------|------|--------|
| FoodMaster é£Ÿå“ãƒã‚¹ã‚¿ | AIææ¡ˆã¨ã®é€£æºã€é£Ÿå“åˆ¥çµ±è¨ˆ | ä¸­ |
| æ‘‚é£Ÿå‚¾å‘åˆ†æAPIï¼ˆaiAnalyzeï¼‰ | Geminié€£æº | ä¸­ |
| é€±æ¬¡ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆï¼ˆaiReportï¼‰ | Geminié€£æº | ä¸­ |
| ã‚±ã‚¢æŒ‡ç¤ºã®Firestoreä¿å­˜ | ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ â†’ Firestoreæ°¸ç¶šåŒ– | ä¸­ |
| å†™çœŸã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹è¡¨ç¤º | Google Driveç”»åƒã‚’å®¶æ—ãƒ“ãƒ¥ãƒ¼ã§è¡¨ç¤º | ä¸­ |
| CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ | è¡¨ç¤ºä¸­ã®ãƒ‡ãƒ¼ã‚¿ã‚’CSVã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ | ä½ |

---

### Phase 9.3: çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ‹¡å¼µ (2025-12-17)

**æ¦‚è¦**: åœ¨åº«ã‚µãƒãƒªãƒ¼ãƒ»é£Ÿå“å‚¾å‘åˆ†æAPIã€æ‘‚é£Ÿå‚¾å‘ã‚¿ãƒ–ã®å®Ÿè£…

**å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—**:
1. âœ… åœ¨åº«ã‚µãƒãƒªãƒ¼APIå®Ÿè£… (`getInventorySummary`)
2. âœ… é£Ÿå“å‚¾å‘åˆ†æAPIå®Ÿè£… (`getFoodStats`)
3. âœ… æ‘‚é£Ÿå‚¾å‘ã‚¿ãƒ–å®Ÿè£… (`ConsumptionStatsTab`)
4. âœ… åœ¨åº«ãƒãƒ¼ã‚°ãƒ©ãƒ•å®Ÿè£…ï¼ˆPhase 9.2ã§æ—¢å­˜ï¼‰

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰**:
- `functions/src/functions/inventoryStats.ts` - åœ¨åº«ã‚µãƒãƒªãƒ¼ãƒ»é£Ÿå“çµ±è¨ˆAPIï¼ˆæ–°è¦ï¼‰
- `functions/src/types/index.ts` - åœ¨åº«ã‚µãƒãƒªãƒ¼ãƒ»é£Ÿå“çµ±è¨ˆã®å‹å®šç¾©è¿½åŠ 
- `functions/src/index.ts` - APIã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆè¿½åŠ 

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰**:
- `frontend/src/types/stats.ts` - åœ¨åº«ã‚µãƒãƒªãƒ¼ãƒ»é£Ÿå“çµ±è¨ˆã®å‹å®šç¾©è¿½åŠ 
- `frontend/src/api/index.ts` - APIå‘¼ã³å‡ºã—é–¢æ•°è¿½åŠ 
- `frontend/src/pages/shared/StatsDashboard.tsx` - æ‘‚é£Ÿå‚¾å‘ã‚¿ãƒ–è¿½åŠ 

**æ©Ÿèƒ½**:
- åœ¨åº«ã‚µãƒãƒªãƒ¼ï¼šå„å“ç‰©ã®æ®‹é‡ãƒ»æœŸé™ãƒ»æ‘‚é£Ÿç‡ã®ä¸€è¦§å–å¾—
- é£Ÿå“å‚¾å‘åˆ†æï¼šã‚ˆãé£Ÿã¹ã‚‹/æ®‹ã™å“ç›®ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã€ã‚«ãƒ†ã‚´ãƒªåˆ¥æ‘‚é£Ÿç‡
- æ‘‚é£Ÿå‚¾å‘ã‚¿ãƒ–ï¼šçµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«æ–°ã‚¿ãƒ–è¿½åŠ 
- ã‚«ãƒ†ã‚´ãƒªåˆ¥æ‘‚é£Ÿç‡ãƒãƒ£ãƒ¼ãƒˆï¼šãƒãƒ¼ã‚°ãƒ©ãƒ•ã§è¦–è¦šåŒ–

---

### è’²æ± æ§˜å°‚ç”¨PWAèª¿æ•´ãƒ»åˆæœŸç¦æ­¢ãƒ«ãƒ¼ãƒ«è¿½åŠ  (2025-12-17)

**æ¦‚è¦**: PWAã‚’è’²æ± æ§˜å°‚ç”¨ã«èª¿æ•´ã€åˆæœŸç¦æ­¢ãƒ«ãƒ¼ãƒ«ã€Œä¸ƒç¦ã®ãŠè“å­ã€ã‚’è¨­å®š

**å¤‰æ›´å†…å®¹**:
- `demoFamilyData.ts`: residentIdçµ±ä¸€ï¼ˆresident-kinue â†’ resident-001ï¼‰
- `demoFamilyData.ts`: DEMO_PROHIBITIONSè¿½åŠ ï¼ˆä¸ƒç¦ã®ãŠè“å­ã¯å‡ºã•ãªã„ï¼‰
- `useProhibitions.ts`: APIãŒç©ºã®å ´åˆãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯

**åˆæœŸç¦æ­¢ãƒ«ãƒ¼ãƒ«**:
- å“ç›®å: ã€Œä¸ƒç¦ã®ãŠè“å­ã€
- ã‚«ãƒ†ã‚´ãƒª: snack
- ç†ç”±: ã”å®¶æ—ã®å¸Œæœ›ï¼ˆFAXæŒ‡ç¤ºï¼‰

---

### Phase 9.x: ç¦æ­¢ãƒ«ãƒ¼ãƒ«æ©Ÿèƒ½å®Œå…¨å®Ÿè£… (2025-12-17)

**æ¦‚è¦**: å®¶æ—ãŒè¨­å®šã—ãŸã€Œæä¾›ç¦æ­¢å“ç›®ã€ã‚’ã‚¹ã‚¿ãƒƒãƒ•ã«è­¦å‘Šè¡¨ç¤ºã™ã‚‹æ©Ÿèƒ½ã®å®Œå…¨å®Ÿè£…

**è¨­è¨ˆæ›¸**: [ITEM_MANAGEMENT_SPEC.md ã‚»ã‚¯ã‚·ãƒ§ãƒ³8](./ITEM_MANAGEMENT_SPEC.md#8-ç¦æ­¢ãƒ«ãƒ¼ãƒ«æä¾›ç¦æ­¢å“ç›®)

**å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—**:
1. âœ… ProhibitionRuleå‹å®šç¾©ãƒ»Firestoreãƒ¢ãƒ‡ãƒ«
2. âœ… ç¦æ­¢ãƒ«ãƒ¼ãƒ«CRUD APIå®Ÿè£…
3. âœ… å®¶æ—å‘ã‘ã€Œå…¥å±…è€…è¨­å®šã€ç”»é¢å®Ÿè£…
4. âœ… ã‚¹ã‚¿ãƒƒãƒ•å‘ã‘ç¦æ­¢å“ç›®è­¦å‘Šè¡¨ç¤º

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰**:
- `functions/src/functions/prohibitions.ts` - ç¦æ­¢ãƒ«ãƒ¼ãƒ«CRUD APIï¼ˆæ–°è¦ï¼‰
- `functions/src/types/index.ts` - ProhibitionRuleå‹è¿½åŠ 

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰**:
- `frontend/src/types/careItem.ts` - ProhibitionRuleå‹å®šç¾©è¿½åŠ ã€PresetCategoryã‹ã‚‰'ban'å‰Šé™¤
- `frontend/src/hooks/useProhibitions.ts` - ç¦æ­¢ãƒ«ãƒ¼ãƒ«CRUDãƒ•ãƒƒã‚¯ï¼ˆæ–°è¦ï¼‰
- `frontend/src/api/index.ts` - APIå‘¼ã³å‡ºã—é–¢æ•°è¿½åŠ 
- `frontend/src/pages/family/ResidentSettings.tsx` - å…¥å±…è€…è¨­å®šç”»é¢ï¼ˆæ–°è¦ï¼‰
- `frontend/src/pages/family/FamilyDashboard.tsx` - å…¥å±…è€…è¨­å®šã¸ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ 
- `frontend/src/components/staff/ProhibitionWarning.tsx` - ç¦æ­¢å“ç›®è­¦å‘Šï¼ˆæ–°è¦ï¼‰
- `frontend/src/components/staff/ProhibitionBadge.tsx` - ç¦æ­¢å“ç›®ãƒãƒƒã‚¸ï¼ˆæ–°è¦ï¼‰
- `frontend/src/pages/staff/FamilyMessageDetail.tsx` - ç¦æ­¢è­¦å‘Šè¡¨ç¤ºè¿½åŠ 
- `frontend/src/pages/staff/FamilyMessages.tsx` - ç¦æ­¢ãƒãƒƒã‚¸è¡¨ç¤ºè¿½åŠ 
- `frontend/src/App.tsx` - `/family/settings/resident` ãƒ«ãƒ¼ãƒˆè¿½åŠ 

**æ©Ÿèƒ½**:
- å®¶æ—ãŒã€Œå…¥å±…è€…è¨­å®šã€ç”»é¢ã§ç¦æ­¢å“ç›®ã‚’ç™»éŒ²ãƒ»å‰Šé™¤
- å“åã¾ãŸã¯ã‚«ãƒ†ã‚´ãƒªã§ãƒãƒƒãƒãƒ³ã‚°ï¼ˆéƒ¨åˆ†ä¸€è‡´ï¼‰
- ã‚¹ã‚¿ãƒƒãƒ•ã®å®¶æ—é€£çµ¡ä¸€è¦§ãƒ»è©³ç´°ç”»é¢ã§è­¦å‘Šè¡¨ç¤º
- Firestoreã‚µãƒ–ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³: `residents/{residentId}/prohibitions`

---

### ãƒ—ãƒªã‚»ãƒƒãƒˆãƒ»AIææ¡ˆæ”¹å–„ã€ç¦æ­¢ãƒ«ãƒ¼ãƒ«è¨­è¨ˆ (2025-12-17)

**æ¦‚è¦**: ãƒ—ãƒªã‚»ãƒƒãƒˆã¨AIææ¡ˆã®è¨­è¨ˆæ”¹å–„ã€ç¦æ­¢ãƒ«ãƒ¼ãƒ«æ©Ÿèƒ½ã®æ–°è¦è¨­è¨ˆ

**è¨­è¨ˆå¤‰æ›´**:
1. **AIææ¡ˆ**: è‡ªå‹•ç™ºå‹• â†’ ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ç™ºå‹•ã«å¤‰æ›´
2. **ãƒ—ãƒªã‚»ãƒƒãƒˆç™»éŒ²ãƒ«ãƒ¼ãƒ«**: å“ç‰©ã®ã¿ç™»éŒ²ï¼ˆç¦æ­¢ãƒ«ãƒ¼ãƒ«ã¯åˆ¥ç®¡ç†ï¼‰
3. **ãƒ—ãƒªã‚»ãƒƒãƒˆåˆ†é›¢**: è¤‡æ•°å“ç‰©ï¼ˆé»’ç ‚ç³–ãƒ»ãƒãƒ¼ã‚ºï¼‰ã¯å˜å“ã”ã¨ã«åˆ†é›¢
4. **ç¦æ­¢ãƒ«ãƒ¼ãƒ«è¨­è¨ˆ**: æ–°æ©Ÿèƒ½ã¨ã—ã¦ `ProhibitionRule` ã‚’è¨­è¨ˆ

**æ›´æ–°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**:
- `docs/ITEM_MANAGEMENT_SPEC.md` - ã‚»ã‚¯ã‚·ãƒ§ãƒ³8ã€Œç¦æ­¢ãƒ«ãƒ¼ãƒ«ã€è¿½åŠ 
- `docs/PRESET_MANAGEMENT_SPEC.md` - ã‚«ãƒ†ã‚´ãƒªå®šç¾©æ•´ç†ã€ç¦æ­¢ãƒ«ãƒ¼ãƒ«å‚ç…§è¿½åŠ 
- `docs/FAMILY_UX_DESIGN.md` - ãƒ—ãƒªã‚»ãƒƒãƒˆä¸€è¦§æ›´æ–°

**æ›´æ–°ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆå®Ÿè£…ï¼‰**:
- `frontend/src/data/demoFamilyData.ts` - ãƒ—ãƒªã‚»ãƒƒãƒˆãƒ‡ãƒ¼ã‚¿æ›´æ–°ï¼ˆç¦æ­¢ãƒ«ãƒ¼ãƒ«å‰Šé™¤ã€å˜å“åˆ†é›¢ï¼‰
- `frontend/src/pages/family/ItemForm.tsx` - AIææ¡ˆãƒœã‚¿ãƒ³åŒ–ã€ãƒ—ãƒªã‚»ãƒƒãƒˆã‚°ãƒªãƒƒãƒ‰è¿½åŠ 

**ç¦æ­¢ãƒ«ãƒ¼ãƒ«è¨­è¨ˆãƒã‚¤ãƒ³ãƒˆ**:
- `residents/{residentId}/prohibitions/{prohibitionId}` ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã§ç®¡ç†
- å®¶æ—ãŒè¨­å®šã€ã‚¹ã‚¿ãƒƒãƒ•ãŒå“ç‰©æä¾›æ™‚ã«å‚ç…§
- å…¥å±…è€…è¨­å®šç”»é¢ã§è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤
- ãƒ—ãƒªã‚»ãƒƒãƒˆã¨ã¯åˆ¥æ¦‚å¿µã¨ã—ã¦æ˜ç¢ºã«åˆ†é›¢

---

### Phase 9.2 ConsumptionLog APIãƒ»UIå®Ÿè£… (2025-12-17)

**è¨­è¨ˆæ›¸**: [INVENTORY_CONSUMPTION_SPEC.md](./INVENTORY_CONSUMPTION_SPEC.md)

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰**:
- `functions/src/functions/consumptionLogs.ts` - æ¶ˆè²»ãƒ­ã‚° APIï¼ˆæ–°è¦ï¼‰
- `functions/src/types/index.ts` - ConsumptionLogã€ConsumptionSummaryå‹è¿½åŠ 

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰**:
- `frontend/src/types/consumptionLog.ts` - æ¶ˆè²»ãƒ­ã‚°å‹å®šç¾©ï¼ˆæ–°è¦ï¼‰
- `frontend/src/types/careItem.ts` - CareItemæ‹¡å¼µï¼ˆinitialQuantity, currentQuantity, consumptionSummaryï¼‰
- `frontend/src/api/index.ts` - APIå‘¼ã³å‡ºã—é–¢æ•°è¿½åŠ 
- `frontend/src/hooks/useConsumptionLogs.ts` - æ¶ˆè²»ãƒ­ã‚°ãƒ•ãƒƒã‚¯ï¼ˆæ–°è¦ï¼‰
- `frontend/src/components/staff/ConsumptionRecordModal.tsx` - æ¶ˆè²»è¨˜éŒ²ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆæ–°è¦ï¼‰
- `frontend/src/components/shared/InventoryBar.tsx` - åœ¨åº«ãƒãƒ¼ãƒ»ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒƒã‚¸ï¼ˆæ–°è¦ï¼‰

**APIä»•æ§˜**:
- `POST /recordConsumptionLog` - æ¶ˆè²»ãƒ­ã‚°è¨˜éŒ²ï¼ˆãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã§CareItemã‚‚æ›´æ–°ï¼‰
- `GET /getConsumptionLogs?itemId=xxx` - æ¶ˆè²»ãƒ­ã‚°ä¸€è¦§å–å¾—

**æ©Ÿèƒ½**:
- æä¾›ãƒ»æ‘‚é£Ÿã®è©³ç´°ãªå±¥æ­´ç®¡ç†ï¼ˆã‚µãƒ–ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ï¼‰
- æ®‹é‡ã®è‡ªå‹•è¨ˆç®—ã¨æ›´æ–°
- æ‘‚é£Ÿç‡ã®è‡ªå‹•è¨ˆç®—
- CareItemã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è‡ªå‹•åˆ¤å®šï¼ˆpending â†’ in_progress â†’ consumedï¼‰
- ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³å½¢å¼ã§ã®å±¥æ­´è¡¨ç¤ºç”¨ãƒ•ãƒƒã‚¯

---

### Phase 9.1 ãƒã‚°ä¿®æ­£ - useStatsç„¡é™ãƒ«ãƒ¼ãƒ— (2025-12-16)

**å•é¡Œ**: çµ±è¨ˆãƒ“ãƒ¥ãƒ¼ï¼ˆ/statsï¼‰ãŒã€Œãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ä¸­...ã€ã®ã¾ã¾åœæ­¢

**åŸå› **: `useStats`ãƒ•ãƒƒã‚¯ã§`include`é…åˆ—ãŒæ¯å›æ–°ã—ã„å‚ç…§ã«ãªã‚Šã€`useEffect`ã®ç„¡é™ãƒ«ãƒ¼ãƒ—ãŒç™ºç”Ÿ

**ä¿®æ­£**:
- `useRef`ã§includeé…åˆ—ã®åˆå›å€¤ã‚’å›ºå®šï¼ˆå‚ç…§å¤‰åŒ–ã‚’å®Œå…¨ç„¡è¦–ï¼‰
- `hasFetchedRef`ãƒ•ãƒ©ã‚°ã§åˆå›ãƒ•ã‚§ãƒƒãƒã®ã¿å®Ÿè¡Œã‚’ä¿è¨¼

**ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/src/hooks/useStats.ts`

**æ•™è¨“**: é…åˆ—/ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ã—ã¦å—ã‘å–ã‚‹å ´åˆã€`useRef`ã§åˆå›å€¤ã‚’å›ºå®šã™ã‚‹ã®ãŒæœ€ã‚‚ç¢ºå®Ÿ

---

### Phase 9.0/9.1 åœ¨åº«ãƒ»æ¶ˆè²»è¿½è·¡ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆãƒ»å®Ÿè£… (2025-12-16)

**è¨­è¨ˆæ›¸**: [INVENTORY_CONSUMPTION_SPEC.md](./INVENTORY_CONSUMPTION_SPEC.md)

**å®Ÿè£…å†…å®¹**:
- Viewæ§‹æˆè¨­è¨ˆï¼ˆã‚¹ã‚¿ãƒƒãƒ•å‘ã‘/å®¶æ—å‘ã‘ãƒšãƒ¼ã‚¸åˆ†é›¢ï¼‰
- ItemTimeline.tsxï¼ˆå“ç‰©ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³å…±æœ‰ãƒšãƒ¼ã‚¸ï¼‰
- ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ•´å‚™ï¼ˆ/staff/*, /family/*, /viewï¼‰

---

### Phase 8.6/8.7 ãƒ—ãƒªã‚»ãƒƒãƒˆç®¡ç†ãƒ»AIè‡ªå‹•ã‚¹ãƒˆãƒƒã‚¯ (2025-12-16)

**è¨­è¨ˆæ›¸**: [PRESET_MANAGEMENT_SPEC.md](./PRESET_MANAGEMENT_SPEC.md)

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆæ–°è¦ï¼‰**:
- `functions/src/functions/presets.ts` - ãƒ—ãƒªã‚»ãƒƒãƒˆCRUD API
- `frontend/src/pages/family/PresetManagement.tsx` - ãƒ—ãƒªã‚»ãƒƒãƒˆç®¡ç†ç”»é¢
- `frontend/src/hooks/usePresets.ts` - ãƒ—ãƒªã‚»ãƒƒãƒˆCRUDãƒ•ãƒƒã‚¯
- `frontend/src/components/family/SaveAISuggestionDialog.tsx` - AIææ¡ˆä¿å­˜ãƒ€ã‚¤ã‚¢ãƒ­ã‚°

**æ©Ÿèƒ½**:
- ãƒ—ãƒªã‚»ãƒƒãƒˆç®¡ç†ç”»é¢ï¼ˆã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ•ã‚£ãƒ«ã‚¿ã€æ¤œç´¢ã€CRUDï¼‰
- AIææ¡ˆã‚’ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ã€Œã„ã¤ã‚‚ã®æŒ‡ç¤ºã€ã¨ã—ã¦ä¿å­˜
- å‡ºæ‰€ãƒãƒƒã‚¸ï¼ˆæ‰‹å‹•ğŸ“Œ / AIğŸ¤–ï¼‰

---

### Phase 8.4æ‹¡å¼µ AIææ¡ˆUIçµ±åˆ (2025-12-15)

**è¨­è¨ˆæ›¸**: [AI_INTEGRATION_SPEC.md](./AI_INTEGRATION_SPEC.md) (ã‚»ã‚¯ã‚·ãƒ§ãƒ³8)

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆæ–°è¦ï¼‰**:
- `frontend/src/components/family/AISuggestion.tsx` - AIææ¡ˆã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**æ©Ÿèƒ½**: å“ç‰©åå…¥åŠ›æ™‚ã«è‡ªå‹•ã§è³å‘³æœŸé™ãƒ»ä¿å­˜æ–¹æ³•ãƒ»æä¾›æ–¹æ³•ã‚’ææ¡ˆ

---

## é–‹ç™ºãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—é€²æ—

```
Phase 1-4: åŸºç›¤ãƒ»ãƒ‡ãƒ¢ç‰ˆPWA          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 5.x: é£Ÿäº‹å…¥åŠ›ãƒ»è¨­å®šæ©Ÿèƒ½        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 6.0: ãƒ•ãƒƒã‚¿ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 7.0-7.1: å®¶æ—å‘ã‘ãƒ»äºˆå®Ÿç®¡ç†    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 8.0: è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 8.1: å“ç‰©ç®¡ç†åŸºç›¤              â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 8.2: ã‚¿ã‚¹ã‚¯ç®¡ç†                â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 8.3: çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 8.4: Gemini AIé€£æº            â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 8.5: ãƒ—ãƒªã‚»ãƒƒãƒˆçµ±åˆ            â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 8.6: ãƒ—ãƒªã‚»ãƒƒãƒˆç®¡ç†åŸºç›¤        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 8.7: AIè‡ªå‹•ã‚¹ãƒˆãƒƒã‚¯            â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 9.0: åœ¨åº«ãƒ»æ¶ˆè²»è¿½è·¡è¨­è¨ˆ        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 9.1: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ»ãƒšãƒ¼ã‚¸å®Ÿè£…  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 9.2: ConsumptionLog APIãƒ»UI   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 9.x: ç¦æ­¢ãƒ«ãƒ¼ãƒ«æ©Ÿèƒ½            â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
Phase 9.3: çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ‹¡å¼µ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (å®Œäº†)
```

è©³ç´°: [docs/ROADMAP.md](./ROADMAP.md)

---

## ãƒ‡ãƒ—ãƒ­ã‚¤æ¸ˆã¿ãƒªã‚½ãƒ¼ã‚¹

### PWA (Firebase Hosting)

| é …ç›® | å€¤ |
|------|-----|
| URL | https://facility-care-input-form.web.app |
| æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ | React + Vite + TailwindCSS v4 + TanStack Query |
| PWAå¯¾å¿œ | Service Workerã€ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾å¿œ |

### ä¸»è¦Cloud Functions

ãƒ™ãƒ¼ã‚¹URL: `https://asia-northeast1-facility-care-input-form.cloudfunctions.net`

| ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|----------|------|------|
| GET | `/healthCheck` | ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ |
| POST | `/syncPlanData` | è¨˜éŒ²ãƒ‡ãƒ¼ã‚¿ã‚’åŒæœŸ |
| POST | `/submitMealRecord` | é£Ÿäº‹è¨˜éŒ²ã‚’å…¥åŠ› |
| GET | `/getPlanData` | åŒæœŸæ¸ˆã¿è¨˜éŒ²ã‚’å–å¾— |
| GET | `/getMealFormSettings` | ãƒ•ã‚©ãƒ¼ãƒ åˆæœŸå€¤è¨­å®šã‚’å–å¾— |
| GET | `/getStats` | çµ±è¨ˆãƒ‡ãƒ¼ã‚¿å–å¾— |
| POST | `/aiSuggest` | AIå“ç‰©å…¥åŠ›è£œåŠ© |
| GET/POST | `/presets/*` | ãƒ—ãƒªã‚»ãƒƒãƒˆCRUD |
| GET/POST/PUT/DELETE | `/prohibitions/*` | ç¦æ­¢ãƒ«ãƒ¼ãƒ«CRUD |
| Scheduler | `/generateDailyTasks` | ã‚¿ã‚¹ã‚¯è‡ªå‹•ç”Ÿæˆï¼ˆæ¯æ—¥6æ™‚ï¼‰ |

---

## é‡è¦ãªæƒ…å ±

### ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ

**çµ±ä¸€æ¸ˆã¿**: å…¨ç”¨é€”ã§å˜ä¸€ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½¿ç”¨

```
facility-care-sa@facility-care-input-form.iam.gserviceaccount.com
```

### ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå…±æœ‰çŠ¶æ…‹

| ã‚·ãƒ¼ãƒˆ | ID | æ¨©é™ |
|--------|-----|------|
| Sheet A (è¨˜éŒ²ã®çµæœ) | `1Gf8QTbGyKB7rn5QQa5cYOg1NNYWMV8lzqySdbDkfG-w` | é–²è¦§è€… |
| Sheet B (å®Ÿç¸¾å…¥åŠ›å…ˆ) | `1OrpUVoDfUECXCTrKOGKLwN_4OQ9dlg7cUTCPGLDGHV0` | ç·¨é›†è€… |

### Dev Modeè¨­å®š

- èªè¨¼: ãªã—ï¼ˆ`allUsers` ã« `cloudfunctions.invoker` ä»˜ä¸æ¸ˆã¿ï¼‰
- Firestore: å…¨é–‹æ”¾ï¼ˆ`allow read, write: if true;`ï¼‰
- **æ³¨æ„**: æœ¬ç•ªç§»è¡Œæ™‚ã«å¿…ãšèªè¨¼ã‚’å®Ÿè£…ã™ã‚‹ã“ã¨

---

## å†é–‹æ™‚ã®æ‰‹é †

1. `docs/CURRENT_STATUS.md` ã‚’èª­ã‚“ã§ç¾åœ¨ã®é€²æ—ã‚’ç¢ºèª
2. https://facility-care-input-form.web.app ã§PWAã®å‹•ä½œç¢ºèª
3. ã€Œæ¬¡ã®ã‚¿ã‚¹ã‚¯ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‹ã‚‰ä½œæ¥­ã‚’å†é–‹

---

## AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¸ã®æŒ‡ç¤º

ä¼šè©±ã‚’ã‚¯ãƒªã‚¢ã—ãŸå¾Œã€ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é–‹ç™ºã‚’ç¶™ç¶šã™ã‚‹å ´åˆã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«æŒ‡ç¤ºã—ã¦ãã ã•ã„ï¼š

```
facility-care-input-form ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é–‹ç™ºã‚’ç¶™ç¶šã—ã¦ãã ã•ã„ã€‚
docs/CURRENT_STATUS.md ã‚’èª­ã‚“ã§ã€æ¬¡ã®ã‚¿ã‚¹ã‚¯ã‹ã‚‰å†é–‹ã—ã¦ãã ã•ã„ã€‚
```
