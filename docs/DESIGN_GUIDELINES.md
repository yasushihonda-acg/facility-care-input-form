# デザインガイドライン

> **作成日**: 2025年12月13日
> **担当**: プロWebデザイナー（デザインアドバイザー）
> **対象**: 介護記録ビューア PWA

---

## 1. 現状の問題点分析

### 1.1 視覚的階層の欠如

| 問題 | 詳細 |
|------|------|
| フラットすぎるUI | 要素間の区別がつきにくい |
| 視線誘導の不足 | どこから見ればいいか分からない |
| 情報密度が高すぎる | 月フィルタ・シートタブが横一列で圧迫感 |

### 1.2 カラーパレットの問題

| 問題 | 詳細 |
|------|------|
| 青一色で単調 | ブランドカラーの活用不足 |
| コントラスト不足 | 非アクティブ要素が見づらい |
| アクセントカラーなし | 重要な操作が目立たない |

### 1.3 タイポグラフィの問題

| 問題 | 詳細 |
|------|------|
| 文字サイズの階層不足 | 見出し・本文の区別が曖昧 |
| 行間・字間の調整不足 | 可読性に影響 |
| フォントウェイト活用不足 | 強弱がつかない |

### 1.4 レイアウトの問題

| 問題 | 詳細 |
|------|------|
| 余白（ホワイトスペース）不足 | 窮屈な印象 |
| 要素のグルーピング不明確 | 関連性が視覚的に伝わらない |
| モバイルファースト未対応 | スマホでの操作性に難あり |

---

## 2. デザイン改善提案

### 2.1 カラーシステム

```
Primary Colors（メインカラー）
├── Primary: #2563EB (Blue 600) - メインアクション
├── Primary Light: #3B82F6 (Blue 500) - ホバー状態
└── Primary Dark: #1D4ED8 (Blue 700) - アクティブ状態

Secondary Colors（サブカラー）
├── Secondary: #10B981 (Emerald 500) - 成功・完了
├── Warning: #F59E0B (Amber 500) - 警告・注意
└── Error: #EF4444 (Red 500) - エラー

Neutral Colors（中立色）
├── Gray 900: #111827 - テキスト（メイン）
├── Gray 600: #4B5563 - テキスト（サブ）
├── Gray 400: #9CA3AF - プレースホルダー
├── Gray 200: #E5E7EB - ボーダー
├── Gray 100: #F3F4F6 - 背景（セカンダリ）
└── White: #FFFFFF - 背景（メイン）

Accent Colors（アクセント）
├── Teal: #14B8A6 - 特記事項ハイライト
└── Purple: #8B5CF6 - 医療関連
```

### 2.2 タイポグラフィシステム

```
Font Family: "Noto Sans JP", "Hiragino Kaku Gothic ProN", sans-serif

Heading Sizes:
├── H1: 24px / 1.4 / Bold (700) - ページタイトル
├── H2: 20px / 1.4 / SemiBold (600) - セクションタイトル
├── H3: 16px / 1.5 / SemiBold (600) - カード見出し
└── H4: 14px / 1.5 / Medium (500) - サブ見出し

Body Sizes:
├── Body Large: 16px / 1.6 / Regular (400)
├── Body: 14px / 1.6 / Regular (400)
├── Body Small: 12px / 1.5 / Regular (400)
└── Caption: 11px / 1.4 / Regular (400)
```

### 2.3 スペーシングシステム

```
Base Unit: 4px

Spacing Scale:
├── xs: 4px   (space-1)
├── sm: 8px   (space-2)
├── md: 16px  (space-4)
├── lg: 24px  (space-6)
├── xl: 32px  (space-8)
└── 2xl: 48px (space-12)

Container Padding:
├── Mobile: 16px
├── Tablet: 24px
└── Desktop: 32px
```

### 2.4 コンポーネント改善

#### ヘッダー
```
Before: 青ベタ塗り、テキストのみ
After:
- グラデーション背景 (Primary → Primary Dark)
- 左にロゴ/アイコン配置
- 同期ステータスをバッジ形式に
- 影（box-shadow）で浮遊感
```

#### 年ページネーター
```
Before: 矢印ボタンが目立たない
After:
- より大きなタッチターゲット（44px以上）
- 年表示をカード風に
- 利用可能年のドットインジケーター追加
```

#### 月フィルター
```
Before: 横一列で圧迫感、デザインが単調
After:
- チップ形式からピル形式に変更
- アクティブ状態に影を追加
- データなし月は薄いグレーで非表示に近づける
- スクロールヒント（グラデーション）追加
```

#### シートタブ
```
Before: 単純なボタン羅列
After:
- アイコン付きタブ（各シート種別に対応）
- アクティブタブに下線ではなく背景色
- タブグループをカード化
- ドロップダウンでの切り替えオプション（モバイル）
```

#### 検索バー
```
Before: 常時表示で場所を取る、単独入居者データでは実用性低い
After:
- 折りたたみ式（デフォルト非表示）
- 🔍アイコンボタンをタップで展開
- 展開時: 左に検索アイコン、右にクリア/閉じるボタン
- フォーカス時にボーダー色変更
- 角丸を大きく（rounded-lg）
- 検索結果0件時は「該当なし」表示

設計理由:
- 現状のデモデータは単独入居者のため、検索の実用性が限定的
- スペースを節約しつつ、将来の複数入居者対応に備える
- 必要な時だけ展開できるUX
```

#### テーブル
```
Before: 基本的なテーブル
After:
- ゼブラストライプ（偶数行に背景色）
- ホバー時に行ハイライト
- ヘッダー固定（sticky header）
- 列幅の最適化
- 重要列の強調表示
```

---

## 3. シート別アイコン定義

視覚的識別性を高めるため、各シートにアイコンを割り当てる。

| シート名 | アイコン | カラー |
|----------|----------|--------|
| 食事 | 🍽️ / utensils | Orange |
| 水分摂取量 | 💧 / droplet | Blue |
| 排便・排尿 | 🚻 / toilet | Brown |
| バイタル | ❤️ / heart-pulse | Red |
| 口腔ケア | 🦷 / tooth | White/Gray |
| 内服 | 💊 / pill | Green |
| 特記事項 | 📝 / clipboard | Teal |
| 血糖値インスリン投与 | 💉 / syringe | Purple |
| 往診録 | 🩺 / stethoscope | Blue |
| 体重 | ⚖️ / scale | Gray |
| カンファレンス録 | 👥 / users | Indigo |

---

## 4. レスポンシブ対応

### ブレークポイント

```
Mobile:  < 640px  (sm)
Tablet:  640px - 1024px (md, lg)
Desktop: > 1024px (xl)
```

### Mobile-First 優先事項

1. **タッチターゲット**: 最小44px × 44px
2. **スワイプ操作**: 月・年切り替えにスワイプ対応
3. **ボトムナビゲーション**: シート切り替えを下部に配置検討
4. **モーダル**: フルスクリーンシート形式
5. **フォントサイズ**: 最小14px（本文）

---

## 5. アクセシビリティ

### WCAG 2.1 AA準拠

| 項目 | 対応 |
|------|------|
| コントラスト比 | テキスト 4.5:1 以上、大文字 3:1 以上 |
| フォーカスインジケーター | 明確なアウトライン（2px以上） |
| スクリーンリーダー | aria-label、aria-describedby |
| キーボード操作 | Tab順序、Escでモーダル閉じ |

---

## 6. 実装優先度（Phase 4.5）

### 高優先度（即時対応）
1. カラーパレット適用（Tailwind設定更新）
2. ヘッダーデザイン改善
3. 月フィルター・シートタブのスタイル改善
4. 検索バーのUI改善
5. テーブルのゼブラストライプ・ホバー追加

### 中優先度（次回対応）
1. シート別アイコン追加
2. モバイル向けボトムナビゲーション
3. スワイプ操作対応
4. アニメーション・トランジション追加

### 低優先度（将来対応）
1. ダークモード対応
2. テーマカスタマイズ機能
3. 印刷用スタイルシート

---

## 7. Tailwind CSS v4 設定

```css
/* index.css に追加 */
@theme {
  --color-primary: #2563EB;
  --color-primary-light: #3B82F6;
  --color-primary-dark: #1D4ED8;
  --color-secondary: #10B981;
  --color-warning: #F59E0B;
  --color-error: #EF4444;
  --color-accent-teal: #14B8A6;
  --color-accent-purple: #8B5CF6;

  --font-sans: "Noto Sans JP", "Hiragino Kaku Gothic ProN", sans-serif;

  --shadow-card: 0 1px 3px rgba(0,0,0,0.1), 0 1px 2px rgba(0,0,0,0.06);
  --shadow-card-hover: 0 4px 6px rgba(0,0,0,0.1), 0 2px 4px rgba(0,0,0,0.06);
}
```

---

## 8. 参考デザイン

### 類似サービスのUI参考
- **freee**: シンプルで視認性の高いダッシュボード
- **Notion**: クリーンなテーブルビュー
- **Linear**: モダンなナビゲーション

### デザインシステム参考
- **Tailwind UI**: https://tailwindui.com/
- **shadcn/ui**: https://ui.shadcn.com/
- **Radix UI**: https://www.radix-ui.com/

---

## 変更履歴

| 日付 | 内容 |
|------|------|
| 2025-12-13 | 初版作成（プロWebデザイナーによるレビュー・提案） |
| 2025-12-13 | 検索バーを折りたたみ式に変更（単独入居者データでの実用性考慮） |
| 2025-12-13 | Phase 4.5実装完了（カラーシステム、ヘッダー、タブ、月フィルタ、年ページネーター、検索バー） |
