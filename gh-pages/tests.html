<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E2Eテスト一覧 - 施設ケア入力フォーム</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .status-pass { background-color: #dcfce7; color: #166534; }
        .status-skip { background-color: #fef9c3; color: #854d0e; }
        .status-fail { background-color: #fee2e2; color: #991b1b; }
        .category-badge { font-size: 0.75rem; padding: 0.125rem 0.5rem; border-radius: 9999px; }
        .search-highlight { background-color: #fef08a; }
        tr:hover { background-color: #f8fafc; }
        .sticky-header th {
            position: sticky;
            top: 58px; /* フィルターバーの高さ分 */
            z-index: 15;
            background-color: #f9fafb;
            box-shadow: 0 1px 0 #e5e7eb;
        }
        .sticky-header th:hover { background-color: #f3f4f6; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="bg-gradient-to-r from-blue-600 to-indigo-700 text-white py-6">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-2xl md:text-3xl font-bold mb-1">E2Eテスト一覧</h1>
                    <p class="text-blue-200">Playwright テストカタログ</p>
                </div>
                <a href="index.html" class="text-blue-200 hover:text-white flex items-center gap-1">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
                    </svg>
                    トップへ戻る
                </a>
            </div>
        </div>
    </header>

    <!-- Stats Summary -->
    <div class="bg-white shadow-sm border-b">
        <div class="container mx-auto px-4 py-4">
            <div class="grid grid-cols-2 md:grid-cols-5 gap-4">
                <div class="text-center">
                    <div id="totalCount" class="text-3xl font-bold text-gray-800">0</div>
                    <div class="text-sm text-gray-500">総テスト数</div>
                </div>
                <div class="text-center">
                    <div id="passCount" class="text-3xl font-bold text-green-600">0</div>
                    <div class="text-sm text-gray-500">パス</div>
                </div>
                <div class="text-center">
                    <div id="skipCount" class="text-3xl font-bold text-yellow-600">0</div>
                    <div class="text-sm text-gray-500">スキップ</div>
                </div>
                <div class="text-center">
                    <div id="failCount" class="text-3xl font-bold text-red-600">0</div>
                    <div class="text-sm text-gray-500">失敗</div>
                </div>
                <div class="text-center">
                    <div id="categoryCount" class="text-3xl font-bold text-blue-600">0</div>
                    <div class="text-sm text-gray-500">カテゴリ</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Filters -->
    <div class="bg-white shadow-sm border-b sticky top-0 z-20">
        <div class="container mx-auto px-4 py-3">
            <div class="flex flex-wrap gap-3 items-center">
                <!-- Search -->
                <div class="flex-1 min-w-[200px]">
                    <input type="text" id="searchInput" placeholder="テストID、説明、ファイル名で検索..."
                           class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>

                <!-- Status Filter -->
                <div class="flex gap-2">
                    <button onclick="filterByStatus('all')" class="filter-btn px-3 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 text-sm font-medium" data-status="all">
                        すべて
                    </button>
                    <button onclick="filterByStatus('pass')" class="filter-btn px-3 py-2 rounded-lg bg-green-100 hover:bg-green-200 text-green-700 text-sm font-medium" data-status="pass">
                        パス
                    </button>
                    <button onclick="filterByStatus('skip')" class="filter-btn px-3 py-2 rounded-lg bg-yellow-100 hover:bg-yellow-200 text-yellow-700 text-sm font-medium" data-status="skip">
                        スキップ
                    </button>
                </div>

                <!-- Category Filter -->
                <select id="categoryFilter" class="px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500">
                    <option value="all">全カテゴリ</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Test Table -->
    <div class="container mx-auto px-4 py-6">
        <div class="bg-white rounded-xl shadow-sm">
            <table class="w-full">
                <thead class="sticky-header">
                        <tr>
                            <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100" onclick="sortTable('id')">
                                ID <span class="sort-icon"></span>
                            </th>
                            <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100" onclick="sortTable('description')">
                                説明 <span class="sort-icon"></span>
                            </th>
                            <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100" onclick="sortTable('category')">
                                カテゴリ <span class="sort-icon"></span>
                            </th>
                            <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100" onclick="sortTable('status')">
                                ステータス <span class="sort-icon"></span>
                            </th>
                            <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                                備考
                            </th>
                            <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                                ファイル
                            </th>
                        </tr>
                    </thead>
                    <tbody id="testTableBody" class="divide-y divide-gray-200">
                        <!-- Dynamic content -->
                    </tbody>
                </table>
        </div>

        <!-- Legend -->
        <div class="mt-6 bg-white rounded-xl shadow-sm p-4">
            <h3 class="font-semibold text-gray-800 mb-3">凡例・スキップ理由</h3>
            <div class="grid md:grid-cols-2 gap-4 text-sm">
                <div>
                    <h4 class="font-medium text-gray-700 mb-2">ステータス</h4>
                    <ul class="space-y-1">
                        <li><span class="inline-block w-3 h-3 rounded-full bg-green-500 mr-2"></span>パス: テスト成功</li>
                        <li><span class="inline-block w-3 h-3 rounded-full bg-yellow-500 mr-2"></span>スキップ: 意図的にスキップ（理由あり）</li>
                        <li><span class="inline-block w-3 h-3 rounded-full bg-red-500 mr-2"></span>失敗: 修正が必要</li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-medium text-gray-700 mb-2">主なスキップ理由</h4>
                    <ul class="space-y-1 text-gray-600">
                        <li><strong>Phase 26削除</strong>: 入居者設定機能を削除済み</li>
                        <li><strong>本番API依存</strong>: 本番環境でのみテスト可能</li>
                        <li><strong>本番データ必要</strong>: 実際のデータがないとテスト不可</li>
                        <li><strong>デモデータ依存</strong>: 特定のデモデータ状態が必要</li>
                        <li><strong>Phase 21非表示</strong>: チャット機能を一時非表示中</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Categories Summary -->
        <div class="mt-6 bg-white rounded-xl shadow-sm p-4">
            <h3 class="font-semibold text-gray-800 mb-3">カテゴリ別サマリー</h3>
            <div id="categorySummary" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3">
                <!-- Dynamic content -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-6 mt-8">
        <div class="container mx-auto px-4 text-center text-sm">
            <p>最終更新: <span id="lastUpdate">2026-01-02</span> | Phase 49完了</p>
            <p class="mt-1 text-gray-400">
                <a href="index.html" class="hover:text-white">プロジェクト概要</a> |
                <a href="architecture.html" class="hover:text-white">アーキテクチャ</a> |
                <a href="https://github.com/yasushihonda-acg/facility-care-input-form" class="hover:text-white">GitHub</a>
            </p>
        </div>
    </footer>

    <script>
    // テストデータ（E2Eテストファイルから抽出）
const testData = [
        { id: "AICHAT-001", description: "記録閲覧ページにチャットFABボタンが表示される", category: "AIチャット", status: "pass", note: "", file: "ai-chat-bot.spec.ts" },
        { id: "AICHAT-002", description: "デモ記録閲覧ページにチャットFABボタンが表示される", category: "AIチャット", status: "pass", note: "", file: "ai-chat-bot.spec.ts" },
        { id: "AICHAT-003", description: "FABクリックでチャットドロワーが開く", category: "AIチャット", status: "pass", note: "", file: "ai-chat-bot.spec.ts" },
        { id: "AICHAT-004", description: "チャットドロワーに提案質問が表示される", category: "AIチャット", status: "pass", note: "", file: "ai-chat-bot.spec.ts" },
        { id: "AICHAT-005", description: "メッセージ入力欄が表示される", category: "AIチャット", status: "pass", note: "", file: "ai-chat-bot.spec.ts" },
        { id: "AICHAT-010", description: "食事に関する質問に回答できる", category: "AIチャット", status: "pass", note: "", file: "ai-chat-bot.spec.ts" },
        { id: "AICHAT-011", description: "水分摂取に関する質問に回答できる", category: "AIチャット", status: "pass", note: "", file: "ai-chat-bot.spec.ts" },
        { id: "AICHAT-012", description: "排泄に関する質問に回答できる", category: "AIチャット", status: "pass", note: "", file: "ai-chat-bot.spec.ts" },
        { id: "AICHAT-013", description: "バイタルに関する質問に回答できる", category: "AIチャット", status: "pass", note: "", file: "ai-chat-bot.spec.ts" },
        { id: "AICHAT-014", description: "内服に関する質問に回答できる", category: "AIチャット", status: "pass", note: "", file: "ai-chat-bot.spec.ts" },
        { id: "AICHAT-015", description: "体重に関する質問に回答できる", category: "AIチャット", status: "pass", note: "", file: "ai-chat-bot.spec.ts" },
        { id: "AICHAT-016", description: "口腔ケアに関する質問に回答できる", category: "AIチャット", status: "pass", note: "", file: "ai-chat-bot.spec.ts" },
        { id: "AICHAT-017", description: "血糖値に関する質問に回答できる", category: "AIチャット", status: "pass", note: "", file: "ai-chat-bot.spec.ts" },
        { id: "AICHAT-018", description: "往診に関する質問に回答できる", category: "AIチャット", status: "pass", note: "", file: "ai-chat-bot.spec.ts" },
        { id: "AICHAT-019", description: "カンファレンスに関する質問に回答できる", category: "AIチャット", status: "pass", note: "", file: "ai-chat-bot.spec.ts" },
        { id: "AICHAT-020", description: "頓服と排泄の関係について質問できる", category: "AIチャット", status: "pass", note: "", file: "ai-chat-bot.spec.ts" },
        { id: "AICHAT-030", description: "空メッセージは送信できない", category: "AIチャット", status: "pass", note: "", file: "ai-chat-bot.spec.ts" },
        { id: "AICHAT-031", description: "提案質問をクリックするとAPI呼び出しが開始される", category: "AIチャット", status: "pass", note: "", file: "ai-chat-bot.spec.ts" },
        { id: "CHAT-001", description: "家族用チャット一覧にアクセスできる", category: "チャット連携", status: "pass", note: "", file: "chat-integration.spec.ts" },
        { id: "CHAT-002", description: "スタッフ用チャット一覧にアクセスできる", category: "チャット連携", status: "pass", note: "", file: "chat-integration.spec.ts" },
        { id: "CHAT-003", description: "フッターにチャットタブがある（家族）", category: "チャット連携", status: "pass", note: "", file: "chat-integration.spec.ts" },
        { id: "CHAT-004", description: "フッターにチャットタブがある（スタッフ）", category: "チャット連携", status: "pass", note: "", file: "chat-integration.spec.ts" },
        { id: "CHAT-005", description: "フッターからチャット一覧へ遷移できる（家族）", category: "チャット連携", status: "pass", note: "", file: "chat-integration.spec.ts" },
        { id: "CHAT-006", description: "フッターからチャット一覧へ遷移できる（スタッフ）", category: "チャット連携", status: "pass", note: "", file: "chat-integration.spec.ts" },
        { id: "CHAT-007", description: "家族品物詳細にチャットリンクがある", category: "チャット連携", status: "pass", note: "", file: "chat-integration.spec.ts" },
        { id: "CHAT-008", description: "チャット一覧で空の状態メッセージが表示される", category: "チャット連携", status: "pass", note: "", file: "chat-integration.spec.ts" },
        { id: "TEST-027", description: "VIEW-RESIZE-001: リサイズハンドルが表示される", category: "カラムリサイズ", status: "pass", note: "", file: "column-resize.spec.ts" },
        { id: "TEST-028", description: "VIEW-RESIZE-002: リサイズハンドルにホバーで青色表示", category: "カラムリサイズ", status: "pass", note: "", file: "column-resize.spec.ts" },
        { id: "TEST-029", description: "VIEW-RESIZE-003: ドラッグでカラム幅が変更される", category: "カラムリサイズ", status: "pass", note: "", file: "column-resize.spec.ts" },
        { id: "TEST-030", description: "VIEW-RESIZE-004: ダブルクリックでデフォルト幅にリセット", category: "カラムリサイズ", status: "pass", note: "", file: "column-resize.spec.ts" },
        { id: "TEST-031", description: "VIEW-RESIZE-005: 最小幅以下には縮小されない", category: "カラムリサイズ", status: "pass", note: "", file: "column-resize.spec.ts" },
        { id: "TEST-032", description: "VIEW-RESIZE-006: 日時カラムのデフォルト幅が165px", category: "カラムリサイズ", status: "pass", note: "", file: "column-resize.spec.ts" },
        { id: "TEST-033", description: "VIEW-RESIZE-007: col-resizeカーソルが表示される", category: "カラムリサイズ", status: "pass", note: "", file: "column-resize.spec.ts" },
        { id: "DEMO-001", description: "デモホームにアクセスできる", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-002", description: "デモモード説明が表示される", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-003", description: "機能カードが5つ表示される", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-004", description: "本番モードへのリンクがある", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-005", description: "ショーケースへのリンクがある", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-010", description: "ショーケースページにアクセスできる", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-011", description: "ステップ表示がある", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-012", description: "次へボタンで進める", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-013", description: "前へボタンで戻れる", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-014", description: "プログレスバーが表示される", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-015", description: "この機能を見るボタンがある", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-016", description: "全ステップ一覧が折りたたみで表示できる", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-017", description: "ストーリーが表示される", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-021", description: "デモ家族ホームにアクセスできる", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-022", description: "デモ統計にアクセスできる", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-023", description: "デモ品物一覧にアクセスできる", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-024", description: "デモタスク一覧にアクセスできる", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-025", description: "デモプリセット管理にアクセスできる", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-026", description: "デモ入居者設定にアクセスできる", category: "デモ", status: "skip", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-030", description: "品物一覧にサンプルデータが表示される", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-031", description: "統計ダッシュボードにタブがある", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-032", description: "タスク一覧にフィルタタブが表示される", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-040", description: "デモホームから品物管理に遷移できる", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-041", description: "デモホームから統計に遷移できる", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-042", description: "デモホームからショーケースに遷移できる", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-043", description: "デモホームから本番に遷移できる", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DEMO-044", description: "ショーケースからデモホームに戻れる", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "TEST-061", description: "DEMO-NAV-001: デモ家族ホームのフッターナビはすべてデモページ内を指す", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "TEST-062", description: "DEMO-NAV-002: デモ家族ホームからフッター「品物管理」クリック→デモページ内に留まる", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "TEST-063", description: "DEMO-NAV-003: デモ家族ホームからフッター「記録閲覧」クリック→デモページ内に留まる", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "TEST-064", description: "DEMO-NAV-004: デモ家族ホームからフッター「統計」クリック→デモページ内に留まる", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "TEST-065", description: "DEMO-NAV-005: デモ品物一覧で新規登録→デモページ内に留まる", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "TEST-066", description: "DEMO-NAV-006: デモタスク一覧のフッターからホームに戻る→デモページ内に留まる", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "TEST-067", description: "DEMO-NAV-007: デモ統計画面から戻ってもデモ内に留まる", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "TEST-068", description: "DEMO-TOUR-001: /demo/familyでツアーボタンがヘッダーに表示される", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "TEST-069", description: "DEMO-TOUR-002: /demo/statsでツアーボタンがヘッダーに表示される", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "TEST-070", description: "DEMO-TOUR-003: /demo/showcaseではツアーボタン非表示", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "TEST-071", description: "DEMO-TOUR-004: ツアーボタンクリックで/demo/showcaseに遷移", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "TEST-072", description: "DEMO-TOUR-005: 本番ページ(/family)ではツアーボタン非表示", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "TEST-073", description: "DEMO-TOUR-006: /demo でもツアーボタンが表示される", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "TEST-074", description: "DEMO-TOUR-007: スクロールしてもツアーボタンは常に見える", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "TEST-075", description: "DEMO-RESP-001: モバイル幅でデモホームが正しく表示される", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "TEST-076", description: "DEMO-RESP-002: モバイル幅でショーケースが正しく表示される", category: "デモ", status: "pass", note: "", file: "demo-page.spec.ts" },
        { id: "DSC-001", description: "記録入力ページの戻るボタンがデモ環境内に留まる", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff-containment.spec.ts" },
        { id: "DSC-002", description: "記録入力からフッターで記録閲覧に遷移してもデモ内", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff-containment.spec.ts" },
        { id: "DSC-010", description: "フッターの統計タブがデモ環境内に遷移", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff-containment.spec.ts" },
        { id: "DSC-011", description: "記録入力ページからも統計タブがデモ内遷移", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff-containment.spec.ts" },
        { id: "DSC-020", description: "タイムラインからの戻りリンクがデモ内", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff-containment.spec.ts" },
        { id: "DSC-021", description: "タイムラインのアクションボタンがデモ内", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff-containment.spec.ts" },
        { id: "TEST-083", description: "DSC-030-/demo/staff: /demo/staffからの全リンクがデモ内", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff-containment.spec.ts" },
        { id: "TEST-084", description: "DSC-030-/demo/staff/showcase: /demo/staff/showcaseからの全リンクがデモ内", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff-containment.spec.ts" },
        { id: "TEST-085", description: "DSC-030-/demo/staff/input/meal: /demo/staff/input/mealからの全リンクがデモ内", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff-containment.spec.ts" },
        { id: "TEST-086", description: "DSC-030-/demo/staff/family-messages: /demo/staff/family-messagesからの全リンクがデモ内", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff-containment.spec.ts" },
        { id: "TEST-087", description: "DSC-030-/demo/staff/chats: /demo/staff/chatsからの全リンクがデモ内", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff-containment.spec.ts" },
        { id: "TEST-088", description: "DSC-030-/demo/view: /demo/viewからの全リンクがデモ内", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff-containment.spec.ts" },
        { id: "TEST-089", description: "DSC-030-/demo/stats: /demo/statsからの全リンクがデモ内", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff-containment.spec.ts" },
        { id: "DSC-040", description: "全フッタータブがデモ内遷移", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff-containment.spec.ts" },
        { id: "DSC-050", description: "ブラウザバックでデモ内に留まる", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff-containment.spec.ts" },
        { id: "STAFF-001", description: "スタッフ用デモホームが表示される", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff.spec.ts" },
        { id: "STAFF-002", description: "4つの機能カードが表示される", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff.spec.ts" },
        { id: "STAFF-003", description: "ガイドツアーボタンが表示される", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff.spec.ts" },
        { id: "STAFF-010", description: "注意事項カードをクリック→一覧ページへ遷移", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff.spec.ts" },
        { id: "STAFF-011", description: "間食記録カードをクリック→入力ページへ遷移", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff.spec.ts" },
        { id: "STAFF-012", description: "統計カードをクリック→統計ページへ遷移", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff.spec.ts" },
        { id: "STAFF-013", description: "記録閲覧カードをクリック→閲覧ページへ遷移", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff.spec.ts" },
        { id: "STAFF-020", description: "ショーケースページが表示される", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff.spec.ts" },
        { id: "STAFF-021", description: "4つのステップが表示される", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff.spec.ts" },
        { id: "STAFF-022", description: "Step 1クリック→注意事項ページへ遷移", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff.spec.ts" },
        { id: "STAFF-030", description: "注意事項一覧にスタッフノートが表示される", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff.spec.ts" },
        { id: "STAFF-031", description: "注意事項ページにタブが表示される", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff.spec.ts" },
        { id: "STAFF-032", description: "注意事項に優先度バッジが表示される", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff.spec.ts" },
        { id: "STAFF-040", description: "/demo/staff/*でスタッフフッターが表示される", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff.spec.ts" },
        { id: "STAFF-041", description: "フッターからデモページ内へ正しく遷移", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff.spec.ts" },
        { id: "STAFF-050", description: "ツアーTOPに戻るボタンが表示される", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff.spec.ts" },
        { id: "STAFF-051", description: "ボタンクリック→ショーケースへ遷移", category: "デモ（スタッフ）", status: "pass", note: "", file: "demo-staff.spec.ts" },
        { id: "TEST-109", description: "DEMO-STATS-AI-001: AI分析パネルが表示される", category: "その他", status: "pass", note: "", file: "demo-stats-ai.spec.ts" },
        { id: "TEST-110", description: "DEMO-STATS-AI-002: 分析開始ボタンが表示される", category: "その他", status: "pass", note: "", file: "demo-stats-ai.spec.ts" },
        { id: "TEST-111", description: "DEMO-STATS-AI-003: 分析実行で結果が表示される", category: "その他", status: "pass", note: "", file: "demo-stats-ai.spec.ts" },
        { id: "TEST-112", description: "DEMO-STATS-AI-004: 発見事項が表示される", category: "その他", status: "pass", note: "", file: "demo-stats-ai.spec.ts" },
        { id: "TEST-113", description: "DEMO-STATS-AI-005: 注意傾向が表示される", category: "その他", status: "pass", note: "", file: "demo-stats-ai.spec.ts" },
        { id: "TEST-114", description: "DEMO-STATS-AI-006: 改善提案が表示される", category: "その他", status: "pass", note: "", file: "demo-stats-ai.spec.ts" },
        { id: "TEST-115", description: "DEMO-STATS-AI-007: 分析後に再分析ボタンが表示される", category: "その他", status: "pass", note: "", file: "demo-stats-ai.spec.ts" },
        { id: "TEST-116", description: "DEMO-STATS-AI-008: デモモードでAPIエラーが発生しない", category: "その他", status: "pass", note: "", file: "demo-stats-ai.spec.ts" },
        { id: "TEST-117", description: "DEMO-STATS-AI-009: メトリクスが正しく表示される", category: "その他", status: "pass", note: "", file: "demo-stats-ai.spec.ts" },
        { id: "DISCARD-001", description: "期限切れ品物がExpirationAlertに表示される", category: "廃棄指示", status: "pass", note: "", file: "discard-flow.spec.ts" },
        { id: "DISCARD-002", description: "期限切れ品物に廃棄ボタンが表示される", category: "廃棄指示", status: "pass", note: "", file: "discard-flow.spec.ts" },
        { id: "DISCARD-003", description: "廃棄ボタンクリックで確認ダイアログが表示される", category: "廃棄指示", status: "pass", note: "", file: "discard-flow.spec.ts" },
        { id: "DISCARD-004", description: "pending_discard品物は「スタッフに通知中...」と表示される", category: "廃棄指示", status: "pass", note: "", file: "discard-flow.spec.ts" },
        { id: "DISCARD-005", description: "詳細リンクから品物詳細ページへ遷移できる", category: "廃棄指示", status: "pass", note: "", file: "discard-flow.spec.ts" },
        { id: "DISCARD-010", description: "注意事項ページが表示される", category: "廃棄指示", status: "pass", note: "", file: "discard-flow.spec.ts" },
        { id: "DISCARD-011", description: "家族依頼タブにバッジが表示される（廃棄指示あり時）", category: "廃棄指示", status: "pass", note: "", file: "discard-flow.spec.ts" },
        { id: "DISCARD-012", description: "廃棄指示がある場合、家族依頼タブが自動選択される", category: "廃棄指示", status: "pass", note: "", file: "discard-flow.spec.ts" },
        { id: "DISCARD-013", description: "廃棄指示セクションに品物情報が表示される", category: "廃棄指示", status: "pass", note: "", file: "discard-flow.spec.ts" },
        { id: "DISCARD-014", description: "廃棄完了ボタンが表示される", category: "廃棄指示", status: "pass", note: "", file: "discard-flow.spec.ts" },
        { id: "DISCARD-015", description: "廃棄完了ボタンクリックでデモアラートが表示される", category: "廃棄指示", status: "pass", note: "", file: "discard-flow.spec.ts" },
        { id: "DISCARD-020", description: "注意事項タブをクリックで切り替え可能", category: "廃棄指示", status: "pass", note: "", file: "discard-flow.spec.ts" },
        { id: "DISCARD-021", description: "家族依頼タブをクリックで切り替え可能", category: "廃棄指示", status: "pass", note: "", file: "discard-flow.spec.ts" },
        { id: "DISCARD-030", description: "デモモードで廃棄依頼がアラートで完了する", category: "廃棄指示", status: "pass", note: "", file: "discard-flow.spec.ts" },
        { id: "DISCARD-040", description: "期限切れなしの場合は緑バナーが表示される", category: "廃棄指示", status: "pass", note: "", file: "discard-flow.spec.ts" },
        { id: "DISCARD-041", description: "通知中品物はグレー背景で表示される", category: "廃棄指示", status: "pass", note: "", file: "discard-flow.spec.ts" },
        { id: "DISCARD-042", description: "廃棄指示セクションは赤背景で目立つ", category: "廃棄指示", status: "pass", note: "", file: "discard-flow.spec.ts" },
        { id: "TEST-135", description: "SETTINGS-030-001: 設定モーダルに監視通知Webhook URL欄が表示される", category: "通知", status: "pass", note: "", file: "family-notify.spec.ts" },
        { id: "TEST-136", description: "SETTINGS-030-002: 監視通知Webhook URLの保存と復元（本番API依存）", category: "通知", status: "pass", note: "", file: "family-notify.spec.ts" },
        { id: "TEST-137", description: "SETTINGS-030-003: 空のURLでテスト送信するとエラー表示", category: "通知", status: "pass", note: "", file: "family-notify.spec.ts" },
        { id: "TEST-138", description: "SETTINGS-030-004: 不正なURLプレフィックスでテスト送信するとエラー表示", category: "通知", status: "pass", note: "", file: "family-notify.spec.ts" },
        { id: "TEST-139", description: "SETTINGS-030-005: 説明文が正しく表示される", category: "通知", status: "pass", note: "", file: "family-notify.spec.ts" },
        { id: "TEST-140", description: "SETTINGS-030-006: キャンセル時に入力値がリセットされる", category: "通知", status: "pass", note: "", file: "family-notify.spec.ts" },
        { id: "TEST-141", description: "SETTINGS-030-007: クリア操作でfamilyNotifyWebhookUrlもクリアされる（本番API依存）", category: "通知", status: "pass", note: "", file: "family-notify.spec.ts" },
        { id: "TEST-142", description: "家族ホーム（/family）にアクセスできる", category: "その他", status: "pass", note: "", file: "family-page.spec.ts" },
        { id: "TEST-143", description: "フッターナビゲーションが4タブで正しく表示される", category: "その他", status: "pass", note: "", file: "family-page.spec.ts" },
        { id: "TEST-144", description: "品物管理ページに遷移できる", category: "その他", status: "pass", note: "", file: "family-page.spec.ts" },
        { id: "TEST-145", description: "ホームからタスク管理に遷移できる", category: "その他", status: "pass", note: "", file: "family-page.spec.ts" },
        { id: "TEST-146", description: "日付セレクターが表示され機能する", category: "その他", status: "pass", note: "", file: "family-page.spec.ts" },
        { id: "TEST-147", description: "タイムラインが食事時間順に表示される", category: "その他", status: "pass", note: "", file: "family-page.spec.ts" },
        { id: "TEST-148", description: "品物一覧ページが表示される", category: "その他", status: "pass", note: "", file: "family-page.spec.ts" },
        { id: "TEST-149", description: "品物登録フォームに遷移できる", category: "その他", status: "pass", note: "", file: "family-page.spec.ts" },
        { id: "TEST-150", description: "品物登録フォームに必要な項目がある", category: "その他", status: "pass", note: "", file: "family-page.spec.ts" },
        { id: "TEST-151", description: "プリセット管理ページにアクセスできる", category: "その他", status: "pass", note: "", file: "family-page.spec.ts" },
        { id: "TEST-152", description: "タスク一覧ページにアクセスできる", category: "その他", status: "pass", note: "", file: "family-page.spec.ts" },
        { id: "TEST-153", description: "記録閲覧ページに遷移しても家族用フッターが維持される", category: "その他", status: "pass", note: "", file: "family-page.spec.ts" },
        { id: "TEST-154", description: "統計ページに遷移しても家族用フッターが維持される", category: "その他", status: "pass", note: "", file: "family-page.spec.ts" },
        { id: "TEST-155", description: "品物管理 → 新規登録 → 戻るで品物一覧に戻る", category: "その他", status: "pass", note: "", file: "family-page.spec.ts" },
        { id: "TEST-156", description: "品物詳細ページで消費ログが表示される（デモモード）", category: "その他", status: "pass", note: "", file: "family-page.spec.ts" },
        { id: "TEST-157", description: "消費ログに家族指示対応が表示される", category: "その他", status: "pass", note: "", file: "family-page.spec.ts" },
        { id: "TEST-158", description: "消費ログに提供者名と摂食率が表示される", category: "その他", status: "pass", note: "", file: "family-page.spec.ts" },
        { id: "TEST-159", description: "家族用フッターは4タブ構成である", category: "その他", status: "pass", note: "", file: "family-page.spec.ts" },
        { id: "TEST-160", description: "/family/items/new から品物を登録できるフォームがある", category: "その他", status: "pass", note: "", file: "family-page.spec.ts" },
        { id: "TEST-161", description: "SCENARIO-D01: 品物登録フォームにアクセスできる", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "TEST-162", description: "SCENARIO-D02: 品物名を入力するとAI提案ボタンが表示される", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "TEST-163", description: "SCENARIO-D03: プリセットボタンが表示される", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "TEST-164", description: "SCENARIO-D04: デモモードでは登録操作が本番に影響しない", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "TEST-165", description: "SCENARIO-D05: 品物一覧にデモデータが表示される", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "TEST-166", description: "SCENARIO-D06: 新規登録ボタンが機能する", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "TEST-167", description: "SCENARIO-D07: 品物カードまたはリストが表示される", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "TEST-168", description: "SCENARIO-D08: プリセット管理画面にアクセスできる", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "TEST-169", description: "SCENARIO-D09: プリセット管理ページのメインコンテンツが表示される", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "TEST-170", description: "SCENARIO-D10: 入居者設定画面にアクセスできる", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "TEST-171", description: "SCENARIO-D11: 禁止ルール見出しが表示される", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "TEST-172", description: "SCENARIO-D12: 家族ダッシュボードにアクセスできる", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "TEST-173", description: "SCENARIO-D13: 日付セレクターが機能する", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "TEST-174", description: "SCENARIO-D14: タイムラインが表示される", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "TEST-175", description: "SCENARIO-D15: 統計ダッシュボードにアクセスできる", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "TEST-176", description: "SCENARIO-D16: 品物状況タブがある", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "TEST-177", description: "SCENARIO-D17: 摂食傾向タブがある", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "TEST-178", description: "SCENARIO-D18: 品物別分布が表示される", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "PARITY-01", description: "品物登録フォーム（デモ↔本番）", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "PARITY-02", description: "品物一覧ページ（デモ↔本番）", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "PARITY-03", description: "プリセット管理ページ（デモ↔本番）", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "PARITY-04", description: "入居者設定ページ（デモ↔本番）", category: "家族シナリオ", status: "skip", note: "", file: "family-user-scenario.spec.ts" },
        { id: "PARITY-05", description: "家族ダッシュボード（デモ↔本番）", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "PARITY-06", description: "統計ダッシュボード（デモ↔本番）", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "FLOW-01", description: "デモツアーを最初から最後まで体験する", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "FLOW-02", description: "品物登録→一覧確認→統計の流れ", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "FLOW-03", description: "フッターナビで全ページを巡回（デモモード）", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "PROD-01", description: "本番家族ホームが正常に表示される", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "PROD-02", description: "本番品物管理が正常に表示される", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "PROD-03", description: "本番品物登録フォームが正常に表示される", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "PROD-04", description: "本番プリセット管理が正常に表示される", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "PROD-05", description: "本番入居者設定が正常に表示される", category: "家族シナリオ", status: "skip", note: "", file: "family-user-scenario.spec.ts" },
        { id: "PROD-06", description: "本番統計が正常に表示される", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "PROD-07", description: "本番フッターナビで全ページ遷移可能", category: "家族シナリオ", status: "pass", note: "", file: "family-user-scenario.spec.ts" },
        { id: "TEST-195", description: "デモ品物一覧で期限が近い順に表示される", category: "FIFO", status: "pass", note: "", file: "fifo.spec.ts" },
        { id: "TEST-196", description: "期限切れ品物が先頭に表示される", category: "FIFO", status: "pass", note: "", file: "fifo.spec.ts" },
        { id: "TEST-197", description: "スタッフ食事入力で同一品物が複数ある場合にFIFOWarningが表示される（本番データ必要）", category: "FIFO", status: "pass", note: "", file: "fifo.spec.ts" },
        { id: "TEST-198", description: "FIFOWarningに「推奨」マークが表示される（本番データ必要）", category: "FIFO", status: "pass", note: "", file: "fifo.spec.ts" },
        { id: "TEST-199", description: "りんご詳細ページで同一品物アラートが表示される", category: "FIFO", status: "pass", note: "", file: "fifo.spec.ts" },
        { id: "TEST-200", description: "バナナ詳細ページで同一品物アラートが表示される", category: "FIFO", status: "pass", note: "", file: "fifo.spec.ts" },
        { id: "TEST-201", description: "重複のない品物の詳細ページではSameItemAlertが表示されない", category: "FIFO", status: "pass", note: "", file: "fifo.spec.ts" },
        { id: "TEST-202", description: "SameItemAlertに「先に消費推奨」マークが表示される", category: "FIFO", status: "pass", note: "", file: "fifo.spec.ts" },
        { id: "TEST-203", description: "期限なし品物は末尾に配置される", category: "FIFO", status: "pass", note: "", file: "fifo.spec.ts" },
        { id: "TEST-204", description: "FIFOソートでデモデータが正しくソートされている", category: "FIFO", status: "pass", note: "", file: "fifo.spec.ts" },
        { id: "FILTER-001", description: "URLパラメータでフィルター状態が復元される", category: "フィルター", status: "pass", note: "", file: "filter-state-persistence.spec.ts" },
        { id: "FILTER-002", description: "期間変更でURLが更新される", category: "フィルター", status: "pass", note: "", file: "filter-state-persistence.spec.ts" },
        { id: "FILTER-003", description: "トグル変更でURLが更新される", category: "フィルター", status: "pass", note: "", file: "filter-state-persistence.spec.ts" },
        { id: "FILTER-004", description: "詳細展開でURLが更新される", category: "フィルター", status: "pass", note: "", file: "filter-state-persistence.spec.ts" },
        { id: "FILTER-005", description: "新規登録画面から戻るとフィルター状態が維持される", category: "フィルター", status: "skip", note: "", file: "filter-state-persistence.spec.ts" },
        { id: "FND-001", description: "/demo/staff should not have 500 errors", category: "その他", status: "pass", note: "", file: "footer-nav-demo.spec.ts" },
        { id: "FND-002", description: "/demo/family should not have 500 errors", category: "その他", status: "pass", note: "", file: "footer-nav-demo.spec.ts" },
        { id: "FND-003", description: "/demo/view should not have 500 errors", category: "その他", status: "pass", note: "", file: "footer-nav-demo.spec.ts" },
        { id: "FND-010", description: "/demo/staff should display footer navigation", category: "その他", status: "pass", note: "", file: "footer-nav-demo.spec.ts" },
        { id: "FND-011", description: "/demo/family should display footer navigation", category: "その他", status: "pass", note: "", file: "footer-nav-demo.spec.ts" },
        { id: "FND-012", description: "Demo mode should not call getActiveChatItems API", category: "その他", status: "pass", note: "", file: "footer-nav-demo.spec.ts" },
        { id: "FND-013", description: "Demo family mode should not call getActiveChatItems API", category: "その他", status: "pass", note: "", file: "footer-nav-demo.spec.ts" },
        { id: "FND-020", description: "Demo staff footer navigation stays in demo", category: "その他", status: "pass", note: "", file: "footer-nav-demo.spec.ts" },
        { id: "FND-021", description: "Demo family footer navigation stays in demo", category: "その他", status: "pass", note: "", file: "footer-nav-demo.spec.ts" },
        { id: "TEST-219", description: "VIEW-SEARCH-001: 検索ボタンをクリックで検索バーが開く", category: "検索", status: "pass", note: "", file: "fulltext-search.spec.ts" },
        { id: "TEST-220", description: "VIEW-SEARCH-002: スタッフ名で検索できる", category: "検索", status: "pass", note: "", file: "fulltext-search.spec.ts" },
        { id: "TEST-221", description: "VIEW-SEARCH-003: 日付で検索できる", category: "検索", status: "pass", note: "", file: "fulltext-search.spec.ts" },
        { id: "TEST-222", description: "VIEW-SEARCH-004: 特記事項の内容で検索できる（特記事項タブ）", category: "検索", status: "pass", note: "", file: "fulltext-search.spec.ts" },
        { id: "TEST-223", description: "VIEW-SEARCH-005: 時間帯で検索できる（食事タブ）", category: "検索", status: "pass", note: "", file: "fulltext-search.spec.ts" },
        { id: "TEST-224", description: "VIEW-SEARCH-006: 検索結果が0件の場合メッセージが表示される", category: "検索", status: "pass", note: "", file: "fulltext-search.spec.ts" },
        { id: "TEST-225", description: "VIEW-SEARCH-007: 検索クリアで全件表示に戻る", category: "検索", status: "pass", note: "", file: "fulltext-search.spec.ts" },
        { id: "TEST-226", description: "タブが2つ表示される（食事、品物から記録）", category: "その他", status: "pass", note: "", file: "item-based-snack-record.spec.ts" },
        { id: "TEST-227", description: "初期状態は「食事」タブがアクティブ", category: "その他", status: "pass", note: "", file: "item-based-snack-record.spec.ts" },
        { id: "TEST-228", description: "「品物から記録」タブをクリックすると切り替わる", category: "その他", status: "pass", note: "", file: "item-based-snack-record.spec.ts" },
        { id: "TEST-229", description: "タブ切替で表示内容が変わる", category: "その他", status: "pass", note: "", file: "item-based-snack-record.spec.ts" },
        { id: "TEST-230", description: "品物から記録タブで品物リストが表示される", category: "その他", status: "pass", note: "", file: "item-based-snack-record.spec.ts" },
        { id: "TEST-231", description: "デモモードでは品物が表示される", category: "その他", status: "pass", note: "", file: "item-based-snack-record.spec.ts" },
        { id: "TEST-232", description: "品物カードに必要な情報が表示される", category: "その他", status: "pass", note: "", file: "item-based-snack-record.spec.ts" },
        { id: "TEST-233", description: "「提供記録」ボタンでモーダルが開く", category: "その他", status: "pass", note: "", file: "item-based-snack-record.spec.ts" },
        { id: "TEST-234", description: "モーダルに必要なフォーム要素がある", category: "その他", status: "pass", note: "", file: "item-based-snack-record.spec.ts" },
        { id: "TEST-235", description: "摂食状況の選択肢が表示される", category: "その他", status: "pass", note: "", file: "item-based-snack-record.spec.ts" },
        { id: "TEST-236", description: "キャンセルボタンでモーダルが閉じる", category: "その他", status: "pass", note: "", file: "item-based-snack-record.spec.ts" },
        { id: "TEST-237", description: "記録保存ボタンが機能する", category: "その他", status: "pass", note: "", file: "item-based-snack-record.spec.ts" },
        { id: "TEST-238", description: "Sheet B連携のメッセージが表示される", category: "その他", status: "pass", note: "", file: "item-based-snack-record.spec.ts" },
        { id: "TEST-239", description: "ITEM-EDIT-001: 編集ボタンが品物詳細に表示される", category: "その他", status: "pass", note: "", file: "item-edit.spec.ts" },
        { id: "TEST-240", description: "ITEM-EDIT-002: 編集ページに遷移できる", category: "その他", status: "pass", note: "", file: "item-edit.spec.ts" },
        { id: "TEST-241", description: "ITEM-EDIT-003: 既存の値がフォームに入力されている", category: "その他", status: "pass", note: "", file: "item-edit.spec.ts" },
        { id: "TEST-242", description: "ITEM-EDIT-004: 品物名を変更して保存できる（デモモード）", category: "その他", status: "pass", note: "", file: "item-edit.spec.ts" },
        { id: "TEST-243", description: "ITEM-EDIT-005: 送付日は編集不可", category: "その他", status: "pass", note: "", file: "item-edit.spec.ts" },
        { id: "TEST-244", description: "ITEM-EDIT-006: キャンセルで元の詳細ページに戻る", category: "その他", status: "pass", note: "", file: "item-edit.spec.ts" },
        { id: "TEST-245", description: "ITEM-EDIT-007: デモモードで編集UIが正常に動作する", category: "その他", status: "pass", note: "", file: "item-edit.spec.ts" },
        { id: "TEST-246", description: "ITEM-EDIT-P01: 本番品物詳細で編集ボタンが表示される", category: "その他", status: "pass", note: "", file: "item-edit.spec.ts" },
        { id: "TEST-247", description: "ITEM-EDIT-P02: 本番編集ページが正常にロードされる", category: "その他", status: "pass", note: "", file: "item-edit.spec.ts" },
        { id: "TEST-248", description: "ITEM-TS-001: 登録日時が品物詳細に表示される", category: "その他", status: "pass", note: "", file: "item-edit.spec.ts" },
        { id: "TEST-249", description: "ITEM-TS-002: 更新日時が表示される（更新がある場合）", category: "その他", status: "pass", note: "", file: "item-edit.spec.ts" },
        { id: "TEST-250", description: "ITEM-TS-003: タイムスタンプが人間可読形式で表示される", category: "その他", status: "pass", note: "", file: "item-edit.spec.ts" },
        { id: "TEST-251", description: "ITEM-TL-001: タイムラインセクションが品物詳細に表示される", category: "その他", status: "pass", note: "", file: "item-edit.spec.ts" },
        { id: "TEST-252", description: "ITEM-TL-002: 登録イベント（📦）がタイムラインに表示される", category: "その他", status: "pass", note: "", file: "item-edit.spec.ts" },
        { id: "TEST-253", description: "ITEM-TL-003: 編集イベント（✏️）がタイムラインに表示される", category: "その他", status: "pass", note: "", file: "item-edit.spec.ts" },
        { id: "TEST-254", description: "ITEM-TL-003a: 編集イベントに変更内容が表示される", category: "その他", status: "pass", note: "", file: "item-edit.spec.ts" },
        { id: "TEST-255", description: "ITEM-TL-003b: 編集イベントに実行者が表示される", category: "その他", status: "pass", note: "", file: "item-edit.spec.ts" },
        { id: "TEST-256", description: "ITEM-TL-004: 提供・消費イベントがタイムラインに表示される", category: "その他", status: "pass", note: "", file: "item-edit.spec.ts" },
        { id: "TEST-257", description: "ITEM-TL-005: タイムラインが時系列順（新しい順）に表示される", category: "その他", status: "pass", note: "", file: "item-edit.spec.ts" },
        { id: "TEST-258", description: "ITEM-TL-006: イベントにタイムスタンプが表示される", category: "その他", status: "pass", note: "", file: "item-edit.spec.ts" },
        { id: "TEST-259", description: "ITEM-TL-007: デモモードでイベントタイムラインが正常に動作する", category: "その他", status: "pass", note: "", file: "item-edit.spec.ts" },
        { id: "TEST-260", description: "FLOW-EDIT-01: 品物一覧→詳細→編集→保存→詳細のフロー", category: "その他", status: "pass", note: "", file: "item-edit.spec.ts" },
        { id: "TEST-261", description: "FLOW-EDIT-02: 編集キャンセルフロー", category: "その他", status: "pass", note: "", file: "item-edit.spec.ts" },
        { id: "TEST-262", description: "今日提供予定・賞味期限の2つのサブタブが表示される", category: "品物タブ", status: "pass", note: "", file: "item-snack-tab-ui.spec.ts" },
        { id: "TEST-263", description: "初期状態は「今日提供予定」タブがアクティブ", category: "品物タブ", status: "pass", note: "", file: "item-snack-tab-ui.spec.ts" },
        { id: "TEST-264", description: "今日予定の品物がある場合、セクションが表示される", category: "品物タブ", status: "pass", note: "", file: "item-snack-tab-ui.spec.ts" },
        { id: "TEST-265", description: "品物カードに提供記録ボタンがある", category: "品物タブ", status: "pass", note: "", file: "item-snack-tab-ui.spec.ts" },
        { id: "TEST-266", description: "賞味期限タブに切り替えられる", category: "品物タブ", status: "pass", note: "", file: "item-snack-tab-ui.spec.ts" },
        { id: "TEST-267", description: "期限に関するセクションが表示される", category: "品物タブ", status: "pass", note: "", file: "item-snack-tab-ui.spec.ts" },
        { id: "TEST-268", description: "期限切れがある場合、アラートバナーが表示される", category: "品物タブ", status: "pass", note: "", file: "item-snack-tab-ui.spec.ts" },
        { id: "TEST-269", description: "期限切れ品物には廃棄ボタンが表示される", category: "品物タブ", status: "pass", note: "", file: "item-snack-tab-ui.spec.ts" },
        { id: "TEST-270", description: "廃棄ボタンクリックで確認ダイアログが表示される", category: "品物タブ", status: "pass", note: "", file: "item-snack-tab-ui.spec.ts" },
        { id: "TEST-271", description: "キャンセルで確認ダイアログが閉じる", category: "品物タブ", status: "pass", note: "", file: "item-snack-tab-ui.spec.ts" },
        { id: "TEST-272", description: "今日提供予定タブにバッジが表示される（予定ありの場合）", category: "品物タブ", status: "pass", note: "", file: "item-snack-tab-ui.spec.ts" },
        { id: "TEST-273", description: "賞味期限タブに期限切れバッジが表示される（期限切れありの場合）", category: "品物タブ", status: "pass", note: "", file: "item-snack-tab-ui.spec.ts" },
        { id: "TEST-274", description: "今日提供予定タブで予定品物はamber色でハイライトされる", category: "品物タブ", status: "pass", note: "", file: "item-snack-tab-ui.spec.ts" },
        { id: "TEST-275", description: "賞味期限タブで期限切れ品物はred色でハイライトされる", category: "品物タブ", status: "pass", note: "", file: "item-snack-tab-ui.spec.ts" },
        { id: "TEST-276", description: "賞味期限タブで期限間近品物はorange色でハイライトされる", category: "品物タブ", status: "pass", note: "", file: "item-snack-tab-ui.spec.ts" },
        { id: "PHOTO-001", description: "エビデンス画面で写真が表示される", category: "写真", status: "pass", note: "", file: "photo-evidence.spec.ts" },
        { id: "PHOTO-002", description: "写真がない場合はプレースホルダが表示される", category: "写真", status: "pass", note: "", file: "photo-evidence.spec.ts" },
        { id: "PHOTO-003", description: "家族ダッシュボードから写真を見るリンクが機能する", category: "写真", status: "pass", note: "", file: "photo-evidence.spec.ts" },
        { id: "PHOTO-010", description: "記録入力画面に写真アップロードUIがある", category: "写真", status: "pass", note: "", file: "photo-evidence.spec.ts" },
        { id: "PHOTO-011", description: "写真を選択できる", category: "写真", status: "pass", note: "", file: "photo-evidence.spec.ts" },
        { id: "PHOTO-020", description: "本番環境でエビデンス画面に写真が表示される", category: "写真", status: "skip", note: "", file: "photo-evidence.spec.ts" },
        { id: "TEST-283", description: "PRESET-DATA-001: プリセット名に括弧付き詳細が含まれない", category: "プリセット", status: "pass", note: "", file: "preset-data-integrity.spec.ts" },
        { id: "TEST-284", description: "PRESET-DATA-002: プリセットアイコンが📌ではない", category: "プリセット", status: "pass", note: "", file: "preset-data-integrity.spec.ts" },
        { id: "TEST-285", description: "PRESET-DATA-003: 本番プリセット名に括弧付き詳細が含まれない", category: "プリセット", status: "pass", note: "", file: "preset-data-integrity.spec.ts" },
        { id: "TEST-286", description: "PRESET-DATA-004: 本番プリセットアイコンが📌ではない", category: "プリセット", status: "pass", note: "", file: "preset-data-integrity.spec.ts" },
        { id: "TEST-287", description: "PRESET-INLINE-001: 「+ 新規追加」ボタンが表示される", category: "プリセット", status: "pass", note: "", file: "preset-inline-edit.spec.ts" },
        { id: "TEST-288", description: "PRESET-INLINE-002: 「+ 新規追加」ボタンクリックでモーダルが開く", category: "プリセット", status: "pass", note: "", file: "preset-inline-edit.spec.ts" },
        { id: "TEST-289", description: "PRESET-INLINE-003: プリセットカードに編集アイコンが表示される（ホバー時）", category: "プリセット", status: "pass", note: "", file: "preset-inline-edit.spec.ts" },
        { id: "TEST-290", description: "PRESET-INLINE-004: 編集アイコンクリックでモーダルが開く", category: "プリセット", status: "pass", note: "", file: "preset-inline-edit.spec.ts" },
        { id: "TEST-291", description: "PRESET-INLINE-005: 「📋 一覧で管理」リンクが表示される", category: "プリセット", status: "pass", note: "", file: "preset-inline-edit.spec.ts" },
        { id: "TEST-292", description: "PRESET-INLINE-006: 新規追加モーダルで×ボタンを押すと閉じる", category: "プリセット", status: "pass", note: "", file: "preset-inline-edit.spec.ts" },
        { id: "TEST-293", description: "PRESET-INLINE-007: デモモードで保存するとアラートが表示される", category: "プリセット", status: "pass", note: "", file: "preset-inline-edit.spec.ts" },
        { id: "TEST-294", description: "PRESET-INLINE-008: プリセットカードクリックで適用される（編集モードでない場合）", category: "プリセット", status: "pass", note: "", file: "preset-inline-edit.spec.ts" },
        { id: "TEST-295", description: "PRESET-NAV-001: 品物管理ページにいつもの指示リンクが表示される", category: "プリセット", status: "pass", note: "", file: "preset-navigation.spec.ts" },
        { id: "TEST-296", description: "PRESET-NAV-002: リンククリックでプリセット管理ページに遷移", category: "プリセット", status: "pass", note: "", file: "preset-navigation.spec.ts" },
        { id: "TEST-297", description: "PRESET-NAV-003: デモモードでプリセット管理ページが正常に動作", category: "プリセット", status: "pass", note: "", file: "preset-navigation.spec.ts" },
        { id: "TEST-298", description: "PRESET-NAV-004: 本番モードでもリンクが正しく機能", category: "プリセット", status: "pass", note: "", file: "preset-navigation.spec.ts" },
        { id: "TEST-299", description: "PRESET-NAV-005: レスポンシブ表示（モバイル幅）", category: "プリセット", status: "pass", note: "", file: "preset-navigation.spec.ts" },
        { id: "TEST-300", description: "RECORD-CHAT-001: チャットスレッドに記録カードが表示される", category: "チャット連携", status: "pass", note: "", file: "record-chat-integration.spec.ts" },
        { id: "TEST-301", description: "RECORD-CHAT-002: 記録カードに品物名・提供数・摂食状況が表示される", category: "チャット連携", status: "pass", note: "", file: "record-chat-integration.spec.ts" },
        { id: "TEST-302", description: "RECORD-CHAT-003: 家族ホームに通知セクションが表示される", category: "チャット連携", status: "pass", note: "", file: "record-chat-integration.spec.ts" },
        { id: "TEST-303", description: "RECORD-CHAT-004: スタッフホームに通知セクションが表示される", category: "チャット連携", status: "pass", note: "", file: "record-chat-integration.spec.ts" },
        { id: "TEST-304", description: "RECORD-CHAT-005: 通知をクリックするとチャットに遷移できる", category: "チャット連携", status: "pass", note: "", file: "record-chat-integration.spec.ts" },
        { id: "TEST-305", description: "RECORD-CHAT-006: 記録カードは中央配置で表示される", category: "チャット連携", status: "pass", note: "", file: "record-chat-integration.spec.ts" },
        { id: "TEST-306", description: "RECORD-CHAT-007: 通常メッセージと記録カードが区別できる", category: "チャット連携", status: "pass", note: "", file: "record-chat-integration.spec.ts" },
        { id: "TEST-307", description: "RECORD-CHAT-008: デモモードでは記録カードがモックデータで表示される", category: "チャット連携", status: "pass", note: "", file: "record-chat-integration.spec.ts" },
        { id: "RHI-001", description: "品物登録時に「破棄してください」指示を設定できる", category: "残り対応", status: "pass", note: "", file: "remaining-handling-instruction.spec.ts" },
        { id: "RHI-002", description: "品物登録時に「保存してください」指示を設定できる", category: "残り対応", status: "pass", note: "", file: "remaining-handling-instruction.spec.ts" },
        { id: "RHI-003", description: "品物登録時に「指定なし」がデフォルト選択されている", category: "残り対応", status: "pass", note: "", file: "remaining-handling-instruction.spec.ts" },
        { id: "RHI-004", description: "注意書きが表示されている", category: "残り対応", status: "pass", note: "", file: "remaining-handling-instruction.spec.ts" },
        { id: "RHI-005", description: "品物編集ページで処置指示セクションが表示される（デモデータ依存）", category: "残り対応", status: "skip", note: "", file: "remaining-handling-instruction.spec.ts" },
        { id: "RHI-006", description: "品物編集で指示を変更できる（デモデータ依存）", category: "残り対応", status: "skip", note: "", file: "remaining-handling-instruction.spec.ts" },
        { id: "RHI-007", description: "スタッフ記録ダイアログで残り対応選択肢が表示される", category: "残り対応", status: "pass", note: "", file: "remaining-handling-instruction.spec.ts" },
        { id: "RHI-008", description: "家族指示がある場合、指示バナーが表示される", category: "残り対応", status: "pass", note: "", file: "remaining-handling-instruction.spec.ts" },
        { id: "RHI-009", description: "家族指示がある場合、他の選択肢が非活性化される", category: "残り対応", status: "pass", note: "", file: "remaining-handling-instruction.spec.ts" },
        { id: "RHI-010", description: "型定義とUIが一致していることを確認（回帰テスト）", category: "残り対応", status: "pass", note: "", file: "remaining-handling-instruction.spec.ts" },
        { id: "ROLE-001", description: "/staff/input/meal でスタッフカラー（Green）が適用される", category: "ロールテーマ", status: "pass", note: "", file: "role-theme-colors.spec.ts" },
        { id: "ROLE-002", description: "/staff/input/meal でスタッフ用フッターが表示される", category: "ロールテーマ", status: "pass", note: "", file: "role-theme-colors.spec.ts" },
        { id: "ROLE-003", description: "/staff/input/meal のアクティブタブがGreenである", category: "ロールテーマ", status: "pass", note: "", file: "role-theme-colors.spec.ts" },
        { id: "ROLE-010", description: "/family で家族カラー（Orange）が適用される", category: "ロールテーマ", status: "pass", note: "", file: "role-theme-colors.spec.ts" },
        { id: "ROLE-011", description: "/family で家族用フッターが表示される", category: "ロールテーマ", status: "pass", note: "", file: "role-theme-colors.spec.ts" },
        { id: "ROLE-012", description: "/family のアクティブタブがOrangeである", category: "ロールテーマ", status: "pass", note: "", file: "role-theme-colors.spec.ts" },
        { id: "ROLE-013", description: "/family/items でも家族カラーが維持される", category: "ロールテーマ", status: "pass", note: "", file: "role-theme-colors.spec.ts" },
        { id: "ROLE-030", description: "/demo/family で家族カラー（Orange）が適用される", category: "ロールテーマ", status: "pass", note: "", file: "role-theme-colors.spec.ts" },
        { id: "ROLE-031", description: "/demo/family で家族用フッターが表示される", category: "ロールテーマ", status: "pass", note: "", file: "role-theme-colors.spec.ts" },
        { id: "ROLE-032", description: "/demo/family のアクティブタブがOrangeである", category: "ロールテーマ", status: "pass", note: "", file: "role-theme-colors.spec.ts" },
        { id: "ROLE-033", description: "/demo/family/items でも家族カラーが維持される", category: "ロールテーマ", status: "pass", note: "", file: "role-theme-colors.spec.ts" },
        { id: "ROLE-040", description: "/demo/staff でスタッフカラー（Green）が適用される", category: "ロールテーマ", status: "pass", note: "", file: "role-theme-colors.spec.ts" },
        { id: "ROLE-041", description: "/demo/staff でスタッフ用フッターが表示される", category: "ロールテーマ", status: "pass", note: "", file: "role-theme-colors.spec.ts" },
        { id: "ROLE-042", description: "/demo/staff/input/meal のアクティブタブがGreenである", category: "ロールテーマ", status: "pass", note: "", file: "role-theme-colors.spec.ts" },
        { id: "ROLE-050", description: "/family → /view で家族カラーが維持される", category: "ロールテーマ", status: "pass", note: "", file: "role-theme-colors.spec.ts" },
        { id: "ROLE-051", description: "/staff/input/meal → /view でスタッフカラーが維持される", category: "ロールテーマ", status: "pass", note: "", file: "role-theme-colors.spec.ts" },
        { id: "ROLE-052", description: "/demo/family → /demo/view で家族カラーが維持される", category: "ロールテーマ", status: "pass", note: "", file: "role-theme-colors.spec.ts" },
        { id: "ROLE-053", description: "/demo/staff → /demo/view でスタッフカラーが維持される", category: "ロールテーマ", status: "pass", note: "", file: "role-theme-colors.spec.ts" },
        { id: "SCHED-020", description: "タイムスロットが表示される（おやつ時）", category: "スケジュール", status: "pass", note: "", file: "schedule-display.spec.ts" },
        { id: "SCHED-020b", description: "毎日スケジュールのタイムスロット表示", category: "スケジュール", status: "pass", note: "", file: "schedule-display.spec.ts" },
        { id: "SCHED-021", description: "曜日指定スケジュールで曜日が表示される", category: "スケジュール", status: "pass", note: "", file: "schedule-display.spec.ts" },
        { id: "SCHED-022", description: "今日の曜日がハイライトされる", category: "スケジュール", status: "pass", note: "", file: "schedule-display.spec.ts" },
        { id: "SCHED-023", description: "今日が該当しない場合、次回日付が表示される", category: "スケジュール", status: "pass", note: "", file: "schedule-display.spec.ts" },
        { id: "SCHED-024", description: "補足メモが表示される", category: "スケジュール", status: "pass", note: "", file: "schedule-display.spec.ts" },
        { id: "SCHED-025", description: "スケジュールなし品物にはスケジュール表示がない", category: "スケジュール", status: "pass", note: "", file: "schedule-display.spec.ts" },
        { id: "SCHED-026", description: "品物から記録タブが正しく表示される", category: "スケジュール", status: "pass", note: "", file: "schedule-display.spec.ts" },
        { id: "SCHED-001", description: "スケジュールタイプを切り替えできる", category: "スケジュール", status: "pass", note: "", file: "schedule-extension.spec.ts" },
        { id: "SCHED-002", description: "曜日を選択できる", category: "スケジュール", status: "pass", note: "", file: "schedule-extension.spec.ts" },
        { id: "SCHED-003", description: "複数日を追加・削除できる", category: "スケジュール", status: "pass", note: "", file: "schedule-extension.spec.ts" },
        { id: "SCHED-004", description: "提供タイミングを選択できる", category: "スケジュール", status: "pass", note: "", file: "schedule-extension.spec.ts" },
        { id: "SCHED-005", description: "スケジュールをクリアできる", category: "スケジュール", status: "pass", note: "", file: "schedule-extension.spec.ts" },
        { id: "SCHED-006", description: "補足メモを入力できる", category: "スケジュール", status: "pass", note: "", file: "schedule-extension.spec.ts" },
        { id: "SCHED-012", description: "スケジュール表示が正しくフォーマットされる", category: "スケジュール", status: "pass", note: "", file: "schedule-extension.spec.ts" },
        { id: "SCHEDULE-001", description: "「毎日」選択時に開始日入力が表示される", category: "スケジュール", status: "pass", note: "", file: "schedule-start-date.spec.ts" },
        { id: "SCHEDULE-002", description: "「曜日指定」選択時に開始日入力が表示される", category: "スケジュール", status: "pass", note: "", file: "schedule-start-date.spec.ts" },
        { id: "SCHEDULE-003", description: "「特定の日」選択時に開始日入力は表示されない", category: "スケジュール", status: "pass", note: "", file: "schedule-start-date.spec.ts" },
        { id: "SCHEDULE-004", description: "「複数日指定」選択時に開始日入力は表示されない", category: "スケジュール", status: "pass", note: "", file: "schedule-start-date.spec.ts" },
        { id: "SCHEDULE-005", description: "開始日入力にヘルプテキストが表示される", category: "スケジュール", status: "pass", note: "", file: "schedule-start-date.spec.ts" },
        { id: "TEST-356", description: "SCHEDULE-EDIT-001: 編集画面にスケジュール入力コンポーネントが表示される", category: "スケジュール", status: "pass", note: "", file: "schedule-start-date.spec.ts" },
        { id: "TEST-357", description: "SCHEDULE-EDIT-002: スケジュールを設定して保存できる（デモモード）", category: "スケジュール", status: "pass", note: "", file: "schedule-start-date.spec.ts" },
        { id: "TEST-358", description: "SCHEDULE-DISP-001: 毎日スケジュールの表示形式が正しい", category: "スケジュール", status: "pass", note: "", file: "schedule-start-date.spec.ts" },
        { id: "TEST-359", description: "SCHEDULE-DISP-002: 曜日指定スケジュールの表示形式が正しい", category: "スケジュール", status: "pass", note: "", file: "schedule-start-date.spec.ts" },
        { id: "TEST-360", description: "SCHEDULE-DISP-003: 開始日が未来の場合「⏳から開始」が表示される", category: "スケジュール", status: "pass", note: "", file: "schedule-start-date.spec.ts" },
        { id: "TEST-361", description: "SCHEDULE-PREVIEW-001: 毎日+開始日でプレビューに開始日が表示される", category: "スケジュール", status: "pass", note: "", file: "schedule-start-date.spec.ts" },
        { id: "TEST-362", description: "SCHEDULE-PREVIEW-002: 曜日指定でプレビューに曜日が表示される", category: "スケジュール", status: "pass", note: "", file: "schedule-start-date.spec.ts" },
        { id: "TEST-363", description: "SCHEDULE-FLOW-001: 新規登録→スケジュール設定フロー", category: "スケジュール", status: "pass", note: "", file: "schedule-start-date.spec.ts" },
        { id: "TEST-364", description: "SCHEDULE-FLOW-002: 編集→スケジュール変更フロー", category: "スケジュール", status: "pass", note: "", file: "schedule-start-date.spec.ts" },
        { id: "SNACK-001", description: "食事入力ページに間食セクションが表示される", category: "その他", status: "pass", note: "", file: "snack-record.spec.ts" },
        { id: "SNACK-002", description: "在庫あり品物がリスト表示される（デモモード）", category: "その他", status: "pass", note: "", file: "snack-record.spec.ts" },
        { id: "SNACK-003", description: "品物に家族指示が表示される", category: "その他", status: "pass", note: "", file: "snack-record.spec.ts" },
        { id: "SNACK-010", description: "品物を選択すると提供記録カードが表示される", category: "その他", status: "pass", note: "", file: "snack-record.spec.ts" },
        { id: "SNACK-011", description: "品物選択時にサジェスト量が設定される", category: "その他", status: "pass", note: "", file: "snack-record.spec.ts" },
        { id: "SNACK-012", description: "摂食状況を選択できる", category: "その他", status: "pass", note: "", file: "snack-record.spec.ts" },
        { id: "SNACK-013", description: "品物を選択解除できる", category: "その他", status: "pass", note: "", file: "snack-record.spec.ts" },
        { id: "SNACK-014", description: "家族へのメモを入力できる", category: "その他", status: "pass", note: "", file: "snack-record.spec.ts" },
        { id: "SNACK-020", description: "サジェスト理由が表示される", category: "その他", status: "pass", note: "", file: "snack-record.spec.ts" },
        { id: "SNACK-021", description: "在庫残量が表示される", category: "その他", status: "pass", note: "", file: "snack-record.spec.ts" },
        { id: "SNACK-030", description: "間食補足テキストを入力できる", category: "その他", status: "pass", note: "", file: "snack-record.spec.ts" },
        { id: "STAFF-001", description: "タブが表示されない（品物から記録のみ）", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-002", description: "ダイアログ内に入力者フィールドが表示される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-003", description: "ダイアログ内にデイサービス選択が表示される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-004", description: "ダイアログ内でデイサービス名は「利用中」選択時のみ表示", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-005", description: "品物リストが直接表示される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-006", description: "ダイアログ内に間食補足フィールドが表示される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-007", description: "ダイアログ内に特記事項フィールドが表示される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-008", description: "ダイアログ内に重要特記事項フラグが表示される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-009", description: "ダイアログ内に写真アップロードが表示される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-010", description: "ダイアログ内に記録保存ボタンが表示される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-011", description: "食事関連フィールドが削除されている", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-012", description: "施設名・利用者名が非表示", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-020", description: "提供・摂食記録ボタンでダイアログが開く", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-021", description: "ダイアログに品物情報が自動表示される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-022", description: "ダイアログ内に摂食割合入力がある（Phase 15.6: 数値入力）", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-023", description: "ダイアログを閉じることができる", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-040", description: "摂食割合を変更するとパーセント表示が更新される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-041", description: "摂食割合が10未満で「残った分への対応」が表示される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-042", description: "「その他」選択時に詳細入力フィールドが表示される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-043", description: "残り対応未選択でバリデーションエラー", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-050", description: "「破棄した」選択時は提供量全てが在庫から引かれる", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-051", description: "「保存した」選択時は食べた分のみ在庫から引かれる", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-052", description: "残り対応切替で残量プレビューが更新される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-053", description: "完食（10割）の場合は残り対応が不要", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-030", description: "入力者名が空の場合はエラー", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-031", description: "デイサービス利用中でデイサービス名未選択はエラー", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-060", description: "ベースページに入力フォームがない", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-061", description: "ベースページに送信ボタンがない", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-062", description: "品物ブロッククリックでダイアログ表示", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-063", description: "ダイアログから記録送信が完了", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-064", description: "品物リストが優先順に表示される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-070", description: "ダイアログ内に写真追加ボタンが表示される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-071", description: "写真ファイル入力が存在する", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-072", description: "写真セクションのラベルが表示される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-080", description: "飲み物カテゴリで水分フォームが固定表示される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-081", description: "食品カテゴリで食事フォームが固定表示される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-083", description: "飲み物カテゴリで水分量入力フィールドが表示される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-084", description: "食べ物カテゴリで摂食割合入力が表示される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-085", description: "飲み物で水分量が自動計算される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-086", description: "水分量を手動編集できる", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-087", description: "特記事項に初期値が設定されている", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-089", description: "食事フォームに絵文字アイコンが表示される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-090", description: "水分フォームに絵文字アイコンが表示される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-091", description: "水分フォームで重要選択が可能", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-092", description: "デイサービス選択が水分フォームでも機能する", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-093", description: "水分フォームで全量消費時は残り対応が非表示", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-094", description: "水分タブで全量未消費時に残り対応が表示される", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-095", description: "水分タブで残り対応未選択時はエラー", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STAFF-096", description: "水分タブで残り対応「破棄した」を選択可能", category: "スタッフ記録", status: "pass", note: "", file: "staff-record-form.spec.ts" },
        { id: "STATS-001", description: "/family → /stats で家族カラー（Orange）が維持される", category: "統計", status: "pass", note: "", file: "stats-page-theme.spec.ts" },
        { id: "STATS-002", description: "/staff/input/meal → /stats でスタッフカラー（Green）が維持される", category: "統計", status: "pass", note: "", file: "stats-page-theme.spec.ts" },
        { id: "STATS-003", description: "/staff/input/meal?admin=true → /stats で管理者カラー（Blue）が維持される", category: "統計", status: "pass", note: "", file: "stats-page-theme.spec.ts" },
        { id: "STATS-010", description: "/demo/family → /demo/stats で家族カラー（Orange）が維持される", category: "統計", status: "pass", note: "", file: "stats-page-theme.spec.ts" },
        { id: "STATS-011", description: "/demo/staff → /demo/stats でスタッフカラー（Green）が維持される", category: "統計", status: "pass", note: "", file: "stats-page-theme.spec.ts" },
        { id: "STATS-020", description: "家族フッターの統計タブクリックで正しく遷移・カラー維持", category: "統計", status: "pass", note: "", file: "stats-page-theme.spec.ts" },
        { id: "STATS-021", description: "スタッフフッターの統計タブクリックで正しく遷移・カラー維持", category: "統計", status: "pass", note: "", file: "stats-page-theme.spec.ts" },
        { id: "STATS-022", description: "デモ家族フッターの統計タブクリックで正しく遷移・カラー維持", category: "統計", status: "pass", note: "", file: "stats-page-theme.spec.ts" },
        { id: "STATS-023", description: "デモスタッフフッターの統計タブクリックで正しく遷移・カラー維持", category: "統計", status: "pass", note: "", file: "stats-page-theme.spec.ts" },
        { id: "TEST-434", description: "VIEW-SORT-001: ページ読み込み時にタイムスタンプ降順でソートされている", category: "記録閲覧", status: "pass", note: "", file: "view-page-sort.spec.ts" },
        { id: "TEST-435", description: "VIEW-SORT-002: 日時カラムヘッダークリックでソート順が切り替わる", category: "記録閲覧", status: "pass", note: "", file: "view-page-sort.spec.ts" },
        { id: "TEST-436", description: "VIEW-SORT-003: 同じ日の異なる時刻が正しくソートされる", category: "記録閲覧", status: "pass", note: "", file: "view-page-sort.spec.ts" },
        { id: "TEST-437", description: "VIEW-SORT-004: モバイルソートセレクタが機能する", category: "記録閲覧", status: "pass", note: "", file: "view-page-sort.spec.ts" }
    ];

    // グローバル変数
    let currentFilter = 'all';
    let currentCategory = 'all';
    let currentSort = { column: 'id', direction: 'asc' };
    let filteredData = [...testData];

    // 初期化
    document.addEventListener('DOMContentLoaded', () => {
        initializePage();
        setupEventListeners();
    });

    function initializePage() {
        updateStats();
        populateCategoryFilter();
        renderTable();
        renderCategorySummary();
    }

    function setupEventListeners() {
        document.getElementById('searchInput').addEventListener('input', debounce(handleSearch, 300));
        document.getElementById('categoryFilter').addEventListener('change', handleCategoryChange);
    }

    function updateStats() {
        const total = testData.length;
        const pass = testData.filter(t => t.status === 'pass').length;
        const skip = testData.filter(t => t.status === 'skip').length;
        const fail = testData.filter(t => t.status === 'fail').length;
        const categories = [...new Set(testData.map(t => t.category))].length;

        document.getElementById('totalCount').textContent = total;
        document.getElementById('passCount').textContent = pass;
        document.getElementById('skipCount').textContent = skip;
        document.getElementById('failCount').textContent = fail;
        document.getElementById('categoryCount').textContent = categories;
    }

    function populateCategoryFilter() {
        const categories = [...new Set(testData.map(t => t.category))].sort();
        const select = document.getElementById('categoryFilter');
        categories.forEach(cat => {
            const option = document.createElement('option');
            option.value = cat;
            option.textContent = cat;
            select.appendChild(option);
        });
    }

    function renderTable() {
        const tbody = document.getElementById('testTableBody');
        tbody.innerHTML = '';

        filteredData.forEach(test => {
            const tr = document.createElement('tr');
            tr.className = 'hover:bg-gray-50';

            const statusClass = test.status === 'pass' ? 'status-pass' :
                               test.status === 'skip' ? 'status-skip' : 'status-fail';
            const statusText = test.status === 'pass' ? 'パス' :
                              test.status === 'skip' ? 'スキップ' : '失敗';

            tr.innerHTML = `
                <td class="px-4 py-3 text-sm font-mono text-gray-900">${test.id}</td>
                <td class="px-4 py-3 text-sm text-gray-700">${test.description}</td>
                <td class="px-4 py-3">
                    <span class="category-badge bg-blue-100 text-blue-700">${test.category}</span>
                </td>
                <td class="px-4 py-3">
                    <span class="px-2 py-1 rounded-full text-xs font-medium ${statusClass}">${statusText}</span>
                </td>
                <td class="px-4 py-3 text-sm text-gray-500">${test.note || '-'}</td>
                <td class="px-4 py-3 text-xs text-gray-400 font-mono">${test.file}</td>
            `;

            tbody.appendChild(tr);
        });
    }

    function renderCategorySummary() {
        const container = document.getElementById('categorySummary');
        const categories = [...new Set(testData.map(t => t.category))].sort();

        container.innerHTML = categories.map(cat => {
            const tests = testData.filter(t => t.category === cat);
            const pass = tests.filter(t => t.status === 'pass').length;
            const skip = tests.filter(t => t.status === 'skip').length;
            const total = tests.length;

            return `
                <div class="p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100"
                     onclick="filterByCategory('${cat}')">
                    <div class="font-medium text-gray-800 text-sm truncate" title="${cat}">${cat}</div>
                    <div class="flex items-center gap-2 mt-1">
                        <span class="text-green-600 text-xs">${pass}パス</span>
                        ${skip > 0 ? `<span class="text-yellow-600 text-xs">${skip}スキップ</span>` : ''}
                        <span class="text-gray-400 text-xs">/ ${total}</span>
                    </div>
                </div>
            `;
        }).join('');
    }

    function filterByStatus(status) {
        currentFilter = status;
        applyFilters();

        // ボタンのアクティブ状態を更新
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.classList.remove('ring-2', 'ring-offset-2');
            if (btn.dataset.status === status) {
                btn.classList.add('ring-2', 'ring-offset-2');
            }
        });
    }

    function filterByCategory(category) {
        currentCategory = category;
        document.getElementById('categoryFilter').value = category;
        applyFilters();
    }

    function handleCategoryChange(e) {
        currentCategory = e.target.value;
        applyFilters();
    }

    function handleSearch(e) {
        const query = e.target.value.toLowerCase();
        applyFilters(query);
    }

    function applyFilters(searchQuery = '') {
        filteredData = testData.filter(test => {
            // ステータスフィルター
            if (currentFilter !== 'all' && test.status !== currentFilter) return false;

            // カテゴリフィルター
            if (currentCategory !== 'all' && test.category !== currentCategory) return false;

            // 検索フィルター
            if (searchQuery) {
                const searchable = `${test.id} ${test.description} ${test.file} ${test.note}`.toLowerCase();
                if (!searchable.includes(searchQuery)) return false;
            }

            return true;
        });

        renderTable();
    }

    function sortTable(column) {
        if (currentSort.column === column) {
            currentSort.direction = currentSort.direction === 'asc' ? 'desc' : 'asc';
        } else {
            currentSort.column = column;
            currentSort.direction = 'asc';
        }

        filteredData.sort((a, b) => {
            const aVal = a[column] || '';
            const bVal = b[column] || '';
            const comparison = aVal.localeCompare(bVal);
            return currentSort.direction === 'asc' ? comparison : -comparison;
        });

        renderTable();
    }

    function debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
            clearTimeout(timeout);
            timeout = setTimeout(() => func.apply(this, args), wait);
        };
    }
    </script>
</body>
</html>
