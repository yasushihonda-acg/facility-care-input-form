# Phase 40: ã‚¹ã‚¿ãƒƒãƒ•æ³¨æ„äº‹é …æ©Ÿèƒ½

## æ¦‚è¦
ã‚¹ã‚¿ãƒƒãƒ•ç”¨ãƒ•ãƒƒã‚¿ãƒ¼ã€Œå®¶æ—é€£çµ¡ã€ã‚’ã€Œæ³¨æ„äº‹é …ã€ã«å¤‰æ›´ã—ã€æ³¨æ„äº‹é …CRUD + å®¶æ—ä¾é ¼ï¼ˆã‚¿ã‚¹ã‚¯ï¼‰è¡¨ç¤ºæ©Ÿèƒ½ã‚’å®Ÿè£…

## ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«
```
Firestore: staffNotes/{noteId}
â”œâ”€â”€ id: string
â”œâ”€â”€ content: string
â”œâ”€â”€ priority: 'critical' | 'warning' | 'normal'
â”œâ”€â”€ startDate?: string    # warning/normalã¯å¿…é ˆ
â”œâ”€â”€ endDate?: string      # warning/normalã¯å¿…é ˆ
â”œâ”€â”€ createdBy: string
â”œâ”€â”€ createdAt: timestamp
â””â”€â”€ updatedAt: timestamp
```

## è¡¨ç¤ºãƒ­ã‚¸ãƒƒã‚¯
- `critical` â†’ å¸¸æ™‚è¡¨ç¤ºï¼ˆæœŸé–“æŒ‡å®šãªã—ï¼‰
- `warning/normal` â†’ æœŸé–“å†…ã®ã¿è¡¨ç¤ºã€æœŸé–“å¤–ã¯éè¡¨ç¤º

## æ–°è¦API
- `getStaffNotes` (GET) - ä¸€è¦§å–å¾—ï¼ˆincludeAll=trueã§æœŸé–“å¤–ã‚‚å«ã‚€ï¼‰
- `createStaffNote` (POST) - ä½œæˆ
- `updateStaffNote` (PUT) - æ›´æ–°
- `deleteStaffNote` (DELETE) - å‰Šé™¤

## æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«
- `functions/src/functions/staffNotes.ts` - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API
- `frontend/src/types/staffNote.ts` - å‹å®šç¾©
- `frontend/src/hooks/useStaffNotes.ts` - React Queryãƒ•ãƒƒã‚¯
- `frontend/src/data/demo/demoStaffNotes.ts` - ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿
- `frontend/src/components/staff/StaffNoteCard.tsx` - ã‚«ãƒ¼ãƒ‰
- `frontend/src/components/staff/StaffNoteModal.tsx` - ãƒ¢ãƒ¼ãƒ€ãƒ«
- `frontend/src/pages/staff/StaffNotesPage.tsx` - ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸

## ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
- `/staff/notes` - æœ¬ç•ªã‚¹ã‚¿ãƒƒãƒ•æ³¨æ„äº‹é …
- `/demo/staff/notes` - ãƒ‡ãƒ¢ã‚¹ã‚¿ãƒƒãƒ•æ³¨æ„äº‹é …

## ãƒ•ãƒƒã‚¿ãƒ¼å¤‰æ›´
- ã‚¹ã‚¿ãƒƒãƒ•ç”¨ãƒ•ãƒƒã‚¿ãƒ¼ç¬¬1ã‚¿ãƒ–: ã€Œå®¶æ—é€£çµ¡ã€â†’ã€Œæ³¨æ„äº‹é …ã€
- ãƒ‘ã‚¹: `/staff/family-messages` â†’ `/staff/notes`

## UIæ§‹æˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“‹ æ³¨æ„äº‹é …            [+è¿½åŠ ]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [æ³¨æ„äº‹é …] [å®¶æ—ä¾é ¼]              â”‚  â† ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”´ è¡€åœ§æ¸¬å®šã¯æœé£Ÿå‰ã«å¿…ãšå®Ÿæ–½      â”‚  â† criticalï¼ˆå¸¸æ™‚ï¼‰
â”‚  âš ï¸  12/25ã€œ1/5 å®¶æ—é¢ä¼šäºˆå®šã‚ã‚Š    â”‚  â† warningï¼ˆæœŸé–“å†…ï¼‰
â”‚  â—‹  å…¥æµ´ã¯æ°´æ›œãƒ»åœŸæ›œã®åˆå‰ä¸­        â”‚  â† normalï¼ˆæœŸé–“å†…ï¼‰
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ã‚³ãƒŸãƒƒãƒˆ
- `57c0ec5` - feat(Phase 40): ã‚¹ã‚¿ãƒƒãƒ•æ³¨æ„äº‹é …æ©Ÿèƒ½å®Ÿè£…
- `0e84237` - feat(Phase 40): ãƒ­ãƒ¼ãƒ«ã«å¿œã˜ãŸåˆæœŸè¡¨ç¤ºãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆå®Ÿè£…

## ãƒã‚°ä¿®æ­£ï¼ˆ2025-12-23ï¼‰
- `0c7fc28` - /demo ãƒšãƒ¼ã‚¸ã§å®¶æ—ãƒ•ãƒƒã‚¿ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œãªã„å•é¡Œã‚’ä¿®æ­£
  - isDemoFamilyPath ã« `/demo` ã‚’è¿½åŠ ï¼ˆroleTheme.ts, FooterNav.tsxï¼‰
- `1d35122` - å®¶æ—ãƒ‡ãƒ¢ãƒ›ãƒ¼ãƒ ã®ã€Œã‚±ã‚¢ã¿ã¾ã‚‚ã‚Šã‚¢ãƒ—ãƒªã€ãƒ–ãƒ­ãƒƒã‚¯ã‚’ãƒ™ãƒ¼ã‚¹ã‚«ãƒ©ãƒ¼å¯¾å¿œ
  - bg-gradient-to-r from-blue-500 â†’ bg-primary (Orange)
